/*! For license information please see app.js.LICENSE.txt */
(()=>{"use strict";var e,t,r,n={2384:(e,t,r)=>{var n=r(6540),a=r(7832),o=r(6668);const i=wp.i18n;var c=r(6710),l=r(33),s=r(5178),u=r(9666),d=r(1468),m=r(5307),f=["id","type","name","min","max","Icon","className","placeholder"];function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p.apply(null,arguments)}const h=function(e){var t=e.id,r=e.type,a=e.name,o=e.min,i=e.max,c=e.Icon,l=e.className,s=e.placeholder,u=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,f);return n.createElement("div",{className:"relative rounded-md"},c&&n.createElement("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-2"},n.createElement(c,{className:"h-4 w-4 text-gray-400","aria-hidden":"true"})),n.createElement("input",p({id:t,name:a,type:r,min:o,max:i,className:"h-[2.3rem] !rounded-lg !border !border-gray-400/60 px-3 ".concat(c&&"pl-8","  !text-[.85rem] !text-gray-900 placeholder:!text-[.82rem] placeholder:!text-gray-400 focus:!border-black focus:!outline-none focus:!ring-0 ").concat(l),placeholder:s},u)))};var v=["Icon","spinIcon","text","className"];function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y.apply(null,arguments)}const g=function(e){var t=e.Icon,r=void 0===t?null:t,a=e.spinIcon,o=void 0!==a&&a,i=e.text,c=e.className,l=void 0===c?"":c,s=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,v);return n.createElement("button",y({type:"submit",className:"inline-flex h-[2.3rem] w-full items-center justify-center gap-x-2 whitespace-nowrap rounded-md bg-primary px-3 text-sm text-white shadow-sm hover:opacity-90 hover:shadow-sm hover:shadow-gray-400 sm:w-auto ".concat(l)},s),r&&n.createElement(r,{className:"text-[1.2rem] text-white ".concat(o?"animate-spin":"")}),i)};var b=["Icon","shouldAnimate","text","className"];function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x.apply(null,arguments)}const w=function(e){var t=e.Icon,r=void 0===t?null:t,a=e.shouldAnimate,o=void 0!==a&&a,i=e.text,c=e.className,l=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,b);return n.createElement("button",x({type:"submit",className:"inline-flex h-[2rem] items-center justify-center gap-x-2 whitespace-nowrap rounded-md border border-primary bg-gray-50 px-2 text-[.85rem] text-primary shadow-sm hover:opacity-90 hover:shadow-md sm:w-auto ".concat(c," ")},l),r&&n.createElement(r,{className:"text-[1rem] text-primary ".concat(o?"animate-spin":"")}),i)};var _=r(9828),E=r(4738);function N(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")}const k=function(e){var t=e.text,r=e.textStyle,a=void 0===r?"font-medium":r,o=e.toggleSize,i=void 0===o?"normal":o,c=e.isActive,l=void 0!==c&&c,s=e.toggleChangeCallback,u=e.bgColor,d=void 0===u?"bg-[#2271b1]":u,m="small"===i?"h-5 w-10":"h-6 w-11",f="small"===i?"h-4 w-4":"h-5 w-5";return n.createElement(_.D,{as:"div",className:"flex items-center"},n.createElement(E.dO,{checked:l,onChange:function(e){s&&s(e)},className:N(l?d:"bg-gray-300","relative inline-flex flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none",m)},n.createElement("span",{"aria-hidden":"true",className:N(l?"translate-x-5":"translate-x-0","pointer-events-none inline-block transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",f)})),t&&n.createElement("span",{className:"ml-3 flex items-center gap-2 text-sm"},n.createElement("span",{className:"text-gray-900 ".concat(a)},t)))};function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const L=function(e){var t=e.children,r=e.content,a=e.iconSize,o=void 0===a?"text-[1rem]":a,i=e.iconColor,c=void 0===i?"text-gray-500":i,s=e.className,u=void 0===s?"":s,d=e.position,m=void 0===d?"top":d,f=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,n.useState)(!1),2),p=f[0],h=f[1],v=(0,n.useRef)(null);(0,n.useEffect)((function(){return function(){clearTimeout(v.current)}}),[]);var y=function(){clearTimeout(v.current),v.current=setTimeout((function(){h(!0)}),300)},g=function(){clearTimeout(v.current),v.current=setTimeout((function(){h(!1)}),100)},b="top"===m?"bottom-full mb-2":"top-full mt-2",x="top"===m?"top-full":"bottom-full";return n.createElement("div",{className:"relative flex justify-center ".concat(u)},n.createElement("div",{onMouseEnter:y,onMouseLeave:g},t||n.createElement(l.Y4n,{className:"mt-[3px] ".concat(o," ").concat(c)})),p&&n.createElement("div",{onMouseEnter:y,onMouseLeave:g,className:"absolute ".concat(b," !z-50 w-[100px] transform rounded-xl bg-gray-800 p-4 !text-left text-[.82rem] !font-normal text-white shadow-lg hover:!cursor-default sxs:w-[200px] sm:w-[250px]")},r&&n.createElement("div",null,r),n.createElement("div",{className:"absolute left-1/2 ".concat(x," h-0 w-0 -translate-x-1/2 transform border-l-[6px] border-r-[6px] ").concat("top"===m?"border-t-[6px] border-t-gray-800":"border-b-[6px] border-b-gray-800"," border-transparent content-['']")})))},j=function(e){var t=e.children,r=e.content,a=e.line2,o=void 0===a?"":a,i=e.align,c=function(e){switch(e){case"left":return{position:"bottom-[calc(100%+0.5rem)] left-0",animation:"translate-y-2 group-hover:translate-y-0"};case"right":default:return{position:"bottom-[calc(100%+0.5rem)] right-0",animation:"translate-y-2 group-hover:translate-y-0"};case"bottom-left":return{position:"top-[calc(100%+0.5rem)] left-0",animation:"-translate-y-2 group-hover:translate-y-0"};case"bottom-right":return{position:"top-[calc(100%+0.5rem)] right-0",animation:"-translate-y-2 group-hover:translate-y-0"}}}(void 0===i?"right":i),l=c.position,s=c.animation;return n.createElement("span",{className:"group relative inline-flex"},n.createElement("div",{className:"".concat("pointer-events-none absolute z-50 opacity-0 scale-95 whitespace-nowrap transition-all duration-200 ease-out group-hover:opacity-100 group-hover:scale-100"," ").concat(l," ").concat(s)},n.createElement("div",{className:"rounded-lg bg-zinc-700 px-2 py-1 text-[.82rem] font-semibold text-white shadow-md"},r,o&&n.createElement("div",{className:"text-[.75rem] font-normal text-gray-300"},o))),t)};var O=["Icon","href","target","className","children"];function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T.apply(null,arguments)}const P=function(e){var t=e.Icon,r=e.href,a=e.target,o=void 0===a?"_self":a,i=e.className,c=e.children,l=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,O);return n.createElement("a",T({href:r,target:"_blank"===o?"_blank":"_self",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-x-2 font-semibold text-gray-800 underline hover:text-blue-500 hover:underline focus:ring-0 sm:w-auto ".concat(i," ")},l),t&&n.createElement(t,{className:"text-[1.2rem] text-black"}),c)};var I=(0,i.__)("Loading data ..","advanced-database-cleaner");const C=function(e){var t=e.text,r=void 0===t?I:t,a=e.size,o=void 0===a?"text-[1.5rem]":a,i=e.spinnerColor,c=void 0===i?"text-primary":i;return n.createElement("div",{className:"flex items-center gap-1"},n.createElement(s.JbZ,{className:"animate-spin ".concat(o," ").concat(c)}),""!==r&&n.createElement("span",{className:"ml-2"},r))};var A=r(2682),F=adbc_app_settings.settings||[],M=adbc_app_settings.license_data||{},G=adbc_app_settings.nonce||"",D=adbc_app_settings.version||"",z=adbc_app_settings.version_type||"",R=adbc_app_settings.warnings||[],B=adbc_app_settings.notifications||[],U=adbc_app_settings.is_multisite||"0",W=adbc_app_settings.sites_list||[],Y=adbc_app_settings.rest_url||"",K=adbc_app_settings.actionscheduler_actions_exists||"0",$=adbc_app_settings.actionscheduler_logs_exists||"0",q=Number(adbc_app_settings.php_max_execution_time)||120,H="FREE"===z?"adbc-free":"adbc-premium",V=r(1083),Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.method,n=void 0===r?"GET":r,a=t.params,o=void 0===a?{}:a,i=t.data,c=void 0===i?{}:i,l=t.cancelToken;return new Promise((function(t,r){(0,V.A)({url:e,method:n,params:o,data:c,headers:{"X-WP-Nonce":G,"Content-Type":"application/json"},cancelToken:l,timeout:1e3*q}).then((function(e){t(e.data)})).catch((function(e){var t,n,a,o,i={status:null!==(t=null===(n=e.response)||void 0===n?void 0:n.status)&&void 0!==t?t:0,message:null!==(a=null===(o=e.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.message)&&void 0!==a?a:e.message,code:e.code};r(i)}))}))};function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function X(){X=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==J(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(J(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Z(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function ee(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Z(o,n,a,i,c,"next",e)}function c(e){Z(o,n,a,i,c,"throw",e)}i(void 0)}))}}function te(e){return re.apply(this,arguments)}function re(){return(re=ee(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/get-column-value-from-table",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){return ae.apply(this,arguments)}function ae(){return(ae=ee(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/dismiss-notification",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(){return ie.apply(this,arguments)}function ie(){return(ie=ee(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/get-all-schedule-frequencies",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(){return le.apply(this,arguments)}function le(){return(le=ee(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/migration/get-available-migration-data",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e){return ue.apply(this,arguments)}function ue(){return(ue=ee(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/migration/migrate-data",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var de=r(5504),me=r(1612),fe=r(7008),pe=r(9826),he=r(9644),ve=r(9584),ye=r(819),ge=r(5414),be={processFilter:1,search:"",searchIn:"name",size:0,sizeUnit:"KB",site:"all",belongsTo:"all",belongsToPluginSlug:"",belongsToThemeSlug:"",showManualCorrectionsOnly:!1,currentPage:1,itemsPerPage:50,sortBy:"",sortOrder:"ASC",tableStatus:"all",prefixStatus:"all",autoload:"all",expired:"all",duplicated:"all",unused:"all",frequency:"all",interval:"all",hasAction:"all"},xe=(0,m.Z0)({name:"filter",initialState:be,reducers:{setFilters:function(e,t){var r=t.payload;for(var n in r)e[n]=r[n];e.currentPage=1,e.processFilter+=1},setToOptimizePresetFilter:function(e){xe.caseReducers.resetSearchFilters(e),e.tableStatus="to_optimize",e.sortBy="overhead",e.sortOrder="DESC"},setToRepairPresetFilter:function(e){xe.caseReducers.resetSearchFilters(e),e.tableStatus="to_repair"},setInvalidPrefixPresetFilter:function(e){xe.caseReducers.resetSearchFilters(e),e.prefixStatus="invalid_prefix"},setNotScannedPresetFilter:function(e){xe.caseReducers.resetSearchFilters(e),e.belongsTo="not_scanned"},setBigItemsPresetFilter:function(e){xe.caseReducers.resetSearchFilters(e),e.size=150,e.sortBy="size",e.sortOrder="DESC"},setAutoloadPresetFilter:function(e){xe.caseReducers.resetSearchFilters(e),e.autoload="yes",e.sortBy="size",e.sortOrder="DESC"},setExpiredTransientsPresetFilter:function(e){xe.caseReducers.resetSearchFilters(e),e.expired="yes"},setUnusedMetaPresetFilter:function(e){xe.caseReducers.resetSearchFilters(e),e.unused="yes"},setDuplicatedMetaPresetFilter:function(e){xe.caseReducers.resetSearchFilters(e),e.duplicated="yes"},setCronNoActionPresetFilter:function(e){xe.caseReducers.resetSearchFilters(e),e.hasAction="no"},setBelongsTo:function(e,t){e.belongsTo=t.payload,e.belongsToPluginSlug="",e.belongsToThemeSlug="",e.currentPage=1},setBelongsToPluginSlug:function(e,t){e.belongsToPluginSlug=t.payload,e.belongsTo="",e.belongsToThemeSlug="",e.currentPage=1},setBelongsToThemeSlug:function(e,t){e.belongsToThemeSlug=t.payload,e.belongsTo="",e.belongsToPluginSlug="",e.currentPage=1},setSorting:function(e,t){var r=t.payload.newSortBy;e.sortBy===r?e.sortOrder="ASC"===e.sortOrder?"DESC":"ASC":(e.sortBy=r,e.sortOrder="ASC"),e.currentPage=1},setCurrentPage:function(e,t){e.currentPage=t.payload},resetSearchFilters:function(e){var t=e.itemsPerPage,r=e.sortBy,n=e.sortOrder,a=e.processFilter;Object.assign(e,be),e.itemsPerPage=t,e.sortBy=r,e.sortOrder=n,e.processFilter=a+1},resetAllFilters:function(e){var t=e.itemsPerPage;Object.assign(e,be),e.itemsPerPage=t},forceRefreshData:function(e){e.processFilter+=1}}}),we=xe.actions,_e=we.setFilters,Ee=we.setToOptimizePresetFilter,Ne=we.setToRepairPresetFilter,ke=we.setInvalidPrefixPresetFilter,Se=we.setNotScannedPresetFilter,Le=we.setBigItemsPresetFilter,je=we.setAutoloadPresetFilter,Oe=we.setExpiredTransientsPresetFilter,Te=we.setUnusedMetaPresetFilter,Pe=we.setDuplicatedMetaPresetFilter,Ie=we.setCronNoActionPresetFilter,Ce=we.setBelongsTo,Ae=we.setBelongsToPluginSlug,Fe=we.setBelongsToThemeSlug,Me=we.setSorting,Ge=we.setCurrentPage,De=we.resetSearchFilters,ze=we.resetAllFilters,Re=we.forceRefreshData;const Be=xe.reducer;var Ue=function(e){return""!==e.filter.search||"name"!==e.filter.searchIn||"all"!==e.filter.tableStatus||"all"!==e.filter.prefixStatus||e.filter.size>0||"KB"!==e.filter.sizeUnit||"all"!==e.filter.site||"all"!==e.filter.belongsTo||""!==e.filter.belongsToPluginSlug||""!==e.filter.belongsToThemeSlug||!0===e.filter.showManualCorrectionsOnly||"all"!==e.filter.autoload||"all"!==e.filter.expired||"all"!==e.filter.duplicated||"all"!==e.filter.unused||"all"!==e.filter.frequency||"all"!==e.filter.interval||"all"!==e.filter.hasAction},We=function(e){return""!==e.filter.search||"name"!==e.filter.searchIn||"all"!==e.filter.tableStatus||"all"!==e.filter.prefixStatus||e.filter.size>0||"all"!==e.filter.site||"all"!==e.filter.autoload||"all"!==e.filter.expired||"all"!==e.filter.duplicated||"all"!==e.filter.unused||"all"!==e.filter.frequency||"all"!==e.filter.interval||"all"!==e.filter.hasAction},Ye=[[{key:25,label:"25"},{key:50,label:"50"},{key:100,label:"100"},{key:200,label:"200"}]],Ke=Ye.flat();const $e=function(){var e,t=(0,d.d4)((function(e){return e.filter.itemsPerPage})),r=(0,d.wA)(),a=null!==(e=Ke.find((function(e){return e.key===t})))&&void 0!==e?e:Ke[0];return n.createElement("div",{className:"flex flex-col items-center gap-x-2 gap-y-2 sxs:flex-row"},n.createElement("span",null,(0,i.__)("Items per page","advanced-database-cleaner")),n.createElement(uf,{selectItems:Ye,selectedItem:a,onSelectionChange:function(e){r(_e({itemsPerPage:e}))},minWidthButton:"min-w-[60px]",minWidthContent:"min-w-[80px]",borderColor:"border-gray-400",extraBtnClasses:"!h-[1.6rem]"}))};function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const He=function(e){var t=e.top,r=void 0!==t&&t,a=e.totalItems,o=void 0===a?0:a,c=e.onRefresh,l=e.loading,u=e.filterApplied,m=void 0!==u&&u,f=e.additionalStyle,p=void 0===f?"":f,v=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qe(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,n.useState)(1),2),y=v[0],g=v[1],b=(0,d.d4)((function(e){return e.filter.itemsPerPage})),x=(0,d.d4)((function(e){return e.filter.currentPage})),w=(0,d.wA)(),_=Math.ceil(o/b);(0,n.useEffect)((function(){g(x)}),[x]);var E=function(e){e>=1&&e<=_&&w(Ge(e))};return n.createElement("div",{className:"flex items-center gap-x-3"},r&&n.createElement(j,{content:(0,i.__)("Refresh data","advanced-database-cleaner")},n.createElement(P,{href:"#",onClick:c},n.createElement(s.JbZ,{className:"text-[1.1rem] ".concat(l?"animate-spin":"")}))),n.createElement("div",{className:"sxs:item-center items-left flex flex-col gap-x-1 gap-y-2 sxs:flex-row ".concat(p)},n.createElement("div",{className:"flex items-center justify-center gap-x-1"},n.createElement("span",{className:"font-medium"},o)," ",(0,i._n)("item","items",o,"advanced-database-cleaner"),m&&n.createElement("span",{className:"italic text-red-700"},(0,i.__)("[Filter applied]","advanced-database-cleaner"))),o>0&&n.createElement("form",{onSubmit:function(e){e.preventDefault();var t=Number(y);!isNaN(t)&&t>=1&&t<=_?w(Ge(t)):g(x)}},n.createElement("div",{className:"ml-3 flex items-center gap-x-1"},n.createElement("button",{type:"button",className:"flex w-auto rounded-md border bg-gray-100/80 px-1 py-[5px] hover:bg-gray-100 sxs:px-2 ".concat(1===x?"border-gray-200":"border-gray-400"),disabled:1===x,onClick:function(){return E(1)}},n.createElement(he.U6K,null)),n.createElement("button",{type:"button",className:"flex w-auto rounded-md border bg-gray-100/80 px-1 py-[5px] hover:bg-gray-100 sxs:px-2 ".concat(1===x?"border-gray-200":"border-gray-400"),disabled:1===x,onClick:function(){return E(x-1)}},n.createElement(he.Wup,null)),n.createElement(h,{className:"!h-[1.6rem] w-[4rem] !border-gray-400 px-0 py-[5px] text-center text-[.85rem]",value:y,onChange:function(e){return g(e.target.value)},disabled:1===_}),n.createElement("span",{className:"mx-2 whitespace-nowrap"},(0,i.__)("of","advanced-database-cleaner")," ",_),n.createElement("button",{type:"button",className:"flex w-auto rounded-md border bg-gray-100/80 px-1 py-[5px] hover:bg-gray-100 sxs:px-2 ".concat(x===_?"border-gray-200":"border-gray-400"),disabled:x===_,onClick:function(){return E(x+1)}},n.createElement(he.mny,null)),n.createElement("button",{type:"button",className:"flex w-auto rounded-md border bg-gray-100/80 px-1 py-[5px] hover:bg-gray-100 sxs:px-2 ".concat(x===_?"border-gray-200":"border-gray-400"),disabled:x===_,onClick:function(){return E(_)}},n.createElement(he.b0J,null))),n.createElement("button",{type:"submit",className:"hidden"},"Submit"))))};var Ve=r(5781);function Qe(e){return Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe(e)}function Je(){Je=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Qe(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(Qe(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Xe(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Ze(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Xe(o,n,a,i,c,"next",e)}function c(e){Xe(o,n,a,i,c,"throw",e)}i(void 0)}))}}function et(){return tt.apply(this,arguments)}function tt(){return(tt=Ze(Je().mark((function e(){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/get-addons-list",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rt(e){return nt.apply(this,arguments)}function nt(){return(nt=Ze(Je().mark((function e(t){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/get-addons-activity-timeline",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function at(e){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},at(e)}function ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return it(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?it(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ct(){ct=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==at(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(at(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function lt(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}var st=function(e){var t=Math.abs(e),r=e,n="B";return t>=Math.pow(1024,3)?(r=e/Math.pow(1024,3),n="GB"):t>=Math.pow(1024,2)?(r=e/Math.pow(1024,2),n="MB"):t>=1024&&(r=e/1024,n="KB"),r=Math.trunc(100*r)/100,"".concat(r," ").concat(n)},ut=function(e){return isNaN(e)?"??":function(e){for(var t=Math.floor(e),r=[],n=0,a=[{singular:(0,i.__)("year","advanced-database-cleaner"),plural:(0,i.__)("years","advanced-database-cleaner"),seconds:31536e3},{singular:(0,i.__)("month","advanced-database-cleaner"),plural:(0,i.__)("months","advanced-database-cleaner"),seconds:2592e3},{singular:(0,i.__)("week","advanced-database-cleaner"),plural:(0,i.__)("weeks","advanced-database-cleaner"),seconds:604800},{singular:(0,i.__)("day","advanced-database-cleaner"),plural:(0,i.__)("days","advanced-database-cleaner"),seconds:86400},{singular:(0,i.__)("hour","advanced-database-cleaner"),plural:(0,i.__)("hours","advanced-database-cleaner"),seconds:3600},{singular:(0,i.__)("min","advanced-database-cleaner"),plural:(0,i.__)("mins","advanced-database-cleaner"),seconds:60},{singular:(0,i.__)("sec","advanced-database-cleaner"),plural:(0,i.__)("secs","advanced-database-cleaner"),seconds:1}];n<a.length;n++){var o=a[n];if(t>=o.seconds){var c=Math.floor(t/o.seconds);t-=c*o.seconds,r.push("".concat(c," ").concat(1===c?o.singular:o.plural))}}return 0===r.length&&r.push("0 ".concat((0,i.__)("secs","advanced-database-cleaner"))),r.join(", ")}(e)},dt=function(e){if(!e&&0!==e)return"??";var t=Number(e);if(Number.isNaN(t))return"??";var r=String(t).length>=13?t:1e3*t,n=new Date(r),a=new Date,o=Math.floor((a-n)/1e3);if(o<0&&(o=0),0===o)return(0,i.__)("just now","advanced-database-cleaner");var c=o,l=Math.floor(c/86400);c-=86400*l;var s=Math.floor(c/3600);c-=3600*s;var u=Math.floor(c/60),d=c-=60*u,m=[],f=function(e,t){switch(t){case"day":return(0,i.sprintf)((0,i._n)("%1$d day","%1$d days",e,"advanced-database-cleaner"),e);case"hour":return(0,i.sprintf)((0,i._n)("%1$d hour","%1$d hours",e,"advanced-database-cleaner"),e);case"minute":return(0,i.sprintf)((0,i._n)("%1$d minute","%1$d minutes",e,"advanced-database-cleaner"),e);default:return(0,i.sprintf)((0,i._n)("%1$d second","%1$d seconds",e,"advanced-database-cleaner"),e)}};l>0?(m.push(f(l,"day")),s>0&&m.push(f(s,"hour")),u>0&&m.push(f(u,"minute"))):s>0?(m.push(f(s,"hour")),u>0&&m.push(f(u,"minute"))):u>0?(m.push(f(u,"minute")),d>0&&m.push(f(d,"second"))):m.push(f(d,"second"));var p=m.join(" ");return(0,i.sprintf)((0,i.__)("%s ago","advanced-database-cleaner"),p)},mt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=new Date,n=new Date(1e3*e);if(isNaN(n.getTime())||n<=r)return"";for(var a=Math.floor((n-r)/1e3),o=function(e,t){switch(e){case"year":return(0,i.sprintf)((0,i._n)("%d year","%d years",t,"advanced-database-cleaner"),t);case"month":return(0,i.sprintf)((0,i._n)("%d month","%d months",t,"advanced-database-cleaner"),t);case"day":return(0,i.sprintf)((0,i._n)("%d day","%d days",t,"advanced-database-cleaner"),t);case"hour":return(0,i.sprintf)((0,i._n)("%d hour","%d hours",t,"advanced-database-cleaner"),t);case"minute":return(0,i.sprintf)((0,i._n)("%d min","%d mins",t,"advanced-database-cleaner"),t);default:return(0,i.sprintf)((0,i._n)("%d sec","%d secs",t,"advanced-database-cleaner"),t)}},c=[],l=0,s=[{id:"year",seconds:31536e3},{id:"month",seconds:2592e3},{id:"day",seconds:86400},{id:"hour",seconds:3600},{id:"minute",seconds:60},{id:"second",seconds:1}];l<s.length;l++){var u=s[l],d=u.id,m=u.seconds,f=Math.floor(a/m);if(f>0&&(c.push(o(d,f)),a-=f*m,c.length===t))break}return c.length?c.join(", "):(0,i.sprintf)((0,i._n)("%d second","%d seconds",0,"advanced-database-cleaner"),0)},ft=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=13===String(e).length?Number(e):1e3*Number(e),o=new Date(a),i=function(e){return e.toString().padStart(2,"0")},c=n?o.getUTCFullYear():o.getFullYear(),l=i((n?o.getUTCMonth():o.getMonth())+1),s=i(n?o.getUTCDate():o.getDate());if(!t)return"".concat(c,"-").concat(l,"-").concat(s);var u=i(n?o.getUTCHours():o.getHours()),d=i(n?o.getUTCMinutes():o.getMinutes()),m=i(n?o.getUTCSeconds():o.getSeconds());return r?"".concat(c,"-").concat(l,"-").concat(s," ").concat(u,":").concat(d,":").concat(m):"".concat(c,"-").concat(l,"-").concat(s," ").concat(u,":").concat(d)},pt=function(){var e,t=(e=ct().mark((function e(t){var r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.clipboard){e.next=2;break}return e.abrupt("return",!1);case 2:return r=document.getElementById(t).innerText,e.next=5,navigator.clipboard.writeText(r);case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){lt(o,n,a,i,c,"next",e)}function c(e){lt(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),ht=r(2072);function vt(e){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vt(e)}function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function gt(e,t,r){return(t=function(e){var t=function(e){if("object"!=vt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=vt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==vt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var bt=function(){for(var e=[],t=0;t<=9;t++){var r=new Date;r.setDate(r.getDate()-t),r.setHours(10,15,0,0);var n=Math.floor(r.getTime()/1e3),a={revisions:Math.floor(1*Math.random())+1,auto_drafts:Math.floor(2*Math.random())+1,trashed_posts:Math.floor(1*Math.random())+1,unapproved_comments:Math.floor(2*Math.random())+1,spam_comments:Math.floor(1*Math.random())+1,expired_transients:Math.floor(2*Math.random())+1,unused_postmeta:Math.floor(1*Math.random())+1,duplicated_postmeta:Math.floor(2*Math.random())+1,unused_usermeta:Math.floor(1*Math.random())+1,duplicated_usermeta:Math.floor(2*Math.random())+1};e.push(gt({},n,a))}return{success:!0,message:"Success",data:{events:e,total_items:e.length,real_current_page:1}}},xt=function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0),r=["activation","deactivation","uninstall"],n=[2,5,8,11,13,17,21,24,27,31,36,41,45,52,58],a=[];return[["Advanced Database Cleaner Premium","advanced-database-cleaner-premium"],["Advanced Database Cleaner","advanced-database-cleaner"],["WooCommerce","woocommerce"],["Yoast SEO","wordpress-seo"],["Jetpack","jetpack"],["Contact Form 7","contact-form-7"],["Elementor","elementor"],["WPForms","wpforms-lite"],["MailPoet","mailpoet"],["Rank Math SEO","seo-by-rank-math"],["Polylang","polylang"],["Twenty Twenty-Four","twentytwentyfour"],["Astra","astra"],["GeneratePress","generatepress"],["Classic Editor","classic-editor"]].forEach((function(e,o){var i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return yt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),c=i[0],l=i[1],s=n[o%n.length],u=new Date(t.getTime());u.setDate(u.getDate()-s);var d=37*o%600+540;u.setMinutes(u.getMinutes()+d);var m=r[o%r.length];a.push({timestamp:Math.floor(u.getTime()/1e3),addon_name:c,slug:l,activity_type:m})})),{success:!0,message:"",data:{total:a.length,activity_timeline:a}}},wt=function(){var e=Et(20),t=60,r=28,n={};return e.forEach((function(e,a){var o=2.8*Math.sin(a/2.8)+.6*Math.cos(a/4.1)+(a%5==0?.4:a%3==0?-.3:.15);t=Math.max(40,t+o);var i=[],c=[];4===a?i=["wp_yoast_indexable"]:9===a?i=["wp_wc_orders","wp_wc_order_stats"]:14===a&&(c=["wp_woocommerce_sessions"]),r+=i.length-c.length,n[e]={s:Math.round(1024*t*1024).toString(),t:r,a:i,d:c}})),{success:!0,message:"",data:n}},_t=function(){var e=Et(20),t={wp_options:{size_mb:2.5,rows:900,cols:4},wp_posts:{size_mb:6,rows:120,cols:23},wp_users:{size_mb:.35,rows:7,cols:13}},r={};return["wp_options","wp_posts","wp_users"].forEach((function(n){var a=t[n],o=Math.round(1024*a.size_mb*1024),i=a.rows,c=a.cols,l={};e.forEach((function(e,t){var r,a,s;"wp_options"===n?(r=Math.round(50*Math.sin(t/2.8)+25*Math.cos(t/3.5)),a=Math.round(1.8*Math.sin(t/2.3)+.5*Math.cos(t/3.1)),s=7===t?1:14===t?-1:0):"wp_posts"===n?(r=Math.round(100*Math.sin(t/2.5)+40*Math.cos(t/4)),a=Math.round(3.2*Math.sin(t/2)+.8*Math.cos(t/3.4)),s=6===t?1:0):(r=Math.round(18*Math.sin(t/2.2)+9*Math.cos(t/3.6)),a=Math.round(.9*Math.sin(t/2.1)+.4*Math.cos(t/2.9)),s=0);var u=Math.max(51200,o+1024*r),d=Math.max(0,i+a),m=Math.max(1,c+s);l[e]={s:Math.round(u),r:Math.round(d),c:Math.round(m),z:Math.round(u-o),w:Math.round(d-i),m:Math.round(m-c)},o=u,i=d,c=m})),r[n]=l})),{success:!0,message:"",data:r}},Et=function(e){for(var t=[],r=new Date,n=e-1;n>=0;n--){var a=new Date(r);a.setDate(r.getDate()-n),t.push(a.toISOString().split("T")[0])}return t},Nt=(0,m.Z0)({name:"notification",initialState:{forceRender:0,show:!1,type:"success",title:(0,i.__)("Success!","advanced-database-cleaner"),message:"",autoHide:!0,hideAfter:5},reducers:{showNotification:function(e,t){e.forceRender+=1,e.show=!0,e.type=t.payload.type||e.type,e.title=t.payload.title||e.title,e.message=t.payload.message||e.message,e.autoHide=!1!==t.payload.autoHide,e.hideAfter=t.payload.hideAfter||e.hideAfter},hideNotification:function(e){e.forceRender=0,e.show=!1,e.type="success",e.title=(0,i.__)("Success!","advanced-database-cleaner"),e.message="",e.autoHide=!0,e.hideAfter=5}}}),kt=Nt.actions,St=kt.showNotification,Lt=kt.hideNotification;const jt=Nt.reducer;var Ot=function(e,t){e(St({type:"success",title:(0,i.__)("Success!","advanced-database-cleaner"),message:t||(0,i.__)("Done!","advanced-database-cleaner"),hideAfter:5}))},Tt=function(e){e(St({type:"success",title:(0,i.__)("Done!","advanced-database-cleaner"),message:(0,i.__)("Successfully saved!","advanced-database-cleaner"),autoHide:!0,hideAfter:2}))},Pt=function(e,t){e(St({type:"error",title:(0,i.__)("Error!","advanced-database-cleaner"),message:t||(0,i.__)("Unknown error occurred!","advanced-database-cleaner"),autoHide:!1}))},It=function(e,t,r){e(St({type:"info",title:t||(0,i.__)("Info!","advanced-database-cleaner"),message:r||(0,i.__)("Done!","advanced-database-cleaner"),autoHide:!0,hideAfter:5}))},Ct=function(e,t){e(St(t))};function At(e){return At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},At(e)}function Ft(){Ft=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==At(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(At(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Mt(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Dt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Dt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var zt=[[{key:"",label:(0,i.__)("All","advanced-database-cleaner")}],[{key:"activation",label:(0,i.__)("Activation","advanced-database-cleaner")},{key:"deactivation",label:(0,i.__)("Deactivation","advanced-database-cleaner")},{key:"uninstall",label:(0,i.__)("Uninstall","advanced-database-cleaner")}]],Rt=zt.flat();function Bt(e){return Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bt(e)}function Ut(){Ut=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Bt(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(Bt(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Wt(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Yt(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Wt(o,n,a,i,c,"next",e)}function c(e){Wt(o,n,a,i,c,"throw",e)}i(void 0)}))}}function Kt(e){return $t.apply(this,arguments)}function $t(){return($t=Yt(Ut().mark((function e(t){return Ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/get-database-chart-data-by-day",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qt(e){return Ht.apply(this,arguments)}function Ht(){return(Ht=Yt(Ut().mark((function e(t){return Ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/get-database-chart-data-by-month",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vt(e){return Qt.apply(this,arguments)}function Qt(){return(Qt=Yt(Ut().mark((function e(t){return Ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/get-tables-chart-data-by-day",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jt(e){return Xt.apply(this,arguments)}function Xt(){return(Xt=Yt(Ut().mark((function e(t){return Ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/get-tables-chart-data-by-month",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zt(){return er.apply(this,arguments)}function er(){return(er=Yt(Ut().mark((function e(){return Ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/get-last-week-database-size",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tr(){return rr.apply(this,arguments)}function rr(){return(rr=Yt(Ut().mark((function e(){return Ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/get-last-week-database-size-for-free-version",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nr(e){return nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nr(e)}function ar(){ar=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==nr(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(nr(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function or(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function ir(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return cr(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const lr=function(){var e=ir((0,n.useState)(!0),2),t=e[0],r=e[1],a=ir((0,n.useState)(null),2),o=a[0],l=a[1],u=ir((0,n.useState)(0),2),m=u[0],f=u[1],p=ir((0,n.useState)("--"),2),h=p[0],v=p[1],y=(0,d.wA)(),g=function(){var e,t=(e=ar().mark((function e(){var t,n,a,o,i,c;return ar().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r(!0),e.prev=1,"PREMIUM"!==z){e.next=8;break}return e.next=5,Zt();case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,tr();case 10:e.t0=e.sent;case 11:t=e.t0,n=t.data,(a=Object.entries(null!=n?n:{})).length>=2&&(o=Number(a.at(-1)[1]),i=Number(a.at(-2)[1]),l(o),0!==i?(f(c=o-i),v("".concat(c>0?"+":"-").concat(st(Math.abs(c))))):v("--")),e.next=19;break;case 17:e.prev=17,e.t1=e.catch(1);case 19:return e.prev=19,r(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[1,17,19,22]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){or(o,n,a,i,c,"next",e)}function c(e){or(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();(0,n.useEffect)((function(){g()}),[]);var b=m<0?"text-green-600":m>0?"text-red-500":"text-gray-400";return n.createElement("div",{className:"flex items-center gap-2"},null!==o&&n.createElement("div",{className:"hidden items-center gap-2 rounded-full border border-blue-100 bg-blue-50 px-3 py-1 text-sm text-blue-700 sm:flex ".concat(t?"opacity-50":"")},n.createElement("button",{onClick:function(e){e.preventDefault(),y(Mm({tabId:"analytics"}))},className:"flex items-center gap-2 rounded-xl px-2 py-0.5 transition-colors hover:bg-blue-200"},n.createElement(c.JJQ,{className:"h-4 w-4"}),n.createElement("span",{className:"font-medium"},st(o)),"PREMIUM"===z&&"--"!==h&&n.createElement("span",{className:"text-xs ".concat(b)},"(",h,")")),n.createElement("button",{onClick:g,className:"rounded-full transition-colors hover:bg-blue-200",disabled:t},n.createElement(s.JbZ,{className:"h-[14px] w-[14px] ".concat(t?"animate-spin":"")}))),n.createElement(P,{href:"#",onClick:function(e){e.preventDefault(),y(Rm())},className:"flex items-center gap-1 rounded-full bg-gray-100 px-3 py-1 text-sm text-gray-700 !no-underline transition-colors hover:bg-gray-200"},n.createElement("div",{className:"h-4 w-4"},n.createElement(ve.Kt4,{className:"text-[1.1rem]"})),(0,i.__)("Support","advanced-database-cleaner")))},sr=function(e){var t=e.tabsItems,r=(0,d.d4)((function(e){return e.shared.currentSubTabId}))||t[0].id,a=(0,d.wA)();return n.createElement("div",null,n.createElement("div",{className:"mb-8 flex gap-8 border-b border-gray-100 bg-gray-100 px-4"},t.map((function(e){return n.createElement("button",{key:e.id+"-tab",className:(t=r===e.id,N("flex items-center text-[.9rem] py-[14px] font-semibold",t?"text-black border-b-[2px] border-gray-900":"text-gray-500 border-b-[2px] border-transparent hover:text-black")),onClick:function(){a(Mm({subTabId:e.id})),a(Af())}},e.Icon&&n.createElement(e.Icon,{className:"mr-2 text-[1rem]"}),e.name);var t}))),n.createElement("div",null,t.map((function(e){return r===e.id&&n.createElement("div",{key:e.id+"-panel"},e.component)}))))};var ur=r(4653),dr=r(8207),mr=r(9107),fr=r(7984),pr=r(5869),hr=r(5298),vr=r(6810);function yr(e){return yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yr(e)}function gr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gr(Object(r),!0).forEach((function(t){xr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xr(e,t,r){return(t=function(e){var t=function(e){if("object"!=yr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=yr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==yr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wr(){wr=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==yr(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(yr(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function _r(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Er(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||Nr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nr(e,t){if(e){if("string"==typeof e)return kr(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kr(e,t):void 0}}function kr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Sr={DAY:"day",MONTH:"month"},Lr={databaseSize:{label:(0,i.__)("Database size","advanced-database-cleaner"),color:"#3b82f6"},totalTables:{label:(0,i.__)("Total tables","advanced-database-cleaner"),color:"#8b5cf6"},tablesAdded:{label:(0,i.__)("Tables added","advanced-database-cleaner"),color:"#22c55e"},tablesDeleted:{label:(0,i.__)("Tables deleted","advanced-database-cleaner"),color:"#ef4444"}},jr=function(e){return null==e?void 0:e.toISOString().split("T")[0]},Or=function(e){return e?e.toISOString().slice(0,7):null},Tr=function(e,t){return t===Sr.DAY?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"}):new Date("".concat(e,"-01")).toLocaleDateString("en-US",{month:"short",year:"numeric"})},Pr=function(e){var t=e.label,r=e.value,a=e.onChange;return n.createElement("div",{className:"flex flex-col gap-1"},n.createElement("label",{className:"text-xs text-gray-600"},t),n.createElement("input",{type:"date",value:r?jr(r):"",onChange:function(e){return a(e.target.value?new Date(e.target.value):null)},className:"!h-[2.1rem] !max-h-[2.1rem] !min-h-[2.1rem] !rounded-lg border !border-gray-400 px-2 text-[.83rem]"}))},Ir=function(e){var t=e.view,r=e.onChange;return n.createElement("div",{className:"order-1 flex rounded-xl bg-gray-200 p-1 lg:order-2"},[{key:Sr.DAY,label:(0,i.__)("Daily","advanced-database-cleaner")},{key:Sr.MONTH,label:(0,i.__)("Monthly","advanced-database-cleaner")}].map((function(e){var a=e.key,o=e.label;return n.createElement("button",{key:a,onClick:function(){return r(a)},className:"rounded-lg px-4 py-1 text-[.85rem] font-semibold transition-all ".concat(t===a?"bg-white text-black shadow-sm":"text-gray-600 hover:text-gray-900")},o)})))},Cr=function(e){var t=e.ranges,r=e.value,a=e.onChange,o=[t.map((function(e){var t=e.label;return{key:e.days,label:t}}))],i=o.flat().find((function(e){return e.key===r}))||{key:"",label:""},c=!!r,l=c?"bg-blue-50":"bg-white",s=c?"border-blue-600":"border-gray-300",u=c?"text-blue-700":"";return n.createElement(uf,{selectItems:o,selectedItem:i,onSelectionChange:function(e){""!==e&&a(+e)},minWidthButton:"min-w-[150px]",minWidthContent:"min-w-[150px]",ButtonBgColor:l,borderColor:s,extraBtnClasses:u})};const Ar=function(){var e=Er((0,n.useState)(Sr.DAY),2),t=e[0],r=e[1],u=Er((0,n.useState)([]),2),m=u[0],f=u[1],p=Er((0,n.useState)(!0),2),h=p[0],v=p[1],y=Er((0,n.useState)({open:!1,type:"",title:"",names:[]}),2),g=y[0],b=y[1],x=(0,n.useMemo)((function(){return function(e){return function(e){if(Array.isArray(e))return kr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Nr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(m).sort((function(e,t){return new Date(t.date)-new Date(e.date)}))}),[m]),_=new Date,E=new Date;E.setDate(E.getDate()-30);var N=Er((0,n.useState)({startDate:E,endDate:_}),2),k=N[0],S=N[1],L=Er((0,n.useState)({startDate:E,endDate:_}),2),O=L[0],T=L[1],I=Er((0,n.useState)(30),2),F=I[0],M=I[1],G=(0,d.wA)(),D=function(){var e,t=(e=wr().mark((function e(t,r,n){var a,o,i;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&r){e.next=2;break}return e.abrupt("return");case 2:if(v(!0),e.prev=3,a=n===Sr.DAY?{start_date:jr(t),end_date:jr(r)}:{start_date:Or(t),end_date:Or(r)},"FREE"!==z){e.next=11;break}return e.next=8,wt();case 8:e.t0=e.sent,e.next=21;break;case 11:if(n!==Sr.DAY){e.next=17;break}return e.next=14,Kt(a);case 14:e.t1=e.sent,e.next=20;break;case 17:return e.next=19,qt(a);case 19:e.t1=e.sent;case 20:e.t0=e.t1;case 21:o=e.t0,i=Object.entries(o.data).map((function(e){var t=Er(e,2),r=t[0],a=t[1];return{date:r,displayDate:Tr(r,n),databaseSize:+(a.s/1024/1024).toFixed(2),totalTables:a.t,tablesAdded:a.a.length,tablesAddedNames:a.a,tablesDeleted:a.d.length,tablesDeletedNames:a.d}})).sort((function(e,t){return new Date(e.date)-new Date(t.date)})),f(i),e.next=29;break;case 26:e.prev=26,e.t2=e.catch(3),Pt(G,e.t2.message);case 29:return e.prev=29,v(!1),e.finish(29);case 32:case"end":return e.stop()}}),e,null,[[3,26,29,32]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){_r(o,n,a,i,c,"next",e)}function c(e){_r(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(e,r,n){return t.apply(this,arguments)}}();(0,n.useEffect)((function(){D(k.startDate,k.endDate,t)}),[k.startDate,k.endDate,t]);var R=[{label:(0,i.__)("Last 7 days","advanced-database-cleaner"),days:7},{label:(0,i.__)("Last 30 days","advanced-database-cleaner"),days:30},{label:(0,i.__)("Last 90 days","advanced-database-cleaner"),days:90}],B=function(e){var t=e.active,r=e.payload,a=e.label;return t&&null!=r&&r.length?n.createElement("div",{className:"rounded-xl border border-gray-200 bg-white/95 p-4 shadow-xl"},n.createElement("p",{className:"mb-2 font-semibold text-gray-800"},a),n.createElement("div",{className:"flex justify-between gap-x-4 text-[.85rem]"},n.createElement("span",{className:"flex items-center gap-2"},n.createElement("span",{className:"inline-block h-3 w-3 rounded-full",style:{background:Lr.databaseSize.color}}),Lr.databaseSize.label),n.createElement("span",{className:"font-semibold"},r[0].value," MB"))):null},U=function(e){var t=e.active,r=e.payload,a=e.label;return t&&null!=r&&r.length?n.createElement("div",{className:"rounded-xl border border-gray-200 bg-white/95 p-4 shadow-xl"},n.createElement("p",{className:"mb-2 font-semibold text-gray-800"},a),r.map((function(e){return n.createElement("div",{key:e.dataKey,className:"mb-1 flex justify-between gap-x-10 text-[.85rem]"},n.createElement("span",{className:"flex items-center gap-2"},n.createElement("span",{className:"inline-block h-3 w-3 rounded-full",style:{background:e.color}}),Lr[e.dataKey].label),n.createElement("span",{className:"font-semibold"},"tablesDeleted"===e.dataKey?Math.abs(e.value):e.value))}))):null},W=function(e,t,r){return b({type:e,open:!0,title:t,names:r})},Y=function(){return b({open:!1,title:"",names:[]})};return n.createElement("div",{className:"relative"},n.createElement("div",{className:"".concat("FREE"===z?"pointer-events-none blur-[1px]":"")},n.createElement("div",{className:"mb-6 flex flex-col gap-4 rounded-xl border border-gray-200 bg-gray-50 p-6 lg:flex-row lg:items-end lg:justify-between"},n.createElement("div",{className:"flex flex-wrap items-center gap-4"},n.createElement("div",{className:"flex flex-col gap-1"},n.createElement("label",{className:"text-xs text-gray-600"},(0,i.__)("Quick ranges","advanced-database-cleaner")),n.createElement(Cr,{ranges:R,value:F,onChange:function(e){var t=new Date,r=new Date;r.setDate(r.getDate()-e),M(e),T({startDate:r,endDate:t}),S({startDate:r,endDate:t})}})),n.createElement("div",{className:"mt-6 h-[2rem] text-gray-400"},"|"),n.createElement("div",{className:"flex flex-wrap items-end gap-4"},n.createElement(Pr,{label:(0,i.__)("From","advanced-database-cleaner"),value:O.startDate,onChange:function(e){return T((function(t){return br(br({},t),{},{startDate:e})}))}}),n.createElement(Pr,{label:(0,i.__)("To","advanced-database-cleaner"),value:O.endDate,onChange:function(e){return T((function(t){return br(br({},t),{},{endDate:e})}))}}),n.createElement(w,{text:(0,i.__)("Apply","advanced-database-cleaner"),className:"!h-[2rem]",onClick:function(){var e=O.startDate,t=O.endDate;e&&t?e>t?Pt(G,(0,i.__)("Start date cannot be after end date.","advanced-database-cleaner")):(S(br({},O)),M(null)):Pt(G,(0,i.__)("Please select valid start and end dates.","advanced-database-cleaner"))}}))),n.createElement("span",{className:"flex items-center gap-4"},n.createElement(Ir,{view:t,onChange:r}))),n.createElement("section",{className:"mb-8 rounded-xl bg-gray-100/80 py-6 pr-4 shadow-sm"},n.createElement("div",{className:"mb-4 flex items-center justify-between pl-6"},n.createElement("div",{className:"flex items-center gap-1"},n.createElement(c.JJQ,{className:"text-[1.1rem] text-blue-400"}),n.createElement("h3",{className:"ml-1 text-[1rem] font-semibold text-blue-900"},(0,i.__)("Database size","advanced-database-cleaner"))),n.createElement(j,{content:(0,i.__)("Refresh analytics","advanced-database-cleaner")},n.createElement(P,{href:"#",onClick:function(e){e.preventDefault(),h||D(k.startDate,k.endDate,t)}},n.createElement(s.JbZ,{className:"text-[.95rem] text-gray-700 ".concat(h?"animate-spin":"")})))),h?n.createElement("div",{className:"flex min-h-[300px] items-center justify-center"},n.createElement(C,{spinnerColor:"text-blue-600"})):n.createElement(ur.u,{width:"100%",height:240},n.createElement(dr.X,{data:m,syncId:"analyticsSync"},n.createElement(mr.d,{strokeDasharray:"3 3",stroke:"#e1e1e1"}),n.createElement(fr.W,{dataKey:"displayDate",tick:{fontSize:12,fill:"#4b5563"}}),n.createElement(pr.h,{width:60,tick:{fontSize:12,fill:"#4b5563"},tickFormatter:function(e){return"".concat(e," MB")}}),n.createElement(hr.m,{content:n.createElement(B,null)}),n.createElement(vr.y,{dataKey:"databaseSize",fill:Lr.databaseSize.color,fillOpacity:.9,barSize:16,radius:[4,4,0,0]}))),n.createElement("div",{className:"mb-4 mt-4 flex items-center gap-2 pl-6"},n.createElement(s.XaU,{className:"text-[1.1rem] text-purple-400"}),n.createElement("h3",{className:"text-[1rem] font-semibold text-purple-900"},(0,i.__)("Tables count","advanced-database-cleaner"))),h?n.createElement("div",{className:"flex min-h-[300px] items-center justify-center"},n.createElement(C,{spinnerColor:"text-blue-600"})):n.createElement(ur.u,{width:"100%",height:240},n.createElement(dr.X,{data:m,syncId:"analyticsSync"},n.createElement(mr.d,{strokeDasharray:"3 3",stroke:"#e1e1e1"}),n.createElement(fr.W,{dataKey:"displayDate",tick:{fontSize:12,fill:"#4b5563"}}),n.createElement(pr.h,{width:60,tick:{fontSize:12,fill:"#4b5563"}}),n.createElement(hr.m,{content:n.createElement(U,null)}),n.createElement(vr.y,{dataKey:"totalTables",stackId:"tables",fill:Lr.totalTables.color,fillOpacity:.5,barSize:14,radius:[0,0,0,0]}),n.createElement(vr.y,{dataKey:"tablesDeleted",stackId:"tables",fill:Lr.tablesDeleted.color,barSize:14,radius:[0,0,0,0]}),n.createElement(vr.y,{dataKey:"tablesAdded",stackId:"tables",fill:Lr.tablesAdded.color,barSize:14,radius:[0,0,0,0]})))),n.createElement("section",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-md"},n.createElement("div",{className:"border-b border-gray-100 p-4"},n.createElement("h2",{className:"text-lg font-semibold text-gray-800"},(0,i.__)("Raw data","advanced-database-cleaner"))),h?n.createElement("div",{className:"flex min-h-[300px] items-center justify-center"},n.createElement(C,{spinnerColor:"text-blue-600"})):n.createElement("div",{className:"overflow-x-auto px-3"},n.createElement("table",{className:"w-full min-w-[600px]"},n.createElement("thead",{className:"bg-gray-200 text-[.89rem] uppercase text-black"},n.createElement("tr",null,n.createElement("th",{className:"rounded-l-xl px-4 py-1 py-3 text-left font-normal"},(0,i.__)("Date","advanced-database-cleaner")),n.createElement("th",{className:"px-4 py-3 text-left font-normal"},(0,i.__)("DB size (MB)","advanced-database-cleaner")),n.createElement("th",{className:"px-4 py-3 text-left font-normal"},(0,i.__)("Total tables","advanced-database-cleaner")),n.createElement("th",{className:"px-4 py-3 text-left font-normal"},(0,i.__)("Tables added","advanced-database-cleaner")),n.createElement("th",{className:"rounded-r-xl px-4 py-3 text-left font-normal"},(0,i.__)("Tables deleted","advanced-database-cleaner")))),n.createElement("tbody",{className:"divide-y divide-gray-200 text-[1.01rem]"},x.map((function(e){return n.createElement("tr",{key:e.date,className:"rounded-lg hover:bg-gray-100"},n.createElement("td",{className:"px-4 py-3 text-gray-800"},e.date),n.createElement("td",{className:"px-4 font-semibold text-blue-600"},e.databaseSize),n.createElement("td",{className:"px-4 font-semibold text-purple-500"},e.totalTables),n.createElement("td",{className:"px-4 font-semibold text-green-600"},e.tablesAdded,e.tablesAddedNames.length>0&&n.createElement(P,{href:"#",onClick:function(t){t.preventDefault(),W("added",(0,i.__)("Tables added on:","advanced-database-cleaner")+" "+e.date,e.tablesAddedNames)},className:"ml-2 text-[.8rem] !text-blue-600 underline hover:!text-blue-900"},(0,i.__)("view","advanced-database-cleaner"))),n.createElement("td",{className:"px-4 font-semibold text-red-500"},e.tablesDeleted,e.tablesDeletedNames.length>0&&n.createElement(P,{href:"#",onClick:function(t){t.preventDefault(),W("deleted",(0,i.__)("Tables deleted on:","advanced-database-cleaner")+" "+e.date,e.tablesDeletedNames)},className:"ml-2 text-[.8rem] !text-blue-600 underline hover:!text-blue-900"},(0,i.__)("view","advanced-database-cleaner"))))}))))))),"FREE"===z&&n.createElement("div",{className:"absolute inset-0 z-20 flex justify-center rounded-lg bg-white/40 backdrop-blur-[1px]"},n.createElement("div",{className:"mx-4 max-h-[500px] min-h-[200px] min-w-[500px] max-w-[500px] border border-gray-200 bg-white p-8 shadow-2xl"},n.createElement("div",{className:"text-center"},n.createElement("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-r from-yellow-400 to-orange-500"},n.createElement(s.xGQ,{className:"h-8 w-8 text-white"})),n.createElement("h3",{className:"mb-3 text-xl font-bold text-gray-900"},(0,i.__)("Unlock Database Analytics","advanced-database-cleaner")),n.createElement("p",{className:"mb-6 text-gray-600"},(0,i.__)("Upgrade to the Premium to access comprehensive database analytics.","advanced-database-cleaner")),n.createElement("div",{className:"mb-6 space-y-2 text-left text-sm text-gray-700"},n.createElement("div",{className:"flex items-center gap-2"},n.createElement(l.LGE,{className:"h-4 w-4 rounded-full bg-green-100 text-green-600"}),n.createElement("span",null,(0,i.__)("Database size chart","advanced-database-cleaner"))),n.createElement("div",{className:"flex items-center gap-2"},n.createElement(l.LGE,{className:"h-4 w-4 rounded-full bg-green-100 text-green-600"}),n.createElement("span",null,(0,i.__)("Tables count chart","advanced-database-cleaner"))),n.createElement("div",{className:"flex items-center gap-2"},n.createElement(l.LGE,{className:"h-4 w-4 rounded-full bg-green-100 text-green-600"}),n.createElement("span",null,(0,i.__)("See exactly tables added/deleted","advanced-database-cleaner"))),n.createElement("div",{className:"flex items-center gap-2"},n.createElement(l.LGE,{className:"h-4 w-4 rounded-full bg-green-100 text-green-600"}),n.createElement("span",null,(0,i.__)("Custom date range filtering","advanced-database-cleaner"))),n.createElement("div",{className:"flex items-center gap-2"},n.createElement(l.LGE,{className:"h-4 w-4 rounded-full bg-green-100 text-green-600"}),n.createElement("span",null,(0,i.__)("View charts by day or month","advanced-database-cleaner")))),n.createElement(P,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=database-analytics&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"group block !w-full transform rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-2 text-center !text-[1rem] font-medium text-white !no-underline shadow-lg transition-all hover:from-blue-700 hover:to-purple-700 hover:!text-white focus:!text-white"},n.createElement("span",{className:"flex items-center justify-center gap-2"},(0,i.__)("Upgrade to Premium","advanced-database-cleaner"),n.createElement(A.L2n,{className:"mt-[4px] h-4 w-4 transition-transform duration-200 group-hover:translate-x-0.5"}))),n.createElement("div",{className:"mt-4"},n.createElement(P,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=database-analytics&utm_medium=adbc-free&utm_campaign=plugins&utm_content=learn-more-about-premium-features",target:"_blank",className:"!text-sm !font-normal !text-blue-600 !no-underline hover:!text-blue-800 hover:!underline"},(0,i.__)("Learn more about Premium features","advanced-database-cleaner")))))),g.open&&n.createElement(a.e,{appear:!0,show:!0,as:n.Fragment},n.createElement(o.lG,{as:"div",className:"relative z-50",onClose:Y},n.createElement(o.Xi,{transition:!0,className:"fixed inset-0 bg-gray-900 bg-opacity-70 transition-opacity duration-100 ease-linear data-[closed]:opacity-0"}),n.createElement("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto"},n.createElement("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},n.createElement(o.Lj,{transition:!0,className:"relative max-h-[500px] transform overflow-y-auto rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all duration-200 ease-out data-[closed]:scale-95 data-[closed]:opacity-0 sm:my-8 sm:w-full sm:max-w-xl sm:p-6"},n.createElement("div",{className:"absolute right-0 top-0 pr-4 pt-4"},n.createElement("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",onClick:Y},n.createElement("span",{className:"sr-only"},"Close"),n.createElement(l.WQq,{className:"h-6 w-6","aria-hidden":"true"}))),n.createElement("div",{className:"mx-auto mt-2"},n.createElement("div",{className:"border-b border-dashed border-gray-300 pb-3 text-[1.05rem] font-semibold text-gray-700"},g.title),n.createElement("div",{className:"mt-8 flex flex-wrap items-center gap-2"},g.names.map((function(e,t){return n.createElement("span",{key:t,className:"rounded-lg px-3 py-1 font-mono text-sm text-gray-800 ".concat("added"===g.type?"bg-green-100":"bg-red-100")},e)}))))))))))};var Fr=r(5721),Mr=r(6679);function Gr(e){return Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gr(e)}function Dr(){Dr=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Gr(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(Gr(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function zr(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Rr(){return Br.apply(this,arguments)}function Br(){var e;return e=Dr().mark((function e(){return Dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/get-tables-names",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})),Br=function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){zr(o,n,a,i,c,"next",e)}function c(e){zr(o,n,a,i,c,"throw",e)}i(void 0)}))},Br.apply(this,arguments)}function Ur(e){return Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ur(e)}function Wr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wr(Object(r),!0).forEach((function(t){Kr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kr(e,t,r){return(t=function(e){var t=function(e){if("object"!=Ur(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Ur(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ur(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $r(){$r=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Ur(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(Ur(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function qr(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Hr(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){qr(o,n,a,i,c,"next",e)}function c(e){qr(o,n,a,i,c,"throw",e)}i(void 0)}))}}function Vr(e){return function(e){if(Array.isArray(e))return Xr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Jr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||Jr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jr(e,t){if(e){if("string"==typeof e)return Xr(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xr(e,t):void 0}}function Xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Zr={DAY:"day",MONTH:"month"},en="#3b82f6",tn=function(e){return null==e?void 0:e.toISOString().split("T")[0]},rn=function(e){return e?e.toISOString().slice(0,7):null},nn=function(e,t){return t===Zr.DAY?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"}):new Date("".concat(e,"-01")).toLocaleDateString("en-US",{month:"short",year:"numeric"})},an=function(e){var t=e.label,r=e.value,a=e.onChange;return n.createElement("div",{className:"flex flex-col gap-1"},n.createElement("label",{className:"text-xs text-gray-600"},t),n.createElement("input",{type:"date",value:r?tn(r):"",onChange:function(e){return a(e.target.value?new Date(e.target.value):null)},className:"!h-[2.1rem] !max-h-[2.1rem] !min-h-[2.1rem] !rounded-lg border !border-gray-400 px-2 text-[.83rem]"}))},on=function(e){var t=e.view,r=e.onChange;return n.createElement("div",{className:"order-1 flex rounded-xl bg-gray-200 p-1 lg:order-2"},[{key:Zr.DAY,label:(0,i.__)("Daily","advanced-database-cleaner")},{key:Zr.MONTH,label:(0,i.__)("Monthly","advanced-database-cleaner")}].map((function(e){var a=e.key,o=e.label;return n.createElement("button",{key:a,onClick:function(){return r(a)},className:"rounded-lg px-4 py-1 text-[.85rem] font-semibold transition-all ".concat(t===a?"bg-white text-black shadow-sm":"text-gray-600 hover:text-gray-900")},o)})))},cn=function(e){var t=e.ranges,r=e.value,a=e.onChange,o=[t.map((function(e){var t=e.label;return{key:e.days,label:t}}))],i=o.flat().find((function(e){return e.key===r}))||{key:"",label:""},c=!!r,l=c?"bg-blue-50":"bg-white",s=c?"border-blue-600":"border-gray-300",u=c?"text-blue-700":"";return n.createElement(uf,{selectItems:o,selectedItem:i,onSelectionChange:function(e){""!==e&&a(+e)},minWidthButton:"min-w-[150px]",minWidthContent:"min-w-[150px]",ButtonBgColor:l,borderColor:s,extraBtnClasses:u})},ln=function(e){var t=e.tables,r=e.selectedTables,a=e.onSelectionChange,o=Qr((0,n.useState)(!1),2),c=o[0],l=o[1],s=Qr((0,n.useState)(""),2),u=s[0],d=s[1],m=(0,n.useRef)(null);(0,n.useEffect)((function(){if(c){var e=function(e){m.current&&!m.current.contains(e.target)&&l(!1)};return window.addEventListener("mousedown",e),function(){return window.removeEventListener("mousedown",e)}}}),[c]);var f=t.filter((function(e){return e.toLowerCase().includes(u.trim().toLowerCase())})),p=0===r.length&&!c;return n.createElement("div",{ref:m,className:"relative"},n.createElement("button",{onClick:function(){return l(!c)},className:"flex w-full min-w-[250px] items-center justify-between rounded-lg\n               border border-gray-400 bg-white px-3 py-2 text-sm hover:bg-gray-50\n               focus:outline-none focus:ring-1 focus:ring-blue-500 lg:min-w-[350px]\n               ".concat(p?"animate-adbc-shake":"")},n.createElement("span",{className:"text-gray-700"},0===r.length?(0,i.__)("Select tables ...","advanced-database-cleaner"):"".concat(r.length," table").concat(r.length>1?"s":""," selected")),n.createElement(A.bv7,{className:"h-4 w-4 transition-transform ".concat(c?"rotate-180":"")})),c&&n.createElement("div",{className:"absolute z-10 mt-1 max-h-60 w-full overflow-y-auto rounded-lg border border-gray-300 bg-white shadow-lg"},n.createElement("div",{className:"mb-2 flex items-center justify-between gap-2 border-b border-gray-200 bg-gray-100 p-2"},n.createElement(h,{type:"text",value:u,onChange:function(e){return d(e.target.value)},placeholder:(0,i.__)("Search...","advanced-database-cleaner"),className:"!h-[1.8rem] !max-h-[1.8rem] !min-h-[1.8rem] !max-w-[100px] !text-sm placeholder:!text-gray-500 lg:!min-w-[220px]"}),n.createElement("button",{onClick:function(){return a([])},className:"rounded px-2 py-1 text-xs text-gray-800 underline hover:bg-gray-300"},(0,i.__)("Unselect all","advanced-database-cleaner"))),f.map((function(e){return n.createElement("label",{key:e,className:"flex cursor-pointer items-center gap-2 px-3 py-2 hover:bg-gray-50"},n.createElement("input",{type:"checkbox",checked:r.includes(e),onChange:function(){return t=e,r.includes(t)?a(r.filter((function(e){return e!==t}))):a([].concat(Vr(r),[t]));var t},className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),n.createElement("span",{className:"-mt-[5px] text-[.85rem] text-gray-700"},e))})),0===f.length&&n.createElement("div",{className:"p-3 text-center text-xs text-gray-500"},(0,i.__)("No tables match your search.","advanced-database-cleaner"))))},sn=function(e){var t=e.data,r=(0,n.useMemo)((function(){return Vr(t).sort((function(e,t){return new Date(t.date)-new Date(e.date)}))}),[t]);return n.createElement("section",{className:"p-10"},n.createElement("div",{className:"overflow-x-auto"},n.createElement("table",{className:"w-full min-w-[500px]"},n.createElement("thead",{className:"bg-gray-200 text-[.85rem] uppercase text-black"},n.createElement("tr",null,n.createElement("th",{className:"rounded-l-xl px-3 py-2 text-left font-normal"},(0,i.__)("Date","advanced-database-cleaner")),n.createElement("th",{className:"px-3 py-2 text-left font-normal"},(0,i.__)("Size","advanced-database-cleaner")),n.createElement("th",{className:"px-3 py-2 text-left font-normal"},(0,i.__)("Total rows","advanced-database-cleaner")),n.createElement("th",{className:"rounded-r-xl px-3 py-2 text-left font-normal"},(0,i.__)("Total columns","advanced-database-cleaner")))),n.createElement("tbody",{className:"divide-y divide-gray-100 text-[.95rem]"},r.map((function(e){return n.createElement("tr",{key:e.date,className:"hover:bg-gray-200"},n.createElement("td",{className:"px-3 py-2 text-gray-800"},e.date),n.createElement("td",{className:"px-3 py-2 font-semibold text-blue-600"},e.sizeDisplay,e.deltaDisplay),n.createElement("td",{className:"px-3 py-2 font-semibold text-green-600"},e.rowsDisplay),n.createElement("td",{className:"px-3 py-2 font-semibold text-purple-600"},e.columnsDisplay))}))))))};const un=function(){var e=Qr((0,n.useState)(Zr.DAY),2),t=e[0],r=e[1],a=Qr((0,n.useState)({}),2),o=a[0],u=a[1],m=Qr((0,n.useState)(!1),2),f=m[0],p=m[1],h=Qr((0,n.useState)([]),2),v=h[0],y=h[1],g=Qr((0,n.useState)("FREE"===z?["wp_options","wp_posts","wp_users"]:[]),2),b=g[0],x=g[1],_=new Date,E=new Date;E.setDate(E.getDate()-30);var N=Qr((0,n.useState)({startDate:E,endDate:_}),2),k=N[0],S=N[1],L=Qr((0,n.useState)({startDate:E,endDate:_}),2),O=L[0],T=L[1],I=Qr((0,n.useState)(30),2),F=I[0],M=I[1],G=(0,d.wA)(),D=function(){var e=Hr($r().mark((function e(t,r,n,a){var o,i,c;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("PREMIUM"!==z||t&&r&&a.length){e.next=2;break}return e.abrupt("return");case 2:if("PREMIUM"===z&&p(!0),e.prev=3,o=n===Zr.DAY?{start_date:tn(t),end_date:tn(r),tables:a}:{start_date:rn(t),end_date:rn(r),tables:a},"FREE"!==z){e.next=11;break}return e.next=8,_t();case 8:e.t0=e.sent,e.next=21;break;case 11:if(n!==Zr.DAY){e.next=17;break}return e.next=14,Vt(o);case 14:e.t1=e.sent,e.next=20;break;case 17:return e.next=19,Jt(o);case 19:e.t1=e.sent;case 20:e.t0=e.t1;case 21:i=e.t0,c={},Object.keys(i.data).forEach((function(e){var t=i.data[e],r=Object.entries(t).map((function(e){var t=Qr(e,2),r=t[0],a=t[1],o=+(a.s/1024/1024).toFixed(2),i=+(a.z/1024/1024).toFixed(3);return{date:r,displayDate:nn(r,n),size:o,sizeDisplay:"".concat(o," MB"),deltaDisplay:0!==a.z?" (".concat(i>0?"+":"").concat(i," MB)"):"",rows:a.r,rowsDisplay:"".concat(a.r).concat(0!==a.w?" (".concat(a.w>0?"+":"").concat(a.w,")"):""),columns:a.c,columnsDisplay:"".concat(a.c).concat(0!==a.m?" (".concat(a.m>0?"+":"").concat(a.m,")"):"")}})).sort((function(e,t){return new Date(e.date)-new Date(t.date)}));c[e]=r})),u(c),e.next=30;break;case 27:e.prev=27,e.t2=e.catch(3),Pt(G,e.t2.message);case 30:return e.prev=30,p(!1),e.finish(30);case 33:case"end":return e.stop()}}),e,null,[[3,27,30,33]])})));return function(t,r,n,a){return e.apply(this,arguments)}}();(0,n.useEffect)((function(){D(k.startDate,k.endDate,t,b)}),[k.startDate,k.endDate,t,b]),(0,n.useEffect)((function(){if("FREE"!==z){var e=function(){var e=Hr($r().mark((function e(){var t,r;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rr();case 3:t=e.sent,r=Object.keys(t.data||{}),y(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Pt(G,e.t0.message||"Failed to load table list");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}}),[]);var R=[{label:(0,i.__)("Last 7 days","advanced-database-cleaner"),days:7},{label:(0,i.__)("Last 30 days","advanced-database-cleaner"),days:30},{label:(0,i.__)("Last 90 days","advanced-database-cleaner"),days:90}],B=function(e){var t=e.active,r=e.payload,a=e.label;return t&&null!=r&&r.length?n.createElement("div",{className:"rounded-xl border border-gray-200 bg-white/95 p-4 shadow-xl"},n.createElement("p",{className:"mb-2 font-semibold text-gray-800"},a),n.createElement("div",{className:"flex justify-between gap-x-4 text-[.85rem]"},n.createElement("span",{className:"flex items-center gap-2"},n.createElement("span",{className:"inline-block h-3 w-3 rounded-full",style:{background:en}}),(0,i.__)("Size","advanced-database-cleaner")),n.createElement("span",{className:"font-semibold"},r[0].payload.sizeDisplay,r[0].payload.deltaDisplay))):null},U=function(e){var t=e.active,r=e.payload,a=e.label;return t&&null!=r&&r.length?n.createElement("div",{className:"rounded-xl border border-gray-200 bg-white/95 p-4 shadow-xl"},n.createElement("p",{className:"mb-2 font-semibold text-gray-800"},a),r.map((function(e){return n.createElement("div",{key:e.dataKey,className:"mb-1 flex justify-between gap-x-10 text-[.85rem]"},n.createElement("span",{className:"flex items-center gap-2"},n.createElement("span",{className:"inline-block h-3 w-3 rounded-full",style:{background:e.color}}),"rows"===e.dataKey?(0,i.__)("Rows","advanced-database-cleaner"):(0,i.__)("Columns","advanced-database-cleaner")),n.createElement("span",{className:"font-semibold"},"rows"===e.dataKey?e.payload.rowsDisplay:e.payload.columnsDisplay))}))):null};return n.createElement("div",{className:"relative"},n.createElement("div",{className:"".concat("FREE"===z?"pointer-events-none blur-[1px]":"")},n.createElement("div",{className:"mb-6 flex flex-col gap-4 rounded-xl border border-gray-200 bg-gray-50 p-6 lg:flex-row lg:items-end lg:justify-between"},n.createElement("div",{className:"flex flex-wrap items-center gap-4"},n.createElement("div",{className:"flex flex-col gap-1"},n.createElement("label",{className:"text-xs text-gray-600"},(0,i.__)("Quick ranges","advanced-database-cleaner")),n.createElement(cn,{ranges:R,value:F,onChange:function(e){var t=new Date,r=new Date;r.setDate(r.getDate()-e),M(e),T({startDate:r,endDate:t}),S({startDate:r,endDate:t})}})),n.createElement("div",{className:"mt-6 h-[2rem] text-gray-400"},"|"),n.createElement("div",{className:"flex flex-wrap items-end gap-4"},n.createElement(an,{label:(0,i.__)("From","advanced-database-cleaner"),value:O.startDate,onChange:function(e){return T((function(t){return Yr(Yr({},t),{},{startDate:e})}))}}),n.createElement(an,{label:(0,i.__)("To","advanced-database-cleaner"),value:O.endDate,onChange:function(e){return T((function(t){return Yr(Yr({},t),{},{endDate:e})}))}}),n.createElement(w,{text:(0,i.__)("Apply","advanced-database-cleaner"),className:"!h-[2rem]",onClick:function(){var e=O.startDate,t=O.endDate;e&&t?e>t?Pt(G,(0,i.__)("Start date cannot be after end date.","advanced-database-cleaner")):(S(Yr({},O)),M(null)):Pt(G,(0,i.__)("Please select valid start and end dates.","advanced-database-cleaner"))}}))),n.createElement("span",{className:"flex items-center gap-4"},n.createElement(on,{view:t,onChange:r}))),"PREMIUM"===z&&n.createElement("section",{className:"mb-8 rounded-xl bg-gray-100/80 px-4 py-[18px] shadow-sm"},n.createElement("div",{className:"flex items-center justify-between"},n.createElement("div",{className:"flex flex-col gap-1"},n.createElement(ln,{tables:v,selectedTables:b,onSelectionChange:x})),n.createElement(j,{content:(0,i.__)("Refresh analytics","advanced-database-cleaner")},n.createElement(P,{href:"#",onClick:function(e){e.preventDefault(),f||D(k.startDate,k.endDate,t,b)}},n.createElement(s.JbZ,{className:"text-[.95rem] text-gray-700 ".concat(f?"animate-spin":"")}))))),f?n.createElement("div",{className:"flex min-h-[300px] items-center justify-center"},n.createElement(C,{spinnerColor:"text-blue-600"})):n.createElement("div",{className:"space-y-8"},b.map((function(e){var t=o[e]||[],r=t.length>0?t[t.length-1].sizeDisplay:st(0);return n.createElement("div",{key:e,className:"rounded-xl bg-gray-100 shadow-sm"},n.createElement("div",{className:"mb-4 flex items-center gap-1 border-b border-gray-200 p-5"},n.createElement("h2",{className:"text-lg font-semibold text-gray-800"},e),n.createElement("div",{className:"text-sm"},"(",r,")")),n.createElement("div",{className:"grid grid-cols-1 gap-6 px-2 lg:grid-cols-2"},n.createElement("div",{className:""},n.createElement("div",{className:"mb-3 flex items-center gap-2 pl-4"},n.createElement("h3",{className:"text-sm font-semibold text-blue-900"},(0,i.__)("Table size","advanced-database-cleaner"))),n.createElement(ur.u,{width:"100%",height:220},n.createElement(Fr.b,{data:t,syncId:"sync-".concat(e)},n.createElement(mr.d,{strokeDasharray:"3 3",stroke:"#e1e1e1"}),n.createElement(fr.W,{dataKey:"displayDate",tick:{fontSize:10,fill:"#4b5563"}}),n.createElement(pr.h,{width:50,tick:{fontSize:10,fill:"#4b5563"},tickFormatter:function(e){return"".concat(e," MB")}}),n.createElement(hr.m,{content:n.createElement(B,null)}),n.createElement(Mr.N,{type:"monotone",dataKey:"size",stroke:en,strokeWidth:2,dot:{r:3},activeDot:{r:5},name:"Size"})))),n.createElement("div",{className:""},n.createElement("div",{className:"mb-3 ml-2 flex items-center gap-2"},n.createElement("h3",{className:"text-sm font-semibold text-gray-800"},(0,i.__)("Total rows","advanced-database-cleaner"))),n.createElement(ur.u,{width:"100%",height:220},n.createElement(dr.X,{data:t,syncId:"sync-".concat(e)},n.createElement(mr.d,{strokeDasharray:"3 3",stroke:"#e1e1e1"}),n.createElement(fr.W,{dataKey:"displayDate",tick:{fontSize:12,fill:"#4b5563"}}),n.createElement(pr.h,{width:50,tick:{fontSize:12,fill:"#4b5563"}}),n.createElement(hr.m,{content:n.createElement(U,null)}),n.createElement(vr.y,{dataKey:"rows",fill:"#22c55e",fillOpacity:.9,barSize:16,radius:[4,4,0,0]}))))),n.createElement(sn,{data:t}))}))),0===b.length&&n.createElement("div",{className:"rounded-xl border py-12 text-center text-gray-500"},n.createElement(c.ZRA,{className:"mx-auto mb-4 h-12 w-12 text-gray-300"}),n.createElement("p",{className:"mb-1 text-[1.1rem] font-semibold text-orange-500"},(0,i.__)("Please select a table!","advanced-database-cleaner")),n.createElement("p",{className:"text-sm"},(0,i.__)("Select one or more tables to view analytics.","advanced-database-cleaner")))),"FREE"===z&&n.createElement("div",{className:"absolute inset-0 z-20 flex justify-center rounded-lg bg-white/40 backdrop-blur-[1px]"},n.createElement("div",{className:"mx-4 max-h-[450px] min-h-[200px] min-w-[500px] max-w-[500px] border border-gray-200 bg-white p-8 shadow-2xl"},n.createElement("div",{className:"text-center"},n.createElement("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-r from-yellow-400 to-orange-500"},n.createElement(s.xGQ,{className:"h-8 w-8 text-white"})),n.createElement("h3",{className:"mb-3 text-xl font-bold text-gray-900"},(0,i.__)("Unlock Tables Analytics","advanced-database-cleaner")),n.createElement("p",{className:"mb-6 text-gray-600"},(0,i.__)("Upgrade to the Premium to access comprehensive tables analytics.","advanced-database-cleaner")),n.createElement("div",{className:"mb-6 space-y-2 text-left text-sm text-gray-700"},n.createElement("div",{className:"flex items-center gap-2"},n.createElement(l.LGE,{className:"h-4 w-4 rounded-full bg-green-100 text-green-600"}),n.createElement("span",null,(0,i.__)("Tables size charts","advanced-database-cleaner"))),n.createElement("div",{className:"flex items-center gap-2"},n.createElement(l.LGE,{className:"h-4 w-4 rounded-full bg-green-100 text-green-600"}),n.createElement("span",null,(0,i.__)("Individual or multiple table selection","advanced-database-cleaner"))),n.createElement("div",{className:"flex items-center gap-2"},n.createElement(l.LGE,{className:"h-4 w-4 rounded-full bg-green-100 text-green-600"}),n.createElement("span",null,(0,i.__)("Track tables rows & columns changes","advanced-database-cleaner"))),n.createElement("div",{className:"flex items-center gap-2"},n.createElement(l.LGE,{className:"h-4 w-4 rounded-full bg-green-100 text-green-600"}),n.createElement("span",null,(0,i.__)("View charts by day or month","advanced-database-cleaner")))),n.createElement(P,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=tables-analytics&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"group block !w-full transform rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-2 text-center !text-[1rem] font-medium text-white !no-underline shadow-lg transition-all hover:from-blue-700 hover:to-purple-700 hover:!text-white focus:!text-white"},n.createElement("span",{className:"flex items-center justify-center gap-2"},(0,i.__)("Upgrade to Premium","advanced-database-cleaner"),n.createElement(A.L2n,{className:"mt-[4px] h-4 w-4 transition-transform duration-200 group-hover:translate-x-0.5"}))),n.createElement("div",{className:"mt-4"},n.createElement(P,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=tables-analytics&utm_medium=adbc-free&utm_campaign=plugins&utm_content=learn-more-about-premium-features",target:"_blank",className:"!text-sm !font-normal !text-blue-600 !no-underline hover:!text-blue-800 hover:!underline"},(0,i.__)("Learn more about Premium features","advanced-database-cleaner")))))))};var dn=[{id:"database-analytics",name:(0,i.__)("Overview","advanced-database-cleaner"),component:n.createElement(Ar,null),Icon:ye.N6S},{id:"tables-analytics",name:(0,i.__)("Tables analytics","advanced-database-cleaner"),component:n.createElement(un,null),Icon:ye.rNF}];var mn=r(4164);function fn(e){return fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fn(e)}function pn(){pn=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==fn(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(fn(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function hn(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function vn(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){hn(o,n,a,i,c,"next",e)}function c(e){hn(o,n,a,i,c,"throw",e)}i(void 0)}))}}function yn(e){return gn.apply(this,arguments)}function gn(){return(gn=vn(pn().mark((function e(t){return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/automation/list-tasks",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bn(e){return xn.apply(this,arguments)}function xn(){return(xn=vn(pn().mark((function e(t){return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/automation/get-task",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wn(e){return _n.apply(this,arguments)}function _n(){return(_n=vn(pn().mark((function e(t){return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/automation/create-task",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function En(e){return Nn.apply(this,arguments)}function Nn(){return(Nn=vn(pn().mark((function e(t){return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/automation/update-task",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kn(e){return Sn.apply(this,arguments)}function Sn(){return(Sn=vn(pn().mark((function e(t){return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/automation/delete-task",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ln(e){return jn.apply(this,arguments)}function jn(){return(jn=vn(pn().mark((function e(t){return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/automation/get-task-events-log",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function On(e){return Tn.apply(this,arguments)}function Tn(){return(Tn=vn(pn().mark((function e(t){return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/automation/clear-task-events-log",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pn(e){return Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pn(e)}function In(){In=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Pn(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(Pn(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Cn(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function An(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Cn(o,n,a,i,c,"next",e)}function c(e){Cn(o,n,a,i,c,"throw",e)}i(void 0)}))}}function Fn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Mn(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Gn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gn(Object(r),!0).forEach((function(t){zn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zn(e,t,r){return(t=function(e){var t=function(e){if("object"!=Pn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Pn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Pn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Rn=[[{key:"adbc_once",label:(0,i.__)("Once","advanced-database-cleaner")},{key:"adbc_hourly",label:(0,i.__)("Once hourly","advanced-database-cleaner")},{key:"adbc_twicedaily",label:(0,i.__)("Twice daily","advanced-database-cleaner")},{key:"adbc_daily",label:(0,i.__)("Once daily","advanced-database-cleaner")},{key:"adbc_weekly",label:(0,i.__)("Once weekly","advanced-database-cleaner")},{key:"adbc_monthly",label:(0,i.__)("Once monthly","advanced-database-cleaner")}]],Bn=[[{key:"days",label:(0,i.__)("Days","advanced-database-cleaner"),tooltipText:(0,i.__)("Preserve items from the last X days from being cleaned.","advanced-database-cleaner")},{key:"items",label:"FREE"===z?n.createElement("span",{className:"flex items-center"},(0,i.__)("Items","advanced-database-cleaner"),n.createElement("span",{className:"ml-1 flex items-center gap-1 !text-[.75rem] font-semibold text-yellow-600"},n.createElement(s.xGQ,{className:"text-[.9rem] text-yellow-500"}),(0,i.__)("(premium)","advanced-database-cleaner"))):(0,i.__)("Items","advanced-database-cleaner"),disabled:"FREE"===z,tooltipText:n.createElement("span",null,(0,i.__)("Keep the last X items for each parent (e.g., the last 5 revisions per post). If an item has no parent, keep the last X items globally.","advanced-database-cleaner"),"FREE"===z&&n.createElement("div",{className:"flex text-yellow-600"},(0,i.__)("Available in the premium version.","advanced-database-cleaner")))}]],Un=Rn.flat(),Wn=Bn.flat(),Yn=Dn(Dn({revisions:(0,i.__)("Revisions","advanced-database-cleaner"),auto_drafts:(0,i.__)("Auto drafts","advanced-database-cleaner"),trashed_posts:(0,i.__)("Trashed posts","advanced-database-cleaner"),unapproved_comments:(0,i.__)("Unapproved comments","advanced-database-cleaner"),spam_comments:(0,i.__)("Spam comments","advanced-database-cleaner"),trashed_comments:(0,i.__)("Trashed comments","advanced-database-cleaner"),pingbacks:(0,i.__)("Pingbacks","advanced-database-cleaner"),trackbacks:(0,i.__)("Trackbacks","advanced-database-cleaner"),unused_postmeta:(0,i.__)("Unused postmeta","advanced-database-cleaner"),duplicated_postmeta:(0,i.__)("Duplicated postmeta","advanced-database-cleaner"),unused_commentmeta:(0,i.__)("Unused commentmeta","advanced-database-cleaner"),duplicated_commentmeta:(0,i.__)("Duplicated commentmeta","advanced-database-cleaner"),unused_usermeta:(0,i.__)("Unused usermeta","advanced-database-cleaner"),duplicated_usermeta:(0,i.__)("Duplicated usermeta","advanced-database-cleaner"),unused_termmeta:(0,i.__)("Unused termmeta","advanced-database-cleaner"),duplicated_termmeta:(0,i.__)("Duplicated termmeta","advanced-database-cleaner"),unused_relationships:(0,i.__)("Unused relationships","advanced-database-cleaner"),expired_transients:(0,i.__)("Expired transients","advanced-database-cleaner"),oembed_caches:(0,i.__)("oEmbed caches","advanced-database-cleaner"),tables_to_optimize:(0,i.__)("Optimize tables","advanced-database-cleaner"),tables_to_repair:(0,i.__)("Repair tables","advanced-database-cleaner")},"1"===K&&{actionscheduler_completed_actions:(0,i.__)("Action Scheduler completed actions","advanced-database-cleaner"),actionscheduler_failed_actions:(0,i.__)("Action Scheduler failed actions","advanced-database-cleaner"),actionscheduler_canceled_actions:(0,i.__)("Action Scheduler canceled actions","advanced-database-cleaner")}),"1"===$&&{actionscheduler_completed_logs:(0,i.__)("Action Scheduler completed logs","advanced-database-cleaner"),actionscheduler_failed_logs:(0,i.__)("Action Scheduler failed logs","advanced-database-cleaner"),actionscheduler_canceled_logs:(0,i.__)("Action Scheduler canceled logs","advanced-database-cleaner"),actionscheduler_orphan_logs:(0,i.__)("Action Scheduler orphan logs","advanced-database-cleaner")}),Kn=new Set(["unused_postmeta","duplicated_postmeta","unused_commentmeta","duplicated_commentmeta","unused_usermeta","duplicated_usermeta","unused_termmeta","duplicated_termmeta","unused_relationships","expired_transients","oembed_caches"]),$n=new Set(["tables_to_optimize","tables_to_repair"]),qn=new Set(["actionscheduler_completed_actions","actionscheduler_failed_actions","actionscheduler_canceled_actions","actionscheduler_completed_logs","actionscheduler_failed_logs","actionscheduler_canceled_logs","actionscheduler_orphan_logs"]),Hn=["tables_to_optimize","tables_to_repair"],Vn={selected:!1,keepType:"days",keepValue:0},Qn=function(e){var t=e.title,r=e.count;return n.createElement("div",{className:"mb-4 flex items-center justify-between border-b border-gray-300 pb-4"},n.createElement("h3",{className:"text-[1rem] font-bold text-gray-700"},t),n.createElement("span",{className:"rounded-full bg-blue-100 px-3 py-1 text-xs font-medium text-blue-800"},(0,i.sprintf)((0,i.__)("%d selected","advanced-database-cleaner"),r)))},Jn=function(e){var t,r=e.name,a=e.setName,o=e.frequency,c=e.setFrequency,l=e.start,s=e.setStart,u=e.active,d=e.setActive;return n.createElement("div",{className:"rounded-xl bg-white px-8 py-6 shadow-sm ring-1 ring-gray-200"},n.createElement("div",{className:"space-y-6"},n.createElement("div",null,n.createElement("span",{className:"mb-2 block text-sm font-medium text-gray-700"},(0,i.__)("Task name","advanced-database-cleaner")),n.createElement(h,{value:r,onChange:function(e){return a(e.target.value)},className:"w-full rounded-lg border border-gray-300 px-4 py-2 text-sm focus:border-gray-800 focus:outline-none focus:!ring-0",required:!0})),n.createElement("div",null,n.createElement("span",{className:"mb-2 block text-sm font-medium text-gray-700"},(0,i.__)("Frequency","advanced-database-cleaner")),n.createElement(uf,{selectItems:Rn,selectedItem:null!==(t=Un.find((function(e){return e.key===o})))&&void 0!==t?t:Un[4],onSelectionChange:c,minWidthButton:"min-w-[60px] w-full",minWidthContent:"min-w-[80px]",borderColor:"border-gray-300",extraBtnClasses:"!h-[2.45rem]"})),n.createElement("div",null,n.createElement("span",{className:"mb-2 flex justify-between text-sm font-medium text-gray-700"},(0,i.__)("Start time","advanced-database-cleaner"),n.createElement("span",{className:"text-[.75rem] font-normal italic text-gray-600"},(0,i.__)("Local time","advanced-database-cleaner"))),n.createElement(h,{type:"datetime-local",value:l,onChange:function(e){return s(e.target.value)},className:"!h-[2.4rem] w-full !rounded-lg !border !border-gray-300 px-4 text-sm focus:!border-gray-800 focus:outline-none focus:!ring-0",required:!0})),n.createElement("div",{className:"flex items-center gap-4 rounded-xl border border-gray-200 bg-gray-50 p-4"},n.createElement(k,{text:u?(0,i.__)("Active","advanced-database-cleaner"):(0,i.__)("Paused","advanced-database-cleaner"),textStyle:"font-normal text-[.8rem]",toggleSize:"small",toggleChangeCallback:d,isActive:u,bgColor:"bg-green-500"}))))},Xn=function(e){var t=e.selectedItemsToClean,r=e.selectedActionSchedulerInFree,a=e.operationsTodoSelected;return n.createElement("div",{className:"rounded-xl bg-gradient-to-br from-gray-50 to-gray-100 p-8 shadow-sm ring-1 ring-gray-200"},n.createElement("h4",{className:"mb-6 text-[1rem] font-bold text-gray-700"},(0,i.__)("Summary","advanced-database-cleaner")),n.createElement("div",{className:"space-y-6 text-sm"},t.length>0&&n.createElement(Zn,{title:(0,i.__)("Items to clean","advanced-database-cleaner"),keys:t,max:3,color:"text-blue-700",bgColor:"bg-blue-100"}),r.length>0&&n.createElement(Zn,{title:(0,i.__)("Premium items (won't be cleaned)","advanced-database-cleaner"),keys:r,max:3,color:"text-yellow-700",bgColor:"bg-yellow-100"}),a.length>0&&n.createElement(Zn,{title:(0,i.__)("Actions to do","advanced-database-cleaner"),keys:a,color:"text-green-700",bgColor:"bg-green-100"}),t.length+r.length+a.length===0&&n.createElement("div",null,n.createElement("p",{className:"italic text-gray-500"},(0,i.__)("No operations selected yet","advanced-database-cleaner")))))},Zn=function(e){var t=e.title,r=e.keys,a=e.max,o=void 0===a?1/0:a,c=e.color,l=e.bgColor;return n.createElement("div",{className:(0,mn.A)("rounded-xl p-4",l)},n.createElement("p",{className:(0,mn.A)("mb-3 font-semibold",c)},t," (",r.length,")"),n.createElement("div",{className:"space-y-2"},r.slice(0,o).map((function(e){return n.createElement("div",{key:"sum-b-"+e,className:"flex items-center justify-between text-xs"},n.createElement("span",{className:"text-gray-700"},Yn[e]))})),r.length>o&&n.createElement("p",{className:"text-xs font-medium text-gray-500"},"+",r.length-o," ",(0,i.__)("more","advanced-database-cleaner"))))};const ea=function(){var e=(0,d.d4)((function(e){return e.shared.taskId})),t=(0,d.wA)(),r=Fn((0,n.useState)(!0),2),a=r[0],o=r[1],l=Fn((0,n.useState)(!1),2),u=l[0],m=l[1],f=Fn((0,n.useState)(""),2),p=f[0],v=f[1],y=Fn((0,n.useState)("adbc_weekly"),2),g=y[0],b=y[1],x=Fn((0,n.useState)(""),2),w=x[0],_=x[1],E=Fn((0,n.useState)(!0),2),N=E[0],k=E[1],S=Fn((0,n.useState)((function(){return Object.fromEntries(Object.keys(Yn).map((function(e){return[e,Dn({},Vn)]})))})),2),L=S[0],j=S[1],O=(0,n.useMemo)((function(){return Object.keys(Yn).filter((function(e){return!Hn.includes(e)}))}),[]),T=(0,n.useMemo)((function(){return O.filter((function(e){return L[e].selected}))}),[O,L]),I=(0,n.useMemo)((function(){return Hn.filter((function(e){return L[e].selected}))}),[L]),F=(0,n.useMemo)((function(){return"FREE"===z?O.filter((function(e){return!qn.has(e)})):O}),[O]),M=(0,n.useMemo)((function(){return"FREE"===z?T.filter((function(e){return!qn.has(e)})):T}),[T]),G=(0,n.useMemo)((function(){return"FREE"===z?T.filter((function(e){return qn.has(e)})):[]}),[T]),D=M.length===F.length,R=M.length>0,B=Fn((0,n.useState)(!1),2),U=B[0],W=B[1],Y=(0,n.useRef)(null);(0,n.useEffect)((function(){var e=function(e){Y.current&&!Y.current.contains(e.target)&&W(!1)};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}),[]);var K=function(e){var t=new Date(e),r=function(e){return String(e).padStart(2,"0")},n=t.getFullYear(),a=r(t.getMonth()+1),o=r(t.getDate()),i=r(t.getHours()),c=r(t.getMinutes());return"".concat(n,"-").concat(a,"-").concat(o,"T").concat(i,":").concat(c)};(0,n.useEffect)((function(){var r=function(){var r=An(In().mark((function r(){var n,a,i,c,l;return In().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=3;break}return _(K(Date.now())),r.abrupt("return",o(!1));case 3:return r.prev=3,r.next=6,bn({id:e});case 6:n=r.sent,a=n.data,v(a.name),b(a.frequency),i=Number(a.start_datetime),c=13===String(i).length?Number(i):1e3*i,_(K(c)),k(a.active),l=structuredClone(L),Object.entries(a.operations).forEach((function(e){var t,r=Fn(e,2),n=r[0],a=r[1];l[n]&&(l[n]={selected:!0,keepType:"string"==typeof a?"days":a.type,keepValue:"string"==typeof a?0:parseInt(null!==(t=a.value)&&void 0!==t?t:0,10)})})),j(l),r.next=22;break;case 19:r.prev=19,r.t0=r.catch(3),Pt(t,r.t0.message);case 22:return r.prev=22,o(!1),r.finish(22);case 25:case"end":return r.stop()}}),r,null,[[3,19,22,25]])})));return function(){return r.apply(this,arguments)}}();r()}),[e]);var $=(0,n.useCallback)((function(e){"FREE"===z&&qn.has(e)||j((function(t){return Dn(Dn({},t),{},zn({},e,Dn(Dn({},t[e]),{},{selected:!t[e].selected})))}))}),[]),q=(0,n.useCallback)((function(e){j((function(t){return Dn(Dn({},t),{},zn({},e,Dn(Dn({},t[e]),{},{selected:!1})))}))}),[]),H=(0,n.useCallback)((function(e,t,r){return j((function(n){return Dn(Dn({},n),{},zn({},e,Dn(Dn({},n[e]),{},zn({},t,r))))}))}),[]),V=(0,n.useCallback)((function(){j((function(e){var t=Dn({},e),r=!D;return F.forEach((function(e){return t[e].selected=r})),t}))}),[D,F]),Q=function(){var t={};return Object.entries(L).forEach((function(e){var r=Fn(e,2),n=r[0],a=r[1];a.selected&&("FREE"===z&&qn.has(n)||(Kn.has(n)||$n.has(n)?t[n]="no_keep_last":a.keepValue&&0!==Number(a.keepValue)?t[n]={type:a.keepType,value:Number(a.keepValue)}:t[n]="no_keep_last"))})),{id:null!=e?e:void 0,name:p,frequency:g,start_datetime:Math.floor(new Date(w).getTime()/1e3),type:"general_cleanup",operations:t,active:N}},J=function(){var r=An(In().mark((function r(n){return In().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.preventDefault(),p&&w){r.next=3;break}return r.abrupt("return",alert((0,i.__)("Name & start date are required","advanced-database-cleaner")));case 3:if(m(!0),r.prev=4,!e){r.next=10;break}return r.next=8,En(Q());case 8:r.next=12;break;case 10:return r.next=12,wn(Q());case 12:Ot(t,e?(0,i.__)("Updated successfully!","advanced-database-cleaner"):(0,i.__)("Created successfully!","advanced-database-cleaner")),X(),r.next=19;break;case 16:r.prev=16,r.t0=r.catch(4),Pt(t,r.t0.message);case 19:return r.prev=19,m(!1),r.finish(19);case 22:case"end":return r.stop()}}),r,null,[[4,16,19,22]])})));return function(e){return r.apply(this,arguments)}}(),X=function(){t(Mm({tabId:"automation"})),t($m()),t(Af()),t(ze())};return a?n.createElement("div",{className:"flex h-96 items-center justify-center"},n.createElement("div",{className:"text-center"},n.createElement(C,{spinnerColor:"text-blue-600"}))):n.createElement("div",{className:"min-h-screen"},n.createElement("div",{className:"w-full space-y-8"},n.createElement("header",{className:"flex items-center"},n.createElement("button",{onClick:X,className:"group flex items-center gap-3 rounded-xl border bg-white px-4 py-2 shadow-sm transition-all"},n.createElement(A.rBg,{className:"h-5 w-5 text-blue-600 transition-transform group-hover:-translate-x-0.5"}),n.createElement("span",{className:"text-sm font-medium text-gray-700"},(0,i.__)("Back","advanced-database-cleaner")))),n.createElement("form",{onSubmit:J,className:"flex flex-col justify-between gap-8 xl:flex-row"},n.createElement("section",{className:"w-full flex-1 space-y-8"},n.createElement("div",{className:"rounded-xl bg-white p-8 shadow-sm ring-1 ring-gray-200"},n.createElement(Qn,{title:(0,i.__)("Select items to clean","advanced-database-cleaner"),count:M.length}),n.createElement("div",{className:"relative mb-4",ref:Y},n.createElement("button",{type:"button",onClick:function(){return W((function(e){return!e}))},className:"flex w-full items-center justify-between rounded-xl border border-gray-300 bg-gray-50 px-4 py-3 text-sm font-medium ring-0 hover:bg-gray-100 focus:border-gray-800 focus:outline-none focus:ring-0"},n.createElement("span",{className:"font-normal text-gray-700"},0===M.length?(0,i.__)("Select items","advanced-database-cleaner"):"".concat(M.length," ").concat((0,i.__)("items selected","advanced-database-cleaner"))),n.createElement(A.bv7,{className:(0,mn.A)("h-5 w-5 text-gray-400 transition-transform",U&&"rotate-180")})),U&&n.createElement("div",{className:"absolute z-20 mt-2 w-full rounded-xl border border-gray-300 bg-white shadow-xl"},n.createElement("div",{className:"mt-1 border-b border-gray-100 px-6 py-4"},n.createElement("label",{className:"flex cursor-pointer items-center gap-3 text-sm font-medium"},n.createElement("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-blue-600",checked:D,ref:function(e){e&&(e.indeterminate=R&&!D)},onChange:V}),n.createElement("span",{className:"-mt-[5px]"},D?(0,i.__)("Unselect All","advanced-database-cleaner"):(0,i.__)("Select All","advanced-database-cleaner")))),n.createElement("div",{className:"max-h-64 overflow-y-auto p-2"},O.map((function(e){var t=qn.has(e),r="FREE"===z&&t;return n.createElement("label",{key:"item-to-"+e,className:(0,mn.A)("flex items-center gap-3 rounded-xl px-4 py-3 transition-colors",r?"cursor-not-allowed hover:bg-gray-200":"cursor-pointer hover:bg-gray-200")},n.createElement("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-600 disabled:!cursor-not-allowed disabled:border-gray-300",checked:L[e].selected,disabled:r,onChange:function(){return $(e)}}),n.createElement("span",{className:"-mt-[4px] flex flex-1 justify-between text-sm text-gray-700"},Yn[e],t&&"FREE"===z&&n.createElement("span",{className:"ml-2 inline-flex items-center gap-1 text-[.75rem] font-semibold text-yellow-600"},n.createElement(P,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=add-edit-automation-task&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"!text-yellow-600"},n.createElement(s.xGQ,{className:"text-[.9rem] text-yellow-500"}),(0,i.__)("In premium","advanced-database-cleaner")))),L[e].selected&&!r&&n.createElement(A.q9z,{className:"h-4 w-4 text-blue-600"}))}))))),M.length>0&&n.createElement("div",null,M.map((function(e){return n.createElement("div",{key:"config-kl-"+e,className:"flex w-full flex-col justify-between border-b border-blue-200 bg-blue-50 p-4 md:flex-row md:items-center"},n.createElement("div",{className:"flex items-center gap-3"},n.createElement("button",{type:"button",onClick:function(){return $(e)},className:"rounded-lg p-1 text-blue-600 transition-colors hover:bg-blue-100"},n.createElement(A.U_s,{className:"h-4 w-4"})),n.createElement("span",{className:"text-sm font-medium text-blue-900"},Yn[e])),n.createElement("div",{className:"ml-2 flex items-center gap-2 text-[.8rem]"},function(e){var t;return Kn.has(e)?n.createElement("span",{className:"text-xs italic text-gray-500"},(0,i.__)("'Keep last' not applicable","advanced-database-cleaner")):$n.has(e)?null:n.createElement(n.Fragment,null,n.createElement("span",null,(0,i.__)("Keep last","advanced-database-cleaner")),n.createElement(h,{type:"number",min:"0",className:"!h-[2rem] !max-h-[2rem] !min-h-[2rem] w-[60px] !rounded-lg border !border-gray-300 px-3 py-1 !text-xs focus:!border-gray-800 focus:!outline-none focus:!ring-0",value:L[e].keepValue,onChange:function(t){return H(e,"keepValue",t.target.value)}}),n.createElement(uf,{selectItems:Bn,selectedItem:null!==(t=Wn.find((function(t){return t.key===L[e].keepType})))&&void 0!==t?t:Wn[0],onSelectionChange:function(t){return H(e,"keepType",t)},minWidthButton:"min-w-[60px] w-full",minWidthContent:"FREE"===z?"min-w-[180px]":"min-w-[120px]",borderColor:"border-gray-300",extraBtnClasses:"!h-[2.4rem]"}))}(e)))}))),G.length>0&&n.createElement("div",{className:"mt-4"},n.createElement("div",{className:"mb-3 rounded-lg border border-yellow-200 bg-yellow-50 p-3"},n.createElement("div",{className:"flex items-start gap-2"},n.createElement(s.xGQ,{className:"mt-0.5 h-4 w-4 flex-shrink-0 text-yellow-600"}),n.createElement("div",{className:"text-sm"},n.createElement("p",{className:"font-medium text-yellow-800"},(0,i.__)("Premium Features Selected","advanced-database-cleaner")),n.createElement("p",{className:"mt-1 text-yellow-700"},(0,i.__)("The following operations are only available in the premium version and will not be cleaned:","advanced-database-cleaner"))))),n.createElement("div",null,G.map((function(e){return n.createElement("div",{key:"config-as-"+e,className:"flex w-full flex-col justify-between border-b border-yellow-200 bg-yellow-50 p-4 md:flex-row md:items-center"},n.createElement("div",{className:"flex items-center gap-3"},n.createElement("button",{type:"button",onClick:function(){return q(e)},className:"rounded-lg p-1 text-yellow-600 transition-colors hover:bg-yellow-100"},n.createElement(A.U_s,{className:"h-4 w-4"})),n.createElement("span",{className:"text-sm font-medium text-yellow-900"},Yn[e]),n.createElement("span",{className:"ml-2 inline-flex items-center gap-1 text-[.75rem] font-semibold text-yellow-600"},n.createElement(s.xGQ,{className:"text-[.9rem] text-yellow-500"}),(0,i.__)("Premium only","advanced-database-cleaner"))),n.createElement("div",{className:"ml-2 flex items-center gap-2 text-[.8rem]"},n.createElement("span",{className:"text-xs italic text-yellow-600"},(0,i.__)("Will not be cleaned","advanced-database-cleaner"))))}))))),n.createElement("div",{className:"rounded-xl bg-white p-8 shadow-sm ring-1 ring-gray-200"},n.createElement(Qn,{title:(0,i.__)("Select actions to do","advanced-database-cleaner"),count:I.length}),n.createElement("div",{className:"flex flex-wrap items-center gap-4"},Hn.map((function(e){return n.createElement("div",{key:"op-"+e,className:(0,mn.A)("rounded-xl border px-8 py-4 transition-all",L[e].selected?"border-green-200 bg-green-50 shadow-sm":"border-gray-200 bg-gray-50 hover:bg-gray-100")},n.createElement("label",{className:"flex cursor-pointer items-start gap-3 pt-1"},n.createElement("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-green-600 focus:ring-green-600",checked:L[e].selected,onChange:function(){return $(e)}}),n.createElement("span",{className:"-mt-[6px] flex-1 text-sm font-medium text-gray-700"},Yn[e])))}))))),n.createElement("aside",{className:"w-full space-y-8 lg:w-[350px]"},n.createElement(Jn,{name:p,setName:v,frequency:g,setFrequency:b,start:w,setStart:_,active:N,setActive:k}),n.createElement(Xn,{selectedItemsToClean:M,selectedActionSchedulerInFree:G,operationsTodoSelected:I,ops:L}),n.createElement("div",{className:"space-y-3"},n.createElement("button",{type:"submit",disabled:u||M.length+I.length===0,className:"flex w-full items-center justify-center gap-3 rounded-xl bg-blue-500 px-6 py-4 text-sm font-semibold text-white shadow-lg transition-all hover:bg-blue-600 hover:shadow-xl disabled:cursor-not-allowed disabled:opacity-50 disabled:hover:bg-blue-600"},u?n.createElement(s.JbZ,{className:"animate-spin text-[1.5rem]"}):n.createElement(n.Fragment,null,n.createElement(c.abJ,{className:"h-5 w-5"}),e?(0,i.__)("Update task","advanced-database-cleaner"):(0,i.__)("Create task","advanced-database-cleaner"))),n.createElement("button",{type:"button",onClick:X,className:"w-full rounded-xl border border-gray-300 bg-white px-6 py-2 text-sm font-semibold text-gray-700 transition-all hover:bg-gray-50 hover:shadow-sm"},(0,i.__)("Cancel","advanced-database-cleaner")))))))};var ta=r(4263),ra=r(4563),na=r(2227),aa=(0,m.Z0)({name:"modal",initialState:{show:!1,type:"warning",title:null,message:null,dbBackupWarning:!0,confirmLabel:(0,i.__)("Confirm","advanced-database-cleaner")},reducers:{showModal:function(e,t){e.show=!0,e.type=t.payload.type||e.type,e.title=t.payload.title,e.message=t.payload.message,e.dbBackupWarning=t.payload.dbBackupWarning,e.confirmLabel=t.payload.confirmLabel||e.confirmLabel},hideModal:function(e){e.show=!1,e.type="warning",e.title=null,e.message=null,e.dbBackupWarning=!0,e.confirmLabel=(0,i.__)("Confirm","advanced-database-cleaner")}}}),oa=aa.actions,ia=oa.showModal,ca=oa.hideModal;const la=aa.reducer;function sa(e){return sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sa(e)}function ua(){ua=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==sa(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(sa(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function da(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function ma(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){da(o,n,a,i,c,"next",e)}function c(e){da(o,n,a,i,c,"throw",e)}i(void 0)}))}}function fa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pa(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pa(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ha(e){var t=e.show,r=e.taskData,c=e.onClose,u=fa((0,n.useState)(null),2),m=u[0],f=u[1],p=fa((0,n.useState)(!0),2),h=p[0],v=p[1],y=(0,d.d4)((function(e){return e.filter.currentPage})),g=(0,d.d4)((function(e){return e.filter.itemsPerPage})),b=(0,d.d4)((function(e){return e.action.actionType})),x=(0,d.d4)((function(e){return e.action.processAction})),w=(0,d.wA)();(0,n.useEffect)((function(){_()}),[y]),(0,n.useEffect)((function(){E()}),[x]);var _=function(){var e=ma(ua().mark((function e(){var t;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v(!0),e.prev=1,"PREMIUM"!==z){e.next=8;break}return e.next=5,Ln({id:r.taskId,currentPage:y,itemsPerPage:g});case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,bt();case 10:e.t0=e.sent;case 11:t=e.t0,f(t.data),e.next=19;break;case 15:e.prev=15,e.t1=e.catch(1),Pt(w,e.t1.message),f(null);case 19:return e.prev=19,v(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[1,15,19,22]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=ma(ua().mark((function e(){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x&&"delete_task_events"===b){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,On({id:r.taskId});case 5:_(),Ot(w,(0,i.__)("Cleared successfully!","advanced-database-cleaner")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),Pt(w,e.t0.message);case 12:return e.prev=12,w(Cf()),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=ma(ua().mark((function e(){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(Of({actionType:"delete_task_events",itemsType:null})),w(ia({type:"delete",title:(0,i.__)("Clear these events log?","advanced-database-cleaner"),message:"",confirmLabel:(0,i.__)("Clear","advanced-database-cleaner"),dbBackupWarning:!1}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t?n.createElement(a.e,{appear:!0,show:!0,as:n.Fragment},n.createElement(o.lG,{as:"div",className:"relative z-50",onClose:c},n.createElement(o.Xi,{className:"fixed inset-0 bg-gray-900/70"}),n.createElement("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto"},n.createElement("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},n.createElement(o.Lj,{className:"relative w-full max-w-5xl transform overflow-visible rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:p-2"},n.createElement("button",{className:"absolute right-4 top-4 z-30 p-1 text-gray-500 hover:text-black",onClick:c,"aria-label":"Close"},n.createElement(l.WQq,{className:"h-6 w-6"})),n.createElement("div",{className:"-m-2 rounded-t-lg border-b border-slate-300 bg-gradient-to-r from-slate-100 to-blue-50 px-8 py-4"},n.createElement("div",{className:"flex items-center gap-3 text-[1.1rem]"},n.createElement("h2",{className:"text-gray-700"},(0,i.__)("Cleanup events log for:","advanced-database-cleaner")),n.createElement("span",{className:"font-semibold text-black"},r.taskName))),n.createElement("div",{className:"relative my-4 min-h-[200px] rounded-lg bg-slate-50"},n.createElement("div",{className:"".concat("PREMIUM"!==z?"pointer-events-none blur-[1px]":"")},h?n.createElement("div",{className:"flex min-h-[232px] items-center justify-center"},n.createElement(C,{spinnerColor:"text-blue-600"})):n.createElement(n.Fragment,null,m&&m.total_items>0?n.createElement("div",{className:"max-h-[70vh] overflow-x-auto overflow-y-auto px-4 py-4",style:{scrollbarWidth:"thin"}},n.createElement("div",{className:"min-w-max"},m.events.map((function(e,t){var r=fa(Object.entries(e)[0],2),a=r[0],o=r[1];return n.createElement("div",{key:"evt-w-"+a,className:"w-full min-w-[800px] rounded-lg border border-transparent bg-white p-2 hover:border hover:border-gray-600 hover:bg-gray-100"},n.createElement("div",{className:"flex w-full items-center"},n.createElement("div",{className:"flex flex-shrink-0 items-center gap-2 text-sm text-black"},n.createElement("span",{className:"rounded bg-gray-100 px-2 py-0.5 text-xs"},ft(a,!0,!1))),n.createElement("div",{className:"flex w-32 flex-shrink-0 justify-center"},n.createElement("span",{className:"inline-flex items-center text-nowrap rounded-md bg-green-700 px-2 py-0.5 text-xs font-medium text-white"},Object.values(o).reduce((function(e,t){return e+t}),0)," ",(0,i.__)("items cleaned","advanced-database-cleaner"))),n.createElement("div",{className:"flex w-6 flex-shrink-0 justify-center text-gray-400"},"-"),n.createElement("div",{className:"min-w-0 flex-1"},n.createElement("div",{className:"flex items-center gap-2 overflow-x-auto text-nowrap pb-1 text-sm text-gray-700",style:{scrollbarWidth:"thin"}},function(e){return Object.entries(e).map((function(e,t){var r=fa(e,2),a=r[0],o=r[1];return n.createElement("div",{key:"event-l-"+t,className:"flex items-center gap-1 text-[.85rem]"},n.createElement("span",{className:"text-gray-700"},Sf(a)),n.createElement("span",{className:"text-gray-900"},"[",o,"]"),"-")}))}(o)))))})))):n.createElement("div",{className:"rounded-lg bg-gray-50 p-12 text-center"},n.createElement("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gray-100"},n.createElement(s.t2D,{className:"h-8 w-8 text-gray-400"})),n.createElement("h3",{className:"mb-2 text-lg font-semibold text-gray-900"},(0,i.__)("No events recorded","advanced-database-cleaner")),n.createElement("p",{className:"text-gray-600"},(0,i.__)("Events will appear here when the task runs.","advanced-database-cleaner"))))),"PREMIUM"!==z&&n.createElement("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-white/80 backdrop-blur-[0.5px]"},n.createElement("div",{className:"mx-4 max-w-lg border border-gray-200 bg-white p-8 shadow-2xl"},n.createElement("div",{className:"text-center"},n.createElement("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-r from-yellow-400 to-orange-500"},n.createElement(s.xGQ,{className:"h-8 w-8 text-white"})),n.createElement("h3",{className:"mb-3 text-xl font-bold text-gray-900"},(0,i.__)("Unlock Cleanup Events Log","advanced-database-cleaner")),n.createElement("p",{className:"mb-6 text-gray-600"},(0,i.__)("Upgrade to the Premium to access detailed logs of your cleanup tasks.","advanced-database-cleaner")),n.createElement("div",{className:"mb-6 space-y-2 text-left text-sm text-gray-700"},n.createElement("div",{className:"flex items-center gap-2"},n.createElement("div",{className:"h-2 w-2 rounded-full bg-green-500"}),n.createElement("span",null,(0,i.__)("Detailed tasks events logging","advanced-database-cleaner"))),n.createElement("div",{className:"flex items-center gap-2"},n.createElement("div",{className:"h-2 w-2 rounded-full bg-green-500"}),n.createElement("span",null,(0,i.__)("See what was cleaned and when","advanced-database-cleaner"))),n.createElement("div",{className:"flex items-center gap-2"},n.createElement("div",{className:"h-2 w-2 rounded-full bg-green-500"}),n.createElement("span",null,(0,i.__)("Clear events log anytime you want","advanced-database-cleaner"))),n.createElement("div",{className:"flex items-center gap-2"},n.createElement("div",{className:"h-2 w-2 rounded-full bg-green-500"}),n.createElement("span",null,(0,i.__)("Priority support","advanced-database-cleaner")))),n.createElement(P,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=automation-task-events-modal&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"group block !w-full transform rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-2 text-center !text-[1rem] font-medium text-white !no-underline shadow-lg transition-all hover:from-blue-700 hover:to-purple-700 hover:!text-white focus:!text-white"},n.createElement("span",{className:"flex items-center justify-center gap-2"},(0,i.__)("Upgrade to Premium","advanced-database-cleaner"),n.createElement(A.L2n,{className:"mt-[4px] h-4 w-4 transition-transform duration-200 group-hover:translate-x-0.5"}))),n.createElement("div",{className:"mt-4"},n.createElement(P,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=automation-task-events-modal&utm_medium=adbc-free&utm_campaign=plugins&utm_content=learn-more-about-premium-features",target:"_blank",className:"!text-sm !font-normal !text-blue-600 !no-underline hover:!text-blue-800 hover:!underline"},(0,i.__)("Learn more about Premium features","advanced-database-cleaner"))))))),!h&&m&&m.total_items>0&&n.createElement("div",{className:"flex flex-col items-center justify-between gap-4 rounded-b-lg border-t border-gray-200 bg-gray-50 p-4 sm:flex-row ".concat("PREMIUM"!==z?"pointer-events-none blur-[1px]":"")},n.createElement("button",{onClick:N,disabled:"PREMIUM"!==z,className:"inline-flex items-center gap-2 rounded-lg border border-red-300 bg-red-100 px-2 py-1 text-sm font-medium text-red-700 hover:bg-red-200 disabled:cursor-not-allowed disabled:opacity-50"},n.createElement(ta.op0,{className:"h-4 w-4"}),(0,i.__)("Clear log","advanced-database-cleaner")),n.createElement(He,{totalItems:null==m?void 0:m.total_items,top:!1,loading:h}))))))):null}function va(e){return va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},va(e)}function ya(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ya(Object(r),!0).forEach((function(t){ba(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ya(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ba(e,t,r){return(t=function(e){var t=function(e){if("object"!=va(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=va(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==va(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xa(){xa=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==va(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(va(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function wa(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function _a(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){wa(o,n,a,i,c,"next",e)}function c(e){wa(o,n,a,i,c,"throw",e)}i(void 0)}))}}function Ea(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Na(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Na(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Na(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ka={adbc_once:(0,i.__)("Once","advanced-database-cleaner"),adbc_hourly:(0,i.__)("Once hourly","advanced-database-cleaner"),adbc_twicedaily:(0,i.__)("Twice daily","advanced-database-cleaner"),adbc_daily:(0,i.__)("Once daily","advanced-database-cleaner"),adbc_weekly:(0,i.__)("Once weekly","advanced-database-cleaner"),adbc_monthly:(0,i.__)("Once monthly","advanced-database-cleaner")},Sa=function(e){var t,r,a=e.task,o=e.onDelete,c=e.onToggle,l=e.onEvents,u=e.dispatch;return n.createElement("div",{className:"rounded-xl shadow-sm transition-all hover:shadow-lg hover:ring-gray-300 ".concat(a.active?"border border-green-500 bg-green-50":"border border-gray-300 bg-gray-50")},n.createElement("div",{className:"flex h-full flex-col p-6"},n.createElement("div",{className:"mb-4 flex items-start justify-between border-b border-dashed border-gray-300 pb-4"},n.createElement("div",{className:"flex-1 pr-4"},n.createElement("h3",{className:"text-[1rem] font-semibold text-black"},a.name)),n.createElement("div",{className:"flex items-center gap-2"},a.active?n.createElement("span",{className:"text-gray-900"},(0,i.__)("Active","advanced-database-cleaner")):n.createElement("span",{className:"text-gray-500"},(0,i.__)("Paused","advanced-database-cleaner")),n.createElement(k,{toggleSize:"big",toggleChangeCallback:c,isActive:a.active,bgColor:"bg-green-500"}))),n.createElement("div",{className:"flex-grow space-y-1 text-gray-700"},n.createElement("div",{className:"flex items-center gap-2 text-[.8rem]"},n.createElement("span",{className:"flex items-center gap-1 font-medium text-gray-900"},n.createElement(ra.Amo,{className:"text-[1rem] text-gray-500"}),(0,i.__)("Start date:","advanced-database-cleaner")),n.createElement("span",null,a.start_datetime?ft(a.start_datetime,!0,!1):"")),n.createElement("div",{className:"flex items-center gap-2 text-[.8rem]"},n.createElement("span",{className:"flex items-center gap-1 font-medium text-gray-900"},n.createElement(he.tnc,{className:"text-[1.1rem] text-gray-500"}),(0,i.__)("Frequency:","advanced-database-cleaner")),n.createElement("span",null,ka[a.frequency]||a.frequency)),n.createElement("div",{className:"flex items-center gap-2 text-[.8rem]"},n.createElement("span",{className:"flex items-center gap-1 font-medium text-gray-900"},n.createElement(A.mmf,{className:"text-[1rem] text-gray-500"}),(0,i.__)("Last run:","advanced-database-cleaner")),a.last_run?n.createElement(j,{content:n.createElement("div",null,(0,i.sprintf)((0,i.__)("Executed %s","advanced-database-cleaner"),dt(Date.parse(a.last_run)||a.last_run)))},n.createElement("span",{className:"cursor-default underline decoration-gray-400 decoration-dotted decoration-1 underline-offset-4"},ft(a.last_run,!0,!1))):n.createElement("span",null,"--")),n.createElement("div",{className:"flex items-center gap-2 text-[.8rem]"},n.createElement("span",{className:"flex items-center gap-1 font-medium text-gray-900"},n.createElement(na.W_k,{className:"text-[1rem] text-gray-500"}),(0,i.__)("Next run:","advanced-database-cleaner")),a.next_run?n.createElement(j,{content:n.createElement("div",null,(r=mt(a.next_run),r?(0,i.sprintf)((0,i.__)("Runs in %s","advanced-database-cleaner"),r):(0,i.__)("Running now","advanced-database-cleaner")))},n.createElement("span",{className:"cursor-default underline decoration-gray-400 decoration-dotted decoration-1 underline-offset-4"},ft(a.next_run,!0,!1))):n.createElement("span",null,"--")),n.createElement("div",{className:"flex items-center gap-2 text-[.8rem]"},n.createElement("span",{className:"flex items-center gap-1 font-medium text-gray-900"},n.createElement(ye.hVZ,{className:"text-[1rem] text-gray-500"}),(0,i.__)("Items to clean:","advanced-database-cleaner")),n.createElement("span",null,Object.values(null!==(t=a.operations)&&void 0!==t?t:{}).length),a.operations&&Object.keys(a.operations).length>0?n.createElement(L,{content:n.createElement("span",{className:"flex flex-wrap items-center gap-2 text-gray-100"},Object.keys(a.operations).map((function(e,t){return n.createElement("span",{key:"opr"+t,className:"text-nowrap rounded-md bg-gray-600 px-2 py-0.5 text-xs"},Sf(e))}))),position:"bottom"},n.createElement(na.eQk,{className:"h-4 w-4"})):n.createElement("span",{className:"text-gray-500"},"--"))),n.createElement("div",{className:"mt-2 flex items-center justify-between"},n.createElement("div",{className:"flex flex-col gap-x-2 text-[0.65rem] italic text-gray-700 transition-opacity duration-300 xl:flex-row"},a.created_at&&n.createElement("span",null,(0,i.__)("Created:","advanced-database-cleaner")," ",ft(a.created_at,!0,!1)),n.createElement("span",{className:"hidden italic xl:flex"},"|"),n.createElement("span",null,(0,i.__)("Edited:","advanced-database-cleaner")," ",a.updated_at?ft(a.updated_at,!0,!1):(0,i.__)("never","advanced-database-cleaner"))),n.createElement("div",{className:"flex justify-end gap-2"},n.createElement(j,{content:(0,i.__)("Edit","advanced-database-cleaner"),align:"right"},n.createElement("button",{onClick:function(){u(Km(a.id)),u(Mm({subTabId:"add_edit_task"})),Im("task_id",a.id)},className:"inline-flex items-center justify-center gap-1 rounded-lg border border-gray-300 px-3 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-200 focus:outline-none"},n.createElement(ta.dtF,{className:"h-4 w-4"}))),n.createElement(j,{content:n.createElement("span",{className:"flex items-center gap-1"},(0,i.__)("Events log","advanced-database-cleaner"),"FREE"===z&&n.createElement("span",{className:"ml-1 flex gap-1 rounded-md bg-yellow-100 px-1 text-[.65rem] font-semibold text-yellow-800"},n.createElement(s.xGQ,{className:"text-[.9rem] text-yellow-600"}),(0,i.__)("premium","advanced-database-cleaner"))),align:"right"},n.createElement("button",{onClick:l,className:"inline-flex items-center justify-center gap-1 rounded-lg border border-gray-300 px-3 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-200 focus:outline-none"},n.createElement(A.yB7,{className:"h-4 w-4"}))),n.createElement(j,{content:(0,i.__)("Delete","advanced-database-cleaner"),align:"right"},n.createElement("button",{onClick:o,className:"inline-flex items-center justify-center gap-1 rounded-lg border border-gray-300 px-3 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-red-200 hover:text-red-700 focus:outline-none"},n.createElement(ta.op0,{className:"h-4 w-4"})))))))};const La=function(){var e=Ea((0,n.useState)([]),2),t=e[0],r=e[1],c=Ea((0,n.useState)("all"),2),u=c[0],m=c[1],f=Ea((0,n.useState)({total:0,active:0,paused:0}),2),p=f[0],h=f[1],v=Ea((0,n.useState)({actionType:"",taskId:null,taskName:"",showEventsModal:!1}),2),y=v[0],g=v[1],b=Ea((0,n.useState)(!1),2),x=b[0],w=b[1],_=Ea((0,n.useState)(!0),2),E=_[0],N=_[1],k=(0,d.d4)((function(e){return e.action.processAction})),S=(0,d.wA)();(0,n.useEffect)((function(){L()}),[u]),(0,n.useEffect)((function(){O()}),[k]);var L=function(){var e=_a(xa().mark((function e(){var t,n,a,o,i,c,l,s,d;return xa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.prev=1,e.next=4,yn({status:u});case 4:s=e.sent,d=s.data,r(Object.values(null!==(t=null==d?void 0:d.items)&&void 0!==t?t:{})),h({total:null!==(n=null==d||null===(a=d.counts)||void 0===a?void 0:a.total)&&void 0!==n?n:0,active:null!==(o=null==d||null===(i=d.counts)||void 0===i?void 0:i.active)&&void 0!==o?o:0,paused:null!==(c=null==d||null===(l=d.counts)||void 0===l?void 0:l.paused)&&void 0!==c?c:0}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),Pt(S,e.t0.message);case 13:return e.prev=13,N(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=_a(xa().mark((function e(){return xa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k&&"delete_task"===y.actionType){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,kn({id:y.taskId});case 5:L(),g({actionType:"",taskId:null,taskName:""}),Ot(S,(0,i.__)("Deleted successfully!","advanced-database-cleaner")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),Pt(S,e.t0.message);case 13:return e.prev=13,S(Cf()),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=_a(xa().mark((function e(t){return xa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g({actionType:"delete_task",taskId:t.id,taskName:t.name}),S(Of({actionType:"delete_task",itemsType:null})),S(ia({type:"delete",title:(0,i.__)("Delete task?","advanced-database-cleaner"),message:(0,i.sprintf)((0,i.__)("Task to delete: %s","advanced-database-cleaner"),t.name),confirmLabel:(0,i.__)("Delete","advanced-database-cleaner"),dbBackupWarning:!1}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=_a(xa().mark((function e(t){return xa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,En(ga(ga({},t),{},{active:!t.active}));case 3:L(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Pt(S,e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=_a(xa().mark((function e(t){return xa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g({actionType:"show_task_events",taskId:t.id,taskName:t.name,showEventsModal:!0});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.createElement("div",{className:""},n.createElement("div",{className:"mb-4"},n.createElement("div",{className:"mb-8 flex flex-col items-start gap-4 md:flex-row md:items-center md:justify-between"},n.createElement("div",null,n.createElement("button",{className:"flex h-[40px] items-center justify-center gap-x-2 rounded-lg bg-blue-500 px-10 text-sm font-semibold tracking-wide text-white hover:bg-blue-600",onClick:function(){"FREE"===z&&p.total>=5?w(!0):S(Mm({subTabId:"add_edit_task"}))}},n.createElement(he.db9,{className:"text-[1.2rem]"}),(0,i.__)("New automated task","advanced-database-cleaner"))),"FREE"===z&&n.createElement("div",{className:"w-full sm:w-auto"},n.createElement("div",{className:"group relative overflow-hidden rounded-xl bg-gray-100 px-2 py-[5px] md:bg-white"},n.createElement("div",{className:"relative flex items-center justify-between gap-4"},n.createElement("div",{className:"items-top flex gap-3"},n.createElement(fe.gt3,{className:"text-[.9rem] text-yellow-500"}),n.createElement("div",null,n.createElement("div",{className:"flex items-center gap-2"},n.createElement("span",{className:"text-xs font-bold uppercase tracking-wider"},(0,i.__)("Free Plan","advanced-database-cleaner")),n.createElement("div",{className:"h-1 w-1 rounded-full bg-gray-600"}),n.createElement("span",{className:"text-xs text-black"},(0,i.sprintf)((0,i.__)("%1$d/%2$d tasks used","advanced-database-cleaner"),p.total,5))),n.createElement("div",{className:"relative mt-2.5 h-1 overflow-hidden rounded-full bg-gray-300/80"},n.createElement("div",{className:"h-full bg-gradient-to-r from-yellow-500 to-orange-500  transition-all duration-500 ease-out",style:{width:"".concat(Math.min(p.total/5*100,100),"%")}})))),n.createElement("button",{type:"button",className:"group/btn flex items-center gap-1 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 px-2 py-1.5 text-[11px] font-semibold text-white shadow-sm transition-all duration-200 hover:from-blue-700 hover:to-indigo-700 hover:shadow-md",onClick:function(){return w(!0)}},n.createElement("span",null,(0,i.__)("Upgrade","advanced-database-cleaner")),n.createElement(ve.ye6,{className:"mt-[1px] h-4 w-4 transition-transform duration-200 group-hover/btn:translate-x-0.5"})))))),n.createElement("div",null,n.createElement("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3"},n.createElement("button",{className:"rounded-xl px-4 py-1 text-left sm:py-3 ".concat("all"===u?"bg-blue-100 ring-1 ring-blue-400":"bg-gray-100/80 ring-1 ring-gray-200 hover:ring-blue-400"),onClick:function(){return m("all")}},n.createElement("div",{className:"flex items-center gap-2"},n.createElement("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-100"},n.createElement(A.Xqn,{className:"h-5 w-5 text-blue-600"})),n.createElement("div",{className:"flex w-full items-center justify-between"},n.createElement("p",{className:"text-[.8rem] font-semibold text-gray-600"},(0,i.__)("Total Tasks","advanced-database-cleaner")),n.createElement("p",{className:"text-xl font-bold text-gray-900"},p.total)))),n.createElement("button",{className:"rounded-xl px-4 py-1 text-left sm:py-3 ".concat("active"===u?"bg-green-100 ring-1 ring-green-400":"bg-gray-100/80 ring-1 ring-gray-200 hover:ring-green-400"),onClick:function(){return m("active")}},n.createElement("div",{className:"flex items-center gap-2"},n.createElement("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-green-100"},n.createElement(ta.hmc,{className:"h-5 w-5 text-green-600"})),n.createElement("div",{className:"flex w-full items-center justify-between"},n.createElement("p",{className:"text-[.8rem] font-semibold text-gray-600"},(0,i.__)("Active Tasks","advanced-database-cleaner")),n.createElement("p",{className:"text-xl font-bold text-gray-900"},p.active)))),n.createElement("button",{className:"rounded-xl px-4 py-1 text-left sm:py-3 ".concat("paused"===u?"bg-gray-200 ring-1 ring-gray-400":"bg-gray-100/80 ring-1 ring-gray-200 hover:ring-gray-400"),onClick:function(){return m("paused")}},n.createElement("div",{className:"flex items-center gap-2"},n.createElement("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gray-200"},n.createElement(ta.f6D,{className:"h-5 w-5 text-gray-600"})),n.createElement("div",{className:"flex w-full items-center justify-between"},n.createElement("p",{className:"text-[.8rem] font-semibold text-gray-600"},(0,i.__)("Paused Tasks","advanced-database-cleaner")),n.createElement("p",{className:"text-xl font-bold text-gray-900"},p.paused))))),n.createElement("div",{className:"mt-4 flex justify-end gap-3"},n.createElement(j,{content:(0,i.__)("Refresh","advanced-database-cleaner")},n.createElement(P,{href:"#",onClick:function(e){e.preventDefault(),L()}},n.createElement(s.JbZ,{className:"text-[1.1rem] ".concat(E?"animate-spin":"")})))))),E?n.createElement("div",{className:"flex min-h-[200px] items-center justify-center"},n.createElement(C,{spinnerColor:"text-blue-600"})):0===t.length?n.createElement("div",{className:"flex min-h-[300px] flex-col items-center justify-center rounded-xl px-6 ring-1 ring-gray-200"},n.createElement("div",{className:"flex h-16 w-16 items-center justify-center rounded-full border border-gray-200 bg-gray-100"},n.createElement(s.t2D,{className:"h-7 w-7 text-gray-400"})),n.createElement("div",{className:"mt-6 text-center"},n.createElement("h3",{className:"mb-3 text-[1.3em] font-bold text-gray-800"},(0,i.__)("No tasks found!","advanced-database-cleaner")),"all"!==u?n.createElement("p",{className:"text-sm leading-relaxed text-gray-500"},(0,i.__)("You don't have any tasks matching the selected filter.","advanced-database-cleaner")):n.createElement("p",{className:"text-sm leading-relaxed text-gray-500"},(0,i.__)("Get started by creating your first automated cleaning task.","advanced-database-cleaner")))):n.createElement("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2"},t.map((function(e){return n.createElement(Sa,{key:"tsk-"+e.id,task:e,onDelete:function(){return T(e)},onToggle:function(){return I(e)},onEvents:function(){return F(e)},dispatch:S})}))),n.createElement("div",{className:"mt-4 flex justify-end text-[.75rem] text-gray-400"},(0,i.__)("(All dates/times are in your local time zone)","advanced-database-cleaner")),y.showEventsModal&&n.createElement(ha,{show:y.showEventsModal,taskData:y,onClose:function(){g({actionType:"",taskId:null,taskName:"",showEventsModal:!1}),S(Cf()),S(ze())}}),"FREE"===z&&x&&n.createElement(a.e,{appear:!0,show:!0,as:n.Fragment},n.createElement(o.lG,{as:"div",className:"relative z-50",onClose:function(){return w(!1)}},n.createElement(o.Xi,{transition:!0,className:"fixed inset-0 bg-gray-900 bg-opacity-70 transition-opacity duration-100 ease-linear data-[closed]:opacity-0"}),n.createElement("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto"},n.createElement("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},n.createElement(o.Lj,{transition:!0,className:"relative transform overflow-visible rounded-2xl border-t-[3px] border-yellow-600 bg-white text-left shadow-xl transition-all duration-200 ease-out data-[closed]:scale-95 data-[closed]:opacity-0 sm:w-full sm:max-w-lg sm:px-2"},n.createElement("div",{className:"mx-auto mt-2"},n.createElement("div",{className:"relative px-8 pb-6 pt-6"},n.createElement("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-r from-yellow-300 to-orange-400"},n.createElement(s.xGQ,{className:"h-8 w-8 text-white"})),n.createElement("div",{className:"text-center"},n.createElement("h3",{className:"mb-2 text-2xl font-bold text-gray-900"},(0,i.__)("Unlock Premium Automation","advanced-database-cleaner")),n.createElement("p",{className:"text-gray-600"},(0,i.__)("Upgrade to create unlimited tasks with advanced features.","advanced-database-cleaner")))),n.createElement("div",{className:"px-12 pb-6"},n.createElement("div",{className:"space-y-4"},n.createElement("div",{className:"flex items-start gap-3"},n.createElement("div",{className:"mt-1 flex items-center justify-center rounded-full bg-green-100"},n.createElement(l.LGE,{className:"h-5 w-5 text-green-600"})),n.createElement("div",null,n.createElement("h4",{className:"font-semibold text-gray-900"},(0,i.__)("Unlimited Automated Tasks","advanced-database-cleaner")),n.createElement("p",{className:"text-sm text-gray-600"},(0,i.__)("Create as many automation tasks as you need.","advanced-database-cleaner")))),n.createElement("div",{className:"flex items-start gap-3"},n.createElement("div",{className:"mt-1 flex items-center justify-center rounded-full bg-green-100"},n.createElement(l.LGE,{className:"h-5 w-5 text-green-600"})),n.createElement("div",null,n.createElement("h4",{className:"font-semibold text-gray-900"},(0,i.__)("Many Premium Features","advanced-database-cleaner")),n.createElement("p",{className:"text-sm text-gray-600"},(0,i.__)("Access advanced cleaning options, analytics, and more.","advanced-database-cleaner")))),n.createElement("div",{className:"flex items-start gap-3"},n.createElement("div",{className:"mt-1 flex items-center justify-center rounded-full bg-green-100"},n.createElement(l.LGE,{className:"h-5 w-5 text-green-600"})),n.createElement("div",null,n.createElement("h4",{className:"font-semibold text-gray-900"},(0,i.__)("Priority Support","advanced-database-cleaner")),n.createElement("p",{className:"text-sm text-gray-600"},(0,i.__)("Get expert assistance and early access to new features.","advanced-database-cleaner")))))),n.createElement("div",{className:"flex flex-col gap-3 bg-gray-50 px-12 py-6 sm:flex-row"},n.createElement("button",{type:"button",className:"flex-1 rounded-xl border border-gray-300 px-4 py-3 text-sm font-medium text-gray-700 transition-colors hover:bg-white",onClick:function(){return w(!1)}},(0,i.__)("Maybe Later","advanced-database-cleaner")),n.createElement(P,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=automation-tasks-limit-modal&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"group block transform rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-3 text-center !text-[1rem] font-medium text-white !no-underline shadow-lg transition-all hover:from-blue-700 hover:to-purple-700 hover:!text-white focus:!text-white"},n.createElement("span",{className:"flex items-center justify-center gap-2"},(0,i.__)("Upgrade to Premium","advanced-database-cleaner"),n.createElement(A.L2n,{className:"mt-[4px] h-4 w-4 transition-transform duration-200 group-hover:translate-x-0.5"})))),n.createElement("div",{className:"mx-12 mb-8 rounded-lg bg-gradient-to-r from-blue-50 to-indigo-50 px-4 py-2 text-center"},n.createElement("p",{className:"mt-1 text-xs text-gray-800"},(0,i.__)("30-day money-back guarantee. No questions asked.","advanced-database-cleaner"))))))))))};function ja(e){return ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ja(e)}function Oa(){Oa=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==ja(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(ja(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Ta(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Pa(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Ta(o,n,a,i,c,"next",e)}function c(e){Ta(o,n,a,i,c,"throw",e)}i(void 0)}))}}function Ia(e,t){return Ca.apply(this,arguments)}function Ca(){return(Ca=Pa(Oa().mark((function e(t,r){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="tables"===e.t0?3:"options"===e.t0?4:"transients"===e.t0?5:"posts_meta"===e.t0?6:"users_meta"===e.t0?7:"cron_jobs"===e.t0?8:"revisions"===e.t0||"auto_drafts"===e.t0||"trashed_posts"===e.t0||"unapproved_comments"===e.t0||"spam_comments"===e.t0||"trashed_comments"===e.t0||"pingbacks"===e.t0||"trackbacks"===e.t0||"unused_postmeta"===e.t0||"duplicated_postmeta"===e.t0||"unused_commentmeta"===e.t0||"duplicated_commentmeta"===e.t0||"unused_usermeta"===e.t0||"duplicated_usermeta"===e.t0||"unused_termmeta"===e.t0||"duplicated_termmeta"===e.t0||"unused_relationships"===e.t0||"expired_transients"===e.t0||"oembed_caches"===e.t0||"actionscheduler_completed_actions"===e.t0||"actionscheduler_failed_actions"===e.t0||"actionscheduler_canceled_actions"===e.t0||"actionscheduler_completed_logs"===e.t0||"actionscheduler_failed_logs"===e.t0||"actionscheduler_canceled_logs"===e.t0||"actionscheduler_orphan_logs"===e.t0?9:10;break;case 3:return e.abrupt("return",Q(Y+"/get-tables-list",{method:"POST",data:r}));case 4:return e.abrupt("return",Q(Y+"/get-options-list",{method:"POST",data:r}));case 5:return e.abrupt("return",Q(Y+"/get-transients-list",{method:"POST",data:r}));case 6:return e.abrupt("return",Q(Y+"/get-posts-meta-list",{method:"POST",data:r}));case 7:return e.abrupt("return",Q(Y+"/get-users-meta-list",{method:"POST",data:r}));case 8:return e.abrupt("return",Q(Y+"/get-cron-jobs-list",{method:"POST",data:r}));case 9:return e.abrupt("return",Q(Y+"/general-cleanup/get-items",{method:"POST",data:r}));case 10:return e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Aa(e,t){return Fa.apply(this,arguments)}function Fa(){return(Fa=Pa(Oa().mark((function e(t,r){var n;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={edit_scan_results_tables:"/edit-scan-results-tables",optimize_tables:"/optimize-tables",repair_tables:"/repair-tables",empty_rows_tables:"/empty-rows-tables",delete_tables:"/delete-tables",edit_scan_results_options:"/edit-scan-results-options",set_autoload_to_yes_options:"/set-autoload-to-yes-options",set_autoload_to_no_options:"/set-autoload-to-no-options",delete_options:"/delete-options",edit_scan_results_transients:"/edit-scan-results-transients",set_autoload_to_yes_transients:"/set-autoload-to-yes-transients",set_autoload_to_no_transients:"/set-autoload-to-no-transients",delete_transients:"/delete-transients",edit_scan_results_posts_meta:"/edit-scan-results-posts-meta",delete_posts_meta:"/delete-posts-meta",edit_scan_results_users_meta:"/edit-scan-results-users-meta",delete_users_meta:"/delete-users-meta",edit_scan_results_cron_jobs:"/edit-scan-results-cron-jobs",delete_cron_jobs:"/delete-cron-jobs",delete_revisions:"/general-cleanup/delete-items",delete_auto_drafts:"/general-cleanup/delete-items",delete_trashed_posts:"/general-cleanup/delete-items",delete_unapproved_comments:"/general-cleanup/delete-items",delete_spam_comments:"/general-cleanup/delete-items",delete_trashed_comments:"/general-cleanup/delete-items",delete_pingbacks:"/general-cleanup/delete-items",delete_trackbacks:"/general-cleanup/delete-items",delete_unused_postmeta:"/general-cleanup/delete-items",delete_duplicated_postmeta:"/general-cleanup/delete-items",delete_unused_commentmeta:"/general-cleanup/delete-items",delete_duplicated_commentmeta:"/general-cleanup/delete-items",delete_unused_usermeta:"/general-cleanup/delete-items",delete_duplicated_usermeta:"/general-cleanup/delete-items",delete_unused_termmeta:"/general-cleanup/delete-items",delete_duplicated_termmeta:"/general-cleanup/delete-items",delete_unused_relationships:"/general-cleanup/delete-items",delete_expired_transients:"/general-cleanup/delete-items",delete_oembed_caches:"/general-cleanup/delete-items",delete_actionscheduler_completed_actions:"/general-cleanup/delete-items",delete_actionscheduler_failed_actions:"/general-cleanup/delete-items",delete_actionscheduler_canceled_actions:"/general-cleanup/delete-items",delete_actionscheduler_completed_logs:"/general-cleanup/delete-items",delete_actionscheduler_failed_logs:"/general-cleanup/delete-items",delete_actionscheduler_canceled_logs:"/general-cleanup/delete-items",delete_actionscheduler_orphan_logs:"/general-cleanup/delete-items"}[t]){e.next=4;break}return e.abrupt("return",[]);case 4:return e.abrupt("return",Q(Y+n,{method:"POST",data:r}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ma(e){return Ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ma(e)}function Ga(){Ga=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Ma(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(Ma(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Da(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function za(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Da(o,n,a,i,c,"next",e)}function c(e){Da(o,n,a,i,c,"throw",e)}i(void 0)}))}}function Ra(){return Ba.apply(this,arguments)}function Ba(){return(Ba=za(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/count-total-tables-to-optimize",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ua(){return Wa.apply(this,arguments)}function Wa(){return(Wa=za(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/count-total-tables-to-repair",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ya(){return Ka.apply(this,arguments)}function Ka(){return(Ka=za(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/count-total-tables-with-invalid-prefix",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $a(){return qa.apply(this,arguments)}function qa(){return(qa=za(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/count-total-not-scanned-tables",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ha(){return Va.apply(this,arguments)}function Va(){return(Va=za(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/count-big-options",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qa(){return Ja.apply(this,arguments)}function Ja(){return(Ja=za(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/count-total-not-scanned-options",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xa(){return Za.apply(this,arguments)}function Za(){return(Za=za(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/get-autoload-health",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eo(){return to.apply(this,arguments)}function to(){return(to=za(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/count-big-posts-meta",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ro(){return no.apply(this,arguments)}function no(){return(no=za(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/count-total-not-scanned-posts-meta",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ao(){return oo.apply(this,arguments)}function oo(){return(oo=za(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/count-duplicated-posts-meta",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function io(){return co.apply(this,arguments)}function co(){return(co=za(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/count-unused-posts-meta",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lo(){return so.apply(this,arguments)}function so(){return(so=za(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/count-big-users-meta",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uo(){return mo.apply(this,arguments)}function mo(){return(mo=za(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/count-total-not-scanned-users-meta",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fo(){return po.apply(this,arguments)}function po(){return(po=za(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/count-duplicated-users-meta",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ho(){return vo.apply(this,arguments)}function vo(){return(vo=za(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/count-unused-users-meta",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yo(){return go.apply(this,arguments)}function go(){return(go=za(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/count-big-transients",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bo(){return xo.apply(this,arguments)}function xo(){return(xo=za(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/count-total-not-scanned-transients",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wo(){return _o.apply(this,arguments)}function _o(){return(_o=za(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/count-expired-transients",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eo(){return No.apply(this,arguments)}function No(){return(No=za(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/count-total-not-scanned-cron-jobs",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ko(){return So.apply(this,arguments)}function So(){return(So=za(Ga().mark((function e(){return Ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/count-total-cron-jobs-with-no-action",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Lo=(0,m.Z0)({name:"scan",initialState:{isScanModalShown:!1,whoOpenedScanModal:"",scanParams:null,isScanBalanceModalShown:!1,isEditCategorizationModalShown:!1},reducers:{showScanModal:function(e,t){e.whoOpenedScanModal=t.payload,e.isScanModalShown=!0},hideScanModal:function(e){e.isScanModalShown=!1,e.whoOpenedScanModal=""},setScanParams:function(e,t){e.scanParams=t.payload},showScanBalanceModal:function(e){e.isScanBalanceModalShown=!0},hideScanBalanceModal:function(e){e.isScanBalanceModalShown=!1},showEditCategorizationModal:function(e){e.isEditCategorizationModalShown=!0},hideEditCategorizationModal:function(e){e.isEditCategorizationModalShown=!1}}}),jo=Lo.actions,Oo=jo.showScanModal,To=jo.hideScanModal,Po=jo.setScanParams,Io=jo.showScanBalanceModal,Co=jo.hideScanBalanceModal,Ao=jo.showEditCategorizationModal,Fo=jo.hideEditCategorizationModal;const Mo=Lo.reducer,Go=function(e){var t=e.actions,r=e.itemsType,a=(0,d.d4)((function(e){return e.action.actionType})),o=(0,d.d4)((function(e){return e.action.processAction})),c=(0,d.d4)((function(e){return e.action.selectedItems})),l=(0,d.wA)(),s=function(){if(a)if(0!==c.length)if(a.startsWith("delete_")||a.startsWith("empty_")){var e=function(e,t){return"empty_rows_tables"===e?{type:"delete",title:(0,i.sprintf)((0,i._n)("Empty %d table?","Empty %d tables?",t,"advanced-database-cleaner"),t),message:(0,i.__)("Once emptied, this action cannot be undone!","advanced-database-cleaner"),confirmLabel:(0,i.__)("Empty","advanced-database-cleaner"),dbBackupWarning:!0}:e.startsWith("delete_")?{type:"delete",title:(0,i.sprintf)((0,i._n)("Delete %d item?","Delete %d items?",t,"advanced-database-cleaner"),t),message:(0,i.__)("Once deleted, this action cannot be undone!","advanced-database-cleaner"),confirmLabel:(0,i.__)("Delete","advanced-database-cleaner"),dbBackupWarning:!0}:null}(a,c.length);l(ia(e))}else a.startsWith("edit_scan_results_")?l(Ao()):a.startsWith("scan_")?l(Oo("bulkAction")):l(Tf());else Ct(l,{type:"warning",title:(0,i.__)("No items selected!","advanced-database-cleaner"),message:(0,i.__)("Please select at least one item to apply the action!","advanced-database-cleaner"),hideAfter:5});else Ct(l,{type:"warning",title:(0,i.__)("No action selected!","advanced-database-cleaner"),message:(0,i.__)("Please select an action to apply!","advanced-database-cleaner"),hideAfter:5})};return n.createElement("div",{className:"flex gap-x-2"},n.createElement(uf,{selectItems:t,onSelectionChange:function(e){l(Of("bulk_actions"===e?{actionType:null,itemsType:r}:{actionType:e,itemsType:r}))},borderColor:"border-gray-400",minWidthButton:"min-w-[160px]"}),n.createElement("div",null,n.createElement(w,{text:(0,i.sprintf)((0,i.__)("Apply to selected (%1s)","advanced-database-cleaner"),c.length),className:"hidden !h-[2rem] lg:block",onClick:s,disabled:o}),n.createElement(w,{text:(0,i.sprintf)((0,i.__)("Apply (%1s)","advanced-database-cleaner"),c.length),className:"!h-[2rem] lg:hidden",onClick:s,disabled:o})))};function Do(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zo(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Ro=function(e){var t=e.autoloadHealth,r=void 0===t?"":t,a=e.autoloadedSize,o=void 0===a?0:a,c=Do((0,n.useState)(""),2),l=c[0],s=c[1],u=Do((0,n.useState)(""),2),m=u[0],f=u[1],p=Do((0,n.useState)(""),2),h=p[0],v=p[1],y=(0,d.d4)((function(e){return e.shared.currentTabId})),g=(0,d.d4)((function(e){return e.filter.belongsTo})),b=(0,d.d4)((function(e){return e.filter.prefixStatus})),x=(0,d.d4)((function(e){return e.filter.autoload})),w=(0,d.d4)((function(e){return e.filter.size})),_=(0,d.d4)((function(e){return e.filter.sizeUnit})),E=(0,d.d4)((function(e){return e.filter.expired})),N=(0,d.d4)((function(e){return e.filter.duplicated})),k=(0,d.d4)((function(e){return e.filter.unused})),S=(0,d.d4)((function(e){return e.filter.hasAction}));return(0,n.useEffect)((function(){var e="";f(""),v("blue"),"invalid_prefix"===b?e=(0,i.__)("Items below have invalid prefixes, indicating they likely originate from other WordPress installations or unrelated projects.","advanced-database-cleaner"):"orphans"===g?(e=(0,i.__)("Items below seem to be orphaned. However, please ensure you only delete entries you are certain are safe to remove.","advanced-database-cleaner"),v("red")):"not_scanned"===g?e="FREE"===z?(0,i.__)("Upgrade to Premium to scan the items below and identify which plugin or theme they belong to.","advanced-database-cleaner"):(0,i.__)("Items below have not been scanned yet. Click the button above to scan them and identify their associated plugin or theme.","advanced-database-cleaner"):"bad"===r&&"yes"===x?(e=(0,i.sprintf)((0,i.__)("Your autoload size (%s) exceeds the WordPress recommendation (800KB). Reducing it may improve performance.","advanced-database-cleaner"),o),f("https://docs.sigmaplugin.com/article/61-how-to-documentation-reduce-autoload-size?utm_source=filter-message&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=documentation-reduce-autoload-size"))):"tables"!==y&&"cron_jobs"!==y&&(w>=150&&"KB"===_||w>=1&&"MB"===_||w>=1&&"GB"===_)?e=(0,i.__)("Items below exceed 150KB, which is considered large! Please review them.","advanced-database-cleaner"):"transients"===y&&"yes"===E?e=(0,i.__)("Transients below are expired. You can safely delete them.","advanced-database-cleaner"):"posts_meta"===y&&"yes"===N?e=(0,i.__)("Items below are duplicate post meta entries. You can safely delete them, as the original entries will be preserved automatically.","advanced-database-cleaner"):"posts_meta"===y&&"yes"===k?e=(0,i.__)("Items below are unused post meta (linked to missing posts). You can safely delete them.","advanced-database-cleaner"):"users_meta"===y&&"yes"===N?e=(0,i.__)("Items below are duplicate user meta entries. You can safely delete them, as the original entries will be preserved automatically.","advanced-database-cleaner"):"users_meta"===y&&"yes"===k?e=(0,i.__)("Items below are unused user meta (linked to missing users). You can safely delete them.","advanced-database-cleaner"):"cron_jobs"===y&&"no"===S&&(e=(0,i.__)("The cron jobs below have no registered actions. Review and delete those that are obsolete.","advanced-database-cleaner")),s(e)}),[y,g,b,x,E,w,_,r,o,N,k,S]),n.createElement(n.Fragment,null,l&&n.createElement("div",{className:"tex-black mt-6 flex flex-col rounded-md ".concat("blue"===h?"bg-blue-100":"bg-red-100"," px-2 py-[7px] shadow-sm")},n.createElement("div",{className:"items-top flex gap-2"},n.createElement(fe.bT0,{"aria-hidden":"true",className:"mt-[2px] hidden size-[16px] md:flex ".concat("red"===h?"text-orange-600":"text-blue-500"," ")}),n.createElement("span",null,l," ",""!==m&&n.createElement(P,{href:m,target:"_blank"},(0,i.__)("Read more","advanced-database-cleaner")))),"bad"===r&&"yes"===x&&n.createElement("span",{className:"flex gap-x-1 pl-0 text-[.75rem] md:pl-[23px]"},n.createElement("span",{className:"font-bold"},(0,i.__)("Note:","advanced-database-cleaner")),(0,i.__)("Transients with autoload enabled also increase the autoload size. Check the Transients tab as well.","advanced-database-cleaner"))))};function Bo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Uo(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Uo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Wo=function(e){var t=e.tabName,r=e.categorizationCount,a=e.pluginsCount,o=e.themesCount,c=[[{key:"all",label:"All plugins ("+r.p+")"}],Object.entries(a).map((function(e){var t=Bo(e,2),r=t[0],n=t[1];return{key:r,label:n.name+" ("+n.count+")"}}))],l=[[{key:"all",label:"All themes ("+r.t+")"}],Object.entries(o).map((function(e){var t=Bo(e,2),r=t[0],n=t[1];return{key:r,label:n.name+" ("+n.count+")"}}))],s=ff(t),u=s.allItemsMsg,m=s.pluginsItemsMsg,f=s.themesItemsMsg,p=s.wpItemsMsg,h=Bo((0,n.useState)(!1),2),v=h[0],y=h[1],g=(0,d.d4)((function(e){return e.filter.belongsTo})),b=(0,d.d4)((function(e){return e.filter.belongsToPluginSlug})),x=(0,d.d4)((function(e){return e.filter.belongsToThemeSlug})),w=(0,d.d4)((function(e){return e.filter.showManualCorrectionsOnly})),_=(0,d.d4)((function(e){return e.shared.hideFilters})),E=(0,d.wA)(),N=function(e){E(Ce(e))},S=function(e,t){E("plugin"===e?"all"===t?Ce("plugins"):Ae(t):"all"===t?Ce("themes"):Fe(t))};return"PREMIUM"===z&&n.createElement("div",{className:"mt-5",hidden:_},n.createElement("div",{className:"flex min-h-[40px] flex-col gap-2 bg-white text-[.8rem] text-gray-900 xl:flex-row"},n.createElement("div",{className:"grid w-full grid-cols-1 gap-2 gap-x-3 sm:grid-cols-2 md:grid-cols-3 xl:flex"},n.createElement("button",{className:"flex min-h-[40px] flex-grow flex-row gap-x-1 rounded-xl border px-2 py-3 hover:border-gray-800 2xl:justify-center ".concat("all"===g?"border-black bg-gray-200/80":"border-gray-300"),onClick:function(){return N("all")}},n.createElement("span",{className:"text-left"},u),n.createElement("span",{id:"adbc-categorization-all",className:"font-bold"},"(",r.all,")")),n.createElement("button",{className:"flex min-h-[40px] flex-grow flex-row gap-x-1 rounded-xl border px-2 py-3 hover:border-orange-500 2xl:justify-center ".concat("orphans"===g?"border-orange-500 bg-orange-100":"border-gray-300"),onClick:function(){return N("orphans")}},n.createElement("span",{className:"text-left"},(0,i.__)("Orphans","advanced-database-cleaner")),n.createElement("span",{id:"adbc-categorization-orphans",className:"font-bold"},"(",r.o,")")),n.createElement("div",{className:"flex flex-grow flex-row items-center rounded-xl border hover:border-blue-500 ".concat("plugins"===g?"bg-blue-100":"border-gray-300"," ").concat(("plugins"===g||b)&&"!border-blue-500"," ")},n.createElement("button",{className:"flex h-full min-h-[40px] w-full items-center p-2 2xl:justify-center",onClick:function(){return N("plugins")}},n.createElement("span",{className:"flex gap-x-1"},n.createElement("span",{className:"text-left"},m),n.createElement("span",{className:"font-bold"},"(",r.p,")"))),Object.keys(a).length>0&&n.createElement("div",{className:"mr-[5px]"},n.createElement(uf,{selectItems:c,onSelectionChange:function(e){return S("plugin",e)},minWidthContent:"min-w-[300px]",maxHeight:!0,buttonOnly:!0,ButtonBgColor:""!=b?"bg-blue-200":"bg-gray-100",extraBtnClasses:"rounded-lg border-gray-100 hover:border-gray-400"}))),n.createElement("div",{className:"flex flex-grow flex-row items-center rounded-xl border hover:border-green-500 ".concat("themes"===g?"bg-green-100":"border-gray-300"," ").concat(("themes"===g||x)&&"!border-green-500")},n.createElement("button",{className:"flex h-full min-h-[40px] w-full items-center p-2 2xl:justify-center",onClick:function(){return N("themes")}},n.createElement("span",{className:"flex gap-x-1"},n.createElement("span",{className:"text-left"},f),n.createElement("span",{className:"font-bold"},"(",r.t,")"))),Object.keys(o).length>0&&n.createElement("div",{className:"mr-[5px]"},n.createElement(uf,{selectItems:l,onSelectionChange:function(e){return S("theme",e)},minWidthContent:"min-w-[300px]",maxHeight:!0,buttonOnly:!0,ButtonBgColor:""!=x?"bg-green-200":"bg-gray-100",extraBtnClasses:"rounded-lg border-gray-100 hover:border-gray-400"}))),n.createElement("button",{className:"flex min-h-[40px] flex-grow flex-row gap-x-1 rounded-xl border px-2 py-3 hover:border-purple-500 2xl:justify-center ".concat("wordpress"===g?"border-purple-500 bg-purple-100":"border-gray-300"),onClick:function(){return N("wordpress")}},n.createElement("span",{className:"text-left"},p),n.createElement("span",{className:"font-bold"},"(",r.w,")")),("posts_meta"===t||"users_meta"===t)&&n.createElement("button",{className:"flex min-h-[40px] flex-grow flex-row gap-x-1 rounded-xl border px-2 py-3 hover:border-red-500 2xl:justify-center ".concat("unknown"===g?"border-red-500 bg-red-100":"border-gray-300"),onClick:function(){return N("unknown")}},n.createElement("span",{className:"text-left"},(0,i.__)("Unknown","advanced-database-cleaner")),n.createElement("span",{className:"font-bold"},"(",r.unk,")")),n.createElement("button",{className:"flex min-h-[40px] flex-grow flex-row gap-x-1 rounded-xl border px-2 py-3 hover:border-yellow-500 2xl:justify-center ".concat("not_scanned"===g?"border-yellow-500 bg-yellow-100":"border-gray-300"),onClick:function(){return N("not_scanned")}},n.createElement("span",{className:"text-left"},(0,i.__)("Not scanned","advanced-database-cleaner")),n.createElement("span",{id:"adbc-categorization-not-scanned",className:"font-bold"},"(",r.u,")"))),n.createElement("div",{className:"flex justify-end"},n.createElement(j,{content:v?n.createElement("span",null,(0,i.__)("Less filters","advanced-database-cleaner")):n.createElement("span",null,(0,i.__)("More filters","advanced-database-cleaner"))},n.createElement("button",{className:"flex h-full w-[25px] flex-col items-center justify-center rounded-lg border border-gray-300 p-1 hover:border-gray-700",onClick:function(e){e.preventDefault(),y(!v)}},v?n.createElement(A.c4r,null):n.createElement(A.MoM,null))))),v&&n.createElement("div",{className:"mt-3 flex min-h-[40px] min-w-[800px] items-center justify-between gap-x-3 border-b border-gray-300 text-[.8rem] text-gray-900"},n.createElement(k,{text:(0,i.__)("Show manual corrections only","advanced-database-cleaner"),textStyle:"font-normal text-[.8rem]",toggleSize:"small",toggleChangeCallback:function(e){return function(e){E(_e({showManualCorrectionsOnly:e}))}(e)},isActive:w})))};var Yo=r(2644);function Ko(e){return Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ko(e)}function $o(){$o=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Ko(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(Ko(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function qo(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Ho(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||Qo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vo(e){return function(e){if(Array.isArray(e))return Jo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Qo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qo(e,t){if(e){if("string"==typeof e)return Jo(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Jo(e,t):void 0}}function Jo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Xo=[[{key:"all",label:(0,i.__)("All","advanced-database-cleaner")}],[{key:"name",label:(0,i.__)("Hook","advanced-database-cleaner")},{key:"value",label:(0,i.__)("Args","advanced-database-cleaner")}]],Zo=[[{key:"all",label:(0,i.__)("All","advanced-database-cleaner")}],[{key:"once",label:(0,i.__)("Once","advanced-database-cleaner")}]],ei=[[{key:"all",label:(0,i.__)("All","advanced-database-cleaner")}],[{key:"N/A",label:(0,i.__)("N/A","advanced-database-cleaner")}]],ti=[[{key:"all",label:(0,i.__)("All","advanced-database-cleaner")}],[{key:"yes",label:(0,i.__)("Yes","advanced-database-cleaner")},{key:"no",label:(0,i.__)("No","advanced-database-cleaner")}]],ri=[[{key:"all",label:(0,i.__)("All","advanced-database-cleaner")}],Vo(W.map((function(e){return{key:e.id,label:e.id+" - "+(e.name.length>20?e.name.substring(0,20)+"...":e.name)}})))];const ni=function(e){var t=e.notScannedCount,r=e.noActionCount,a=(0,d.d4)((function(e){return e.filter})),o=(0,d.d4)((function(e){return e.shared.hideFilters})),c=(0,d.d4)(Ue),l=Ho((0,n.useState)(a.search),2),u=l[0],m=l[1],f=Ho((0,n.useState)(a.searchIn),2),p=f[0],v=f[1],y=Ho((0,n.useState)(a.frequency),2),g=y[0],b=y[1],x=Ho((0,n.useState)(a.interval),2),_=x[0],E=x[1],N=Ho((0,n.useState)(a.hasAction),2),k=N[0],S=N[1],L=Ho((0,n.useState)(a.site),2),j=L[0],O=L[1],T=Ho((0,n.useState)(Xo[1][0]),2),I=T[0],C=T[1],F=Ho((0,n.useState)(Zo[0][0]),2),M=F[0],G=F[1],D=Ho((0,n.useState)(ei[0][0]),2),R=D[0],B=D[1],W=Ho((0,n.useState)(ti[0][0]),2),Y=W[0],K=W[1],$=Ho((0,n.useState)(ri[0][0]),2),q=$[0],H=$[1],V=Ho((0,n.useState)(0),2),Q=V[0],J=V[1],X=Ho((0,n.useState)(Zo),2),Z=X[0],ee=X[1],te=Ho((0,n.useState)(ei),2),re=te[0],ne=te[1],ae=Ho((0,n.useState)(!1),2),ie=ae[0],ce=ae[1],le=(0,d.wA)(),se=".."===t||".."===r?"border-gray-100 bg-gray-100 shadow-md":0===t&&0===r?"border-green-100 bg-green-100 shadow-md":"border-orange-100 bg-orange-100 shadow-md";return(0,n.useEffect)((function(){m(a.search),v(a.searchIn),b(a.frequency),E(a.interval),S(a.hasAction),O(a.site)}),[a]),(0,n.useEffect)((function(){if("FREE"!==z){var e=function(){var e,t=(e=$o().mark((function e(){var t,r,n,a,o;return $o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce(!0),e.prev=1,e.next=4,oe();case 4:if(t=e.sent,r=null==t?void 0:t.data){e.next=8;break}return e.abrupt("return");case 8:n=Object.entries(r).map((function(e){var t=Ho(e,2),r=t[0],n=t[1];return{key:r,label:"".concat(n.display," (").concat(r,")")}})),a=Vo(new Set(Object.values(r).map((function(e){return e.interval})).filter((function(e){return"number"==typeof e&&e>0})))).sort((function(e,t){return e-t})).map((function(e){return{key:String(e),label:String(e)}})),ee((o=function(e,t){return[e,t]})([{key:"all",label:(0,i.__)("All","advanced-database-cleaner")}],[{key:"once",label:(0,i.__)("Once","advanced-database-cleaner")}].concat(Vo(n)))),ne(o([{key:"all",label:(0,i.__)("All","advanced-database-cleaner")}],[{key:"N/A",label:(0,i.__)("N/A","advanced-database-cleaner")}].concat(Vo(a)))),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(1);case 17:return e.prev=17,ce(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[1,15,17,20]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){qo(o,n,a,i,c,"next",e)}function c(e){qo(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}}),[]),n.createElement(n.Fragment,null,n.createElement("div",{className:"flex min-h-[20px] w-full items-end justify-end text-end"},c&&n.createElement("div",{className:"flex items-center"},n.createElement(P,{href:"#",className:"text-[.8rem] font-semibold text-red-600 no-underline",onClick:function(e){e.preventDefault(),le(De()),C(Xo[1][0]),G(Zo[0][0]),B(ei[0][0]),K(ti[0][0]),H(ri[0][0]),J(Q+1)}},n.createElement(s.k7K,null),(0,i.__)("Reset filters","advanced-database-cleaner")),"PREMIUM"===z&&n.createElement("span",{className:"-mt-1 px-2"},"|")),"PREMIUM"===z&&n.createElement(P,{href:"#",className:"text-[.8rem] font-semibold text-gray-500 no-underline",onClick:function(e){e.preventDefault(),le(Gm(!o))}},o?n.createElement("div",{className:"flex items-center gap-x-[4px]"},n.createElement(Yo.E1u,null),(0,i.__)("Show filters","advanced-database-cleaner")):n.createElement("div",{className:"flex items-center gap-x-[4px]"},n.createElement(Yo.UX6,null),(0,i.__)("Hide filters","advanced-database-cleaner")))),n.createElement("div",{key:Q,className:"mt-1",hidden:o},n.createElement("div",{className:"flex flex-col justify-between gap-4 xl:min-w-[800px] xl:flex-row xl:gap-x-3"},n.createElement("div",{className:"flex min-w-[280px] max-w-[280px] flex-col gap-y-1 rounded-xl border ".concat(se," justify-center px-2 py-1")},pf(".."===r?"loading":0===r?"ok":"warning",(0,i.sprintf)((0,i.__)("%s cron job(s) with no action","advanced-database-cleaner"),r),(function(e){e.preventDefault(),le(Ie()),C(Xo[1][0]),G(Zo[0][0]),B(ei[0][0]),K(ti[1][1]),H(ri[0][0]),J(Q+1)})),pf(".."===t?"loading":0===t?"ok":"warning",(0,i.sprintf)((0,i.__)("%s cron job(s) not scanned","advanced-database-cleaner"),t),(function(e){e.preventDefault(),le(Se()),C(Xo[1][0]),G(Zo[0][0]),B(ei[0][0]),K(ti[0][0]),H(ri[0][0]),J(Q+1)}))),n.createElement("div",{className:"flex w-full flex-col gap-y-1 rounded-xl border bg-gray-200/80 px-3 shadow-sm ".concat("FREE"===z?"py-2":"py-3")},n.createElement("form",{className:"grid w-full grid-cols-2 items-end gap-x-4 gap-y-2 text-[.7rem] text-gray-900 sm:grid-cols-3 xl:flex ".concat("FREE"===z?"pointer-events-none opacity-50":"")},n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Search for","advanced-database-cleaner")),n.createElement(h,{placeholder:(0,i.__)("Search for","advanced-database-cleaner"),className:"!h-[2rem] w-full !border-gray-300 xl:w-[9rem]",onChange:function(e){return m(e.target.value)},maxLength:100,value:u})),n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Search in","advanced-database-cleaner")),n.createElement(uf,{selectItems:Xo,selectedItem:I,onSelectionChange:function(e){return v(e)},minWidthButton:"w-full xl:min-w-[90px]",minWidthContent:"min-w-[120px]"})),n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Frequency","advanced-database-cleaner")),ie?n.createElement("div",{className:"flex h-[2rem] w-full items-center rounded-lg border border-gray-300 bg-gray-100 px-2 text-[.7rem] text-gray-500 xl:w-[100px]"},(0,i.__)("Loading ...","advanced-database-cleaner")):n.createElement(uf,{selectItems:Z,selectedItem:M,onSelectionChange:function(e){return b(e)},minWidthButton:"w-full xl:min-w-[100px]",extraBtnClasses:"xl:max-w-[100px]",minWidthContent:"min-w-[300px]",maxHeight:!0})),n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Interval (secs)","advanced-database-cleaner")),ie?n.createElement("div",{className:"flex h-[2rem] w-full items-center rounded-lg border border-gray-300 bg-gray-100 px-2 text-[.7rem] text-gray-500 xl:w-[80px]"},(0,i.__)("Loading ...","advanced-database-cleaner")):n.createElement(uf,{selectItems:re,selectedItem:R,onSelectionChange:function(e){return E(e)},minWidthButton:"w-full xl:min-w-[80px]",extraBtnClasses:"xl:max-w-[120px]",minWidthContent:"min-w-[140px]",maxHeight:!0})),n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Has action","advanced-database-cleaner")),n.createElement(uf,{selectItems:ti,selectedItem:Y,onSelectionChange:function(e){return S(e)},minWidthButton:"w-full xl:min-w-[60px]",extraBtnClasses:"xl:max-w-[120px]",minWidthContent:"min-w-[100px]"})),"1"===U&&n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Site","advanced-database-cleaner")),n.createElement(uf,{selectItems:ri,selectedItem:q,onSelectionChange:function(e){return O(e)},minWidthButton:"min-w-[70px]",minWidthContent:"min-w-[200px]",maxHeight:!0,labelClasses:"text-[.8rem]",extraBtnClasses:"w-full xl:max-w-[70px]"})),n.createElement("div",null,n.createElement(w,{Icon:Ve.F3z,text:(0,i.__)("Filter","advanced-database-cleaner"),className:"mt-2 !h-[2rem] xl:mt-0",onClick:function(e){e.preventDefault(),le(_e({search:u,searchIn:p,frequency:g,interval:_,hasAction:k,site:j})),le(Ce("all"))}}))),"FREE"===z&&n.createElement("div",{className:"flex w-full items-center pt-1"},n.createElement("div",{className:"flex items-center gap-1 rounded-lg"},n.createElement(s.xGQ,{className:"h-[16px] w-[16px] text-yellow-600"}),n.createElement("span",{className:"text-[.7rem] font-semibold text-gray-700"},(0,i.__)("Unlock Advanced Filters:","advanced-database-cleaner")),n.createElement(P,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=cron-jobs-filters&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"flex items-center !gap-[3px] text-[.7rem] font-semibold !text-blue-500 !no-underline hover:!text-blue-700"},(0,i.__)("upgrade","advanced-database-cleaner"),n.createElement(A.L2n,{className:"mt-[1px] h-3 w-3"}))))))))};var ai=r(8199),oi=r(1578),ii=r(139);function ci(e){return ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ci(e)}function li(){li=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==ci(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(ci(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function si(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function ui(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){si(o,n,a,i,c,"next",e)}function c(e){si(o,n,a,i,c,"throw",e)}i(void 0)}))}}function di(e){return mi.apply(this,arguments)}function mi(){return(mi=ui(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/start-scan",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fi(e){return pi.apply(this,arguments)}function pi(){return(pi=ui(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/stop-scan",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hi(e){return vi.apply(this,arguments)}function vi(){return(vi=ui(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/scan-heartbeat",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yi(e){return gi.apply(this,arguments)}function gi(){return(gi=ui(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/remote-request-retries-reset",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bi(e){return xi.apply(this,arguments)}function xi(){return(xi=ui(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/check-remote-scan-status",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wi(e){return _i.apply(this,arguments)}function _i(){return(_i=ui(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/get-remote-scan-results",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ei(){return Ni.apply(this,arguments)}function Ni(){return(Ni=ui(li().mark((function e(){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/get-remote-scan-balance",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ki(e){return Si.apply(this,arguments)}function Si(){return(Si=ui(li().mark((function e(t){return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/is-scan-exists",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Li=function(e){switch(e){case 1:return(0,i.__)("We couldn't verify your license. Please check that your license key is active for the current website.","advanced-database-cleaner");case 2:return(0,i.__)("You don't have enough credits to send additional remote requests.","advanced-database-cleaner");case 3:return(0,i.__)("The remote database cannot scan such a large number of items. Contact the plugin developer for more information.","advanced-database-cleaner");case 4:return(0,i.__)("An error occurred during the remote request. Check the logs for more details.","advanced-database-cleaner");case 6:return(0,i.__)("The remote server is being prepared for maintenance. Please try again later.","advanced-database-cleaner");case 5:return(0,i.__)("The remote server is under maintenance. Please try again later.","advanced-database-cleaner");default:return""}};const ji=function(e){var t,r,a,o,c,l=e.Icon,s=e.title,u=e.label,d=e.tooltipText,m=e.status,f=e.progress,p=e.showProgress,h=void 0===p||p,v=e.showConnector,y=void 0===v||v,g=e.collectedFiles,b=void 0===g?null:g,x=e.heartBeatResponse,w=void 0===x?null:x,_=e.retryReason,E=void 0===_?"":_,N=e.disabled,k=void 0!==N&&N,S="completed"===m,j="current"===m,O="failed"===(null==w||null===(t=w.data)||void 0===t||null===(t=t.remote)||void 0===t?void 0:t.status)||"shutdown"===(null==w||null===(r=w.data)||void 0===r?void 0:r.status)&&"timeout"!==(null==w||null===(a=w.data)||void 0===a?void 0:a.shutdown_reason)&&"forced_timeout"!==(null==w||null===(o=w.data)||void 0===o?void 0:o.shutdown_reason)||"check_remote_scan_status_error"===E||"get_scan_results_error"===E;return c=S?k?"border border-gray-400 bg-gray-400 text-white":"border border-green-600 bg-green-600 text-white":j?"bg-white":"border border-gray-300 bg-white",n.createElement(n.Fragment,null,n.createElement("div",{className:"relative flex items-center"},n.createElement("span",{className:"flex h-[40px] w-[40px] items-center justify-center rounded-full lg:h-[55px] lg:w-[55px] ".concat(c)},S?n.createElement(fe.CMH,{className:"text-lg"}):j?n.createElement(n.Fragment,null,O?n.createElement(A.ORb,{className:"h-full w-20 rounded-full bg-red-500 text-white"}):n.createElement(ii.kiM,{className:"h-full w-20 animate-spin text-blue-500"})):n.createElement(l,{className:"text-3xl text-gray-300"}),j&&!O&&n.createElement("span",{className:"absolute text-[.7rem] font-semibold lg:text-[.85rem]"},h&&n.createElement(n.Fragment,null,f),null!==b&&n.createElement(n.Fragment,null,b))),n.createElement("div",{className:"text-md absolute top-2 -ml-[43px] mt-[40px] flex w-32 flex-col gap-y-[0px] text-center lg:-ml-[36px] lg:mt-[54px]"},n.createElement("span",{className:"hidden text-[.85rem] font-bold sxs:block"},"".concat(s)),n.createElement(L,{content:d,iconSize:"text-[.9rem]",iconColor:"text-gray-400 mt-1",className:"hidden xl:flex"},n.createElement("span",{className:"underline decoration-gray-500/50 decoration-dotted underline-offset-2"},u))),n.createElement("div",null,j&&!O&&h&&null!==f&&n.createElement("span",{className:"absolute top-[10px] z-10 bg-blue-50 pl-[2px] pr-[3px] text-[.7rem] font-semibold lg:top-[17px] lg:text-[.85rem]"},"%"),j&&null!==b&&n.createElement("span",{className:"absolute top-[9px] z-10 bg-blue-50 pl-[1px] pr-[3px] text-[.7rem] lg:top-[16px] lg:text-[.8rem]"},(0,i.__)("files","advanced-database-cleaner")))),y&&n.createElement(n.Fragment,null,n.createElement("div",{className:"h-[1px] flex-auto border-t-2 ".concat(S?"border-green-600":"border-gray-300"," ")})))};function Oi(e){return Oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oi(e)}function Ti(){Ti=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Oi(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(Oi(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Pi(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Ii(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Pi(o,n,a,i,c,"next",e)}function c(e){Pi(o,n,a,i,c,"throw",e)}i(void 0)}))}}function Ci(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ai(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ai(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ai(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Fi=!1;const Mi=function(e){var t,r,a,o,c,m,f,p,h,v,y,g,b,x=e.tabName,_=Ci((0,n.useState)(null),2),E=_[0],N=_[1],k=Ci((0,n.useState)(null),2),S=k[0],L=k[1],j=Ci((0,n.useState)([]),2),O=j[0],T=j[1],I=Ci((0,n.useState)(!1),2),C=I[0],F=I[1],M=Ci((0,n.useState)(!1),2),G=M[0],D=M[1],R=Ci((0,n.useState)(!1),2),B=R[0],U=R[1],W=Ci((0,n.useState)(!1),2),Y=W[0],K=W[1],$=Ci((0,n.useState)(""),2),q=$[0],H=$[1],V=Ci((0,n.useState)(""),2),Q=V[0],J=V[1],X=(0,d.d4)((function(e){return e.action.selectedItems})),Z=(0,d.d4)((function(e){return e.scan.scanParams})),ee=(0,n.useRef)(null),te=(0,n.useRef)(!1),re=(0,n.useRef)(null),ne=(0,d.wA)();(0,n.useEffect)((function(){"FREE"!==z&&Z&&(Fi=!1,N(null),L(null),T([]),D(!1),U(!1),K(!1),H(""),J(""),F(!0),di({items_type:x,scan_type:null==Z?void 0:Z.scanType,preg_match:!1,partial_match:!0,what_to_scan:null==Z?void 0:Z.whatToScan,override_manual_categorization:null==Z?void 0:Z.overrideManualCategorization,selected_items_to_scan:"selected"===(null==Z?void 0:Z.whatToScan)?X:[],continue_scan:!1}),ae(3e3),ne(Po(null)))}),[Z]),(0,n.useEffect)((function(){if("FREE"!==z)return te.current=!0,oe(),function(){te.current=!1,ee.current&&clearTimeout(ee.current)}}),[]),(0,n.useEffect)((function(){if("FREE"!==z){var e=re.current;e&&(e.scrollTop=e.scrollHeight)}}),[O]),(0,n.useEffect)((function(){var e,t,r,n,a,o,c,l,s,u,d,m,f,p,h,v,y,g;if("FREE"!==z&&E){var b=[],x={1:(0,i.__)("Preparing items to scan","advanced-database-cleaner")+" ".concat(null!=E&&null!==(e=E.data)&&void 0!==e&&null!==(e=e.local)&&void 0!==e&&e.total_items?"("+(null==E||null===(t=E.data)||void 0===t||null===(t=t.local)||void 0===t?void 0:t.total_items)+")":""),2:(0,i.__)("Collecting PHP files to scan","advanced-database-cleaner")+" ".concat(null!=E&&null!==(r=E.data)&&void 0!==r&&null!==(r=r.local)&&void 0!==r&&null!==(r=r.collecting_files)&&void 0!==r&&r.collected_files?"("+(null==E||null===(n=E.data)||void 0===n||null===(n=n.local)||void 0===n||null===(n=n.collecting_files)||void 0===n?void 0:n.collected_files)+" / "+(null==E||null===(a=E.data)||void 0===a||null===(a=a.local)||void 0===a||null===(a=a.collecting_files)||void 0===a?void 0:a.total_files)+")":""),3:(0,i.__)("Regex scan (skipped)","advanced-database-cleaner"),4:(0,i.__)("Exact match scan","advanced-database-cleaner")+" ".concat(null!=E&&null!==(o=E.data)&&void 0!==o&&null!==(o=o.local)&&void 0!==o&&null!==(o=o.exact_match)&&void 0!==o&&o.progress?"("+(null==E||null===(c=E.data)||void 0===c||null===(c=c.local)||void 0===c||null===(c=c.exact_match)||void 0===c?void 0:c.progress)+"%)":""),5:(0,i.__)("Partial match scan","advanced-database-cleaner")+" ".concat(null!=E&&null!==(l=E.data)&&void 0!==l&&null!==(l=l.local)&&void 0!==l&&null!==(l=l.partial_match)&&void 0!==l&&l.progress?"("+(null==E||null===(s=E.data)||void 0===s||null===(s=s.local)||void 0===s||null===(s=s.partial_match)||void 0===s?void 0:s.progress)+"%)":""),6:(0,i.__)("Preparing local scan results","advanced-database-cleaner"),7:(0,i.__)("Requesting remote scan","advanced-database-cleaner")+" ".concat("local"===(null==E||null===(u=E.data)||void 0===u?void 0:u.scan_type)?"("+(0,i.__)("skipped","advanced-database-cleaner")+")":""),8:(0,i.__)("Remote scan","advanced-database-cleaner")+" ".concat("local"===(null==E||null===(d=E.data)||void 0===d?void 0:d.scan_type)?"("+(0,i.__)("skipped","advanced-database-cleaner")+")":"")+" ".concat("done"===(null==E||null===(m=E.data)||void 0===m||null===(m=m.remote)||void 0===m?void 0:m.status)?"["+(0,i.__)("corrected items:","advanced-database-cleaner")+" "+(null==E||null===(f=E.data)||void 0===f||null===(f=f.remote)||void 0===f?void 0:f.corrected_items)+"]":"")};if(""===(null==E||null===(p=E.data)||void 0===p?void 0:p.step)&&"shutdown"===(null==E||null===(h=E.data)||void 0===h?void 0:h.status))return b.push({label:(0,i.__)("The scan cannot start!","advanced-database-cleaner"),status:"failed"}),b.push({label:null==E?void 0:E.message,showLink:{label:(0,i.__)("check logs","advanced-database-cleaner"),href:"#",onClick:function(e){e.preventDefault(),ne(Mm({tabId:"info_and_logs",subTabId:"debug"}))}},status:"failed",isSubDetail:!0}),void T(b);var w=parseInt(null==E||null===(v=E.data)||void 0===v||null===(v=v.step)||void 0===v?void 0:v.split("_")[0]);b.push({label:(0,i.__)("Scan started","advanced-database-cleaner"),status:"done"});for(var _=1;_<=8;_++){var N,k,L;if(8===_&&(null==E||null===(N=E.data)||void 0===N||null===(N=N.remote)||void 0===N?void 0:N.trimmed_count)>0&&b.push({label:(0,i.__)("Too many items to send due to your server limitation. Trimmed items:","advanced-database-cleaner")+" ".concat(null==E||null===(L=E.data)||void 0===L||null===(L=L.remote)||void 0===L?void 0:L.trimmed_count),showLink:{label:(0,i.__)("Read more","advanced-database-cleaner"),href:"https://docs.sigmaplugin.com/article/77-warning-too-many-items-to-send-due-to-your-server-limitation-trimmed-items-x?utm_source=scan-timeline&utm_medium=adbc-premium&utm_campaign=plugins&utm_content=documentation-scan-trimmed-items"},isSubDetail:!0,color:"orange"}),_<w||"done"===(null==E||null===(k=E.data)||void 0===k?void 0:k.status))b.push({label:x[_],status:"done"});else if(_===w){var j,O,P,I,C,A,F,M;if((null==E||null===(j=E.data)||void 0===j?void 0:j.timeouts_count)>0&&b.push({label:(0,i.__)("Timeouts occurred:","advanced-database-cleaner")+" (".concat(null==E||null===(F=E.data)||void 0===F?void 0:F.timeouts_count,")"),status:"info"}),(null==E||null===(O=E.data)||void 0===O?void 0:O.forced_timeouts_count)>0&&b.push({label:(0,i.__)("Forced timeouts occurred:","advanced-database-cleaner")+" (".concat(null==E||null===(M=E.data)||void 0===M?void 0:M.forced_timeouts_count,")"),status:"info"}),7===w&&"failed"===(null==E||null===(P=E.data)||void 0===P||null===(P=P.remote)||void 0===P?void 0:P.status)||8===w&&("check_remote_scan_status_error"===q||"get_scan_results_error"===q)||"shutdown"===(null==E||null===(I=E.data)||void 0===I?void 0:I.status)&&"timeout"!==(null==E||null===(C=E.data)||void 0===C?void 0:C.shutdown_reason)&&"forced_timeout"!==(null==E||null===(A=E.data)||void 0===A?void 0:A.shutdown_reason)){var G,D,R,B,U;if(b.push({label:x[_],status:"failed"}),w<7&&b.push({label:null==E?void 0:E.message,showLink:"memory_error"===q?{label:(0,i.__)("Read more","advanced-database-cleaner"),href:"https://docs.sigmaplugin.com/article/75-error-scan-stopped-due-to-memory-limit?utm_source=scan-timeline&utm_medium=adbc-premium&utm_campaign=plugins&utm_content=documentation-scan-memory-error"}:null,status:"failed",isSubDetail:!0}),7===w)(null==E||null===(G=E.data)||void 0===G||null===(G=G.remote)||void 0===G?void 0:G.retry_count)>1&&b.push({label:(0,i.__)("Retry sending the request","advanced-database-cleaner")+" ("+(null==E||null===(B=E.data)||void 0===B||null===(B=B.remote)||void 0===B?void 0:B.retry_count)+"/3)"+((null==E||null===(U=E.data)||void 0===U||null===(U=U.remote)||void 0===U?void 0:U.retry_count)>2?" ("+(0,i.__)("Max retries reached","advanced-database-cleaner")+")":""),isSubDetail:!0}),b.push({label:(0,i.__)("Request failed","advanced-database-cleaner"),showLink:2===(null==E||null===(D=E.data)||void 0===D||null===(D=D.remote)||void 0===D?void 0:D.failure_code)?{label:(0,i.__)("Show balance","advanced-database-cleaner"),href:"#",onClick:de}:null,errorMessage:Li(null==E||null===(R=E.data)||void 0===R||null===(R=R.remote)||void 0===R?void 0:R.failure_code),isSubDetail:!0});8===w&&b.push({label:(0,i.__)("Failed","advanced-database-cleaner"),errorMessage:Q,isSubDetail:!0})}else b.push({label:x[_],status:"current"})}}"requested"===(null==S?void 0:S.status)&&b.push({label:(0,i.sprintf)((0,i.__)("You are at position %d in the queue.","advanced-database-cleaner"),null==S?void 0:S.queue_position),isSubDetail:!0,color:"blue"}),"processing"!==(null==S?void 0:S.status)&&"done"!==(null==S?void 0:S.status)||"done"===(null==E||null===(y=E.data)||void 0===y?void 0:y.status)||b.push({label:(0,i.__)("The server is scanning your items...","advanced-database-cleaner"),isSubDetail:!0,color:"blue"}),!0===(null==S?void 0:S.took_too_long)&&b.push({label:(0,i.__)("Info: the remote scan is taking more than expected!","advanced-database-cleaner"),isSubDetail:!0,color:"blue"}),"done"===(null==E||null===(g=E.data)||void 0===g?void 0:g.status)&&b.push({label:(0,i.__)("Scan completed","advanced-database-cleaner"),status:"done"}),T(b)}}),[E,q]);var ae=function(e){te.current&&(ee.current&&clearTimeout(ee.current),ee.current=setTimeout(oe,e||3e3))},oe=function(){var e=Ii(Ti().mark((function e(){var t;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(te.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,hi({items_type:x});case 4:if((t=e.sent).success){e.next=9;break}return F(!1),Pt(ne,t.message),e.abrupt("return");case 9:F(!0),K(!1),U(!1),H(""),J(""),N(t),e.t0=t.heartbeat_code,e.next=1===e.t0?18:7===e.t0?21:9===e.t0?23:2===e.t0?34:10===e.t0?36:14===e.t0?39:12===e.t0?41:13===e.t0?44:8===e.t0?46:11===e.t0?49:4===e.t0?52:6===e.t0?55:3===e.t0?57:65;break;case 18:case 46:return F(!1),Pt(ne,t.message),e.abrupt("break",67);case 21:return ae(2e3),e.abrupt("break",67);case 23:return Fi=!0,N(null),L(null),T([]),F(!1),D(!1),K(!1),U(!1),H(""),It(ne,(0,i.__)("Scan stopped","advanced-database-cleaner"),t.message),e.abrupt("break",67);case 34:case 44:case 65:return F(!1),e.abrupt("break",67);case 36:return It(ne,(0,i.__)("Scan timeout occurred!","advanced-database-cleaner"),t.message),ie(!0),e.abrupt("break",67);case 39:return ie(!0),e.abrupt("break",67);case 41:return K(!0),H("memory_error"),e.abrupt("break",67);case 49:return K(!0),H("remote_request_failed"),e.abrupt("break",67);case 52:return K(!0),H("max_remote_retries_reached"),e.abrupt("break",67);case 55:return le(),e.abrupt("break",67);case 57:return F(!1),K(!1),U(!1),H(""),ne(Re()),ne(Qm()),Ot(ne,t.message),e.abrupt("break",67);case 67:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Ii(Ti().mark((function e(){var t,r=arguments;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!1===(t=r.length>0&&void 0!==r[0]&&r[0])&&ne(Oo("scanButton")),!0===t&&(F(!0),di({items_type:x,scan_type:"",preg_match:!1,partial_match:!1,what_to_scan:"",override_manual_categorization:!1,selected_items_to_scan:[],continue_scan:!0}),ae(3e3));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Ii(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!G){e.next=3;break}return e.abrupt("return");case 3:return D(!0),e.prev=4,e.next=7,fi({items_type:x});case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(4),Pt(ne,e.t0.message),D(!1);case 13:return e.prev=13,oe(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[4,9,13,16]])})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Ii(Ti().mark((function e(){var t,r,n,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bi({items_type:x});case 3:if(!1!==(r=e.sent).success){e.next=10;break}return n=null==r?void 0:r.failure_code,J(5===n?(0,i.__)("Server is under maintenance. Please retry again after few minutes","advanced-database-cleaner"):(0,i.__)("An error occurred while getting the results from the server. Check the logs for more details","advanced-database-cleaner")),K(!0),H("check_remote_scan_status_error"),e.abrupt("return");case 10:if(!0!==Fi){e.next=12;break}return e.abrupt("return");case 12:N(r),a=null===(t=r.data)||void 0===t?void 0:t.remote_answer,L(a),"done"===(null==a?void 0:a.status)?se():ae(1e3),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),Pt(ne,e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Ii(Ti().mark((function e(){var t,r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wi({items_type:x});case 3:if(null!=(t=e.sent)&&t.success){e.next=10;break}return r=null==t?void 0:t.failure_code,J(5===r?(0,i.__)("Server is under maintenance. Please retry again after few minutes","advanced-database-cleaner"):(0,i.__)("An error occurred while getting the results from the server. Check the logs for more details","advanced-database-cleaner")),K(!0),H("get_scan_results_error"),e.abrupt("return");case 10:oe(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),Pt(ne,e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Ii(Ti().mark((function e(){var t,r,n=arguments;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:"",!B){e.next=3;break}return e.abrupt("return");case 3:if(U(!0),e.prev=4,"remote_request_failed"!==t&&"max_remote_retries_reached"!==t){e.next=13;break}return e.next=8,yi({items_type:x});case 8:if((r=e.sent).success){e.next=13;break}return Pt(ne,r.message),U(!1),e.abrupt("return");case 13:ie(!0),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),Pt(ne,e.t0.message),U(!1);case 20:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(){return e.apply(this,arguments)}}(),de=function(e){e.preventDefault(),ne(Io(!0))},pe=function(e){var t,r;if("done"===(null==E||null===(t=E.data)||void 0===t?void 0:t.status))return"completed";var n=parseInt(null==E||null===(r=E.data)||void 0===r||null===(r=r.step)||void 0===r?void 0:r.split("_")[0]);return e.some((function(e){return parseInt(e.split("_")[0])===n}))?"current":e.every((function(e){return parseInt(e.split("_")[0])<n}))?"completed":"waiting"};return n.createElement("div",{className:"mb-2"},n.createElement("div",{className:"flex w-full gap-x-6"},n.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:justify-between"},n.createElement("button",{disabled:C,className:"flex h-[40px] min-w-[280px] max-w-[280px] items-center justify-center gap-x-2 rounded-lg bg-blue-500 px-4 text-sm font-semibold tracking-wide text-white ".concat(C?"opacity-80":"hover:bg-blue-600"," "),onClick:function(){return ie(!1)}},!C&&n.createElement(u.h4T,{className:"text-[1.5rem]"}),n.createElement("span",{className:"-mt-[1px]"},C?(0,i.__)("Scan in progress","advanced-database-cleaner"):function(e){switch(e){case"tables":return(0,i.__)("Start a scan for tables","advanced-database-cleaner");case"options":return(0,i.__)("Start a scan for options","advanced-database-cleaner");case"posts_meta":return(0,i.__)("Start a scan for post meta","advanced-database-cleaner");case"users_meta":return(0,i.__)("Start a scan for user meta","advanced-database-cleaner");case"transients":return(0,i.__)("Start a scan for transients","advanced-database-cleaner");case"cron_jobs":return(0,i.__)("Start a scan for cron jobs","advanced-database-cleaner")}}(x)),C&&n.createElement("div",{className:"flex items-center justify-center space-x-1 pt-[3px]"},n.createElement("div",{className:"h-2 w-2 animate-bounce rounded-full bg-blue-900 [animation-delay:-0.3s]"}),n.createElement("div",{className:"h-2 w-2 animate-bounce rounded-full bg-blue-900  [animation-delay:-0.15s]"}),n.createElement("div",{className:"h-2 w-2 animate-bounce rounded-full bg-blue-900 "}))),n.createElement("div",{className:"flex gap-x-2"},C&&n.createElement(P,{href:"#",className:"h-[40px] !w-full rounded-lg border border-red-100 bg-red-100/80 px-4 py-1 text-[.85rem] text-red-500 no-underline hover:bg-red-200 hover:text-red-500 hover:no-underline",onClick:ce},n.createElement(me.g,{className:"h-[16px] w-[16px]"}),G?(0,i.__)("Stopping scan...","advanced-database-cleaner"):(0,i.__)("Stop the scan","advanced-database-cleaner")),("done"===(null==E||null===(t=E.data)||void 0===t?void 0:t.status)||""===(null==E||null===(r=E.data)||void 0===r?void 0:r.step)&&"shutdown"===(null==E||null===(a=E.data)||void 0===a?void 0:a.status))&&n.createElement(P,{href:"#",className:"!w-full rounded-lg border border-gray-200 bg-gray-200 px-4 py-1 text-[.85rem] !font-normal text-gray-700 no-underline hover:bg-gray-300 hover:text-gray-700 hover:no-underline",onClick:function(e){e.preventDefault(),N(null),L(null),T([]),F(!1),D(!1),U(!1),K(!1),H(""),J("")}},(0,i.__)("Hide scan process details","advanced-database-cleaner"))))),(C||E&&2!==E.heartbeat_code)&&n.createElement("div",{className:"mt-4 flex flex-col gap-3 lg:flex-row"},n.createElement("fieldset",{className:"h-[100px] w-full rounded-xl border border-solid border-blue-100 bg-blue-50 px-4 pt-[20px] sxs:h-[120px] lg:h-[160px] lg:px-8"},n.createElement("legend",{className:"-ml-1 rounded-lg bg-white px-[5px] text-[.75rem] text-black lg:-ml-5"},(0,i.__)("Scan progress","advanced-database-cleaner")),n.createElement("div",{className:"flex items-center text-black"},n.createElement(ji,{Icon:oi.vq0,title:(0,i.__)("Step 1","advanced-database-cleaner"),label:(0,i.__)("Collecting files","advanced-database-cleaner"),tooltipText:(0,i.__)("Collecting the PHP files to be scanned. This process may take some time, depending on the number of plugin and theme files you have.","advanced-database-cleaner"),status:pe(["1_prepare_items_to_scan","2_collect_php_files"]),progress:0,showProgress:!1,collectedFiles:(null==E||null===(o=E.data)||void 0===o||null===(o=o.local)||void 0===o||null===(o=o.collecting_files)||void 0===o?void 0:o.collected_files)||0,heartBeatResponse:E,retryReason:q}),n.createElement(ji,{Icon:ye.rlW,title:(0,i.__)("Step 2","advanced-database-cleaner"),label:(0,i.__)("Exact match","advanced-database-cleaner"),tooltipText:(0,i.__)("The scan will attempt to find exact matches for items names in the previously collected files.","advanced-database-cleaner"),status:pe(["3_preg_match_scan","4_exact_match_scan"]),progress:(null==E||null===(c=E.data)||void 0===c||null===(c=c.local)||void 0===c||null===(c=c.exact_match)||void 0===c?void 0:c.progress)||0,heartBeatResponse:E,retryReason:q}),n.createElement(ji,{Icon:s.SD3,title:(0,i.__)("Step 3","advanced-database-cleaner"),label:(0,i.__)("Partial match","advanced-database-cleaner"),tooltipText:(0,i.__)("For any remaining items from the previous step, the scan will attempt to find partial matches for items names.","advanced-database-cleaner"),status:pe(["5_partial_match_scan","6_prepare_local_scan_results"]),progress:(null==E||null===(m=E.data)||void 0===m||null===(m=m.local)||void 0===m||null===(m=m.partial_match)||void 0===m?void 0:m.progress)||0,heartBeatResponse:E,retryReason:q}),n.createElement(ji,{Icon:ta.zV$,title:(0,i.__)("Step 4","advanced-database-cleaner"),label:(0,i.__)("Remote scan","advanced-database-cleaner"),tooltipText:n.createElement("span",{className:"flex flex-col gap-y-1"},(0,i.__)("The local scan results will be transmitted to a remote database to enhance the accuracy of results and provide more detailed information about the items. No sensitive data is sent.","advanced-database-cleaner"),n.createElement("div",null,n.createElement(P,{href:"https://docs.sigmaplugin.com/article/57-the-remote-scan-in-advanced-database-cleaner-precision-meets-security?utm_source=scan-timeline&utm_medium=adbc-premium&utm_campaign=plugins&utm_content=documentation-remote-scan-info",target:"_blank",className:"!text-blue-300 hover:!text-blue-500"},(0,i.__)("Read more","advanced-database-cleaner")))),status:pe(["7_requesting_remote_scan","8_getting_remote_scan_results"]),progress:(null==S?void 0:S.progress)||0,showConnector:!1,heartBeatResponse:E,retryReason:q,disabled:"local"===(null==E||null===(f=E.data)||void 0===f?void 0:f.scan_type)}))),n.createElement("fieldset",{className:"h-[160px] overflow-y-auto rounded-xl border border-solid !border-blue-100 bg-blue-50 py-[15px] pl-[20px] pr-[5px] lg:min-w-[400px] lg:max-w-[400px]"},n.createElement("legend",{className:"-ml-2 rounded-lg bg-white px-[5px] text-[.75rem] text-black"},(0,i.__)("Scan details","advanced-database-cleaner")),n.createElement("div",{ref:re,className:"adbc-custom-scrollbar -ml-[5px] h-full overflow-y-auto pl-[8px]"},O.map((function(e,t){var r,a,o;return n.createElement("div",{key:"step-detail-"+t,className:"relative flex w-full items-center py-[2px] ".concat(e.isSubDetail?"":"border-l-2 border-blue-200")},"current"===e.status&&n.createElement("div",{className:"absolute z-10 -ml-[9px] h-4 w-4 rounded-full bg-white"},n.createElement(ii.kiM,{className:"h-4 w-4 animate-spin text-blue-600"})),"done"===e.status&&n.createElement(fe.CMH,{className:"absolute z-10 -ml-[9px] h-[15px] w-[15px] rounded-full border border-blue-400 bg-white p-[.15rem] text-blue-700"}),"info"===e.status&&n.createElement(ai.JFS,{className:"absolute z-10 -ml-[9px] h-[16px] w-[16px] rounded-full bg-white"}),"failed"===e.status&&!e.isSubDetail&&n.createElement(A.ORb,{className:"absolute z-10 -ml-[8px] h-[15px] w-[15px] rounded-full bg-red-500 text-white"}),e.isSubDetail?n.createElement("div",{className:"ml-[20px] border-l-[3px] ".concat("blue"===e.color?"border-blue-400":"orange"===e.color?"border-orange-400":"border-red-400"," pl-[10px]")},n.createElement("span",{className:"blue"===e.color?"text-blue-600":"orange"===e.color?"text-orange-600":"text-red-600"},e.label),e.errorMessage&&n.createElement(n.Fragment,null,": ",e.errorMessage),e.showLink&&n.createElement(P,{onClick:null===(r=e.showLink)||void 0===r?void 0:r.onClick,href:null===(a=e.showLink)||void 0===a?void 0:a.href,target:"_blank",className:"pl-1 text-[.78rem] font-semibold"},null===(o=e.showLink)||void 0===o?void 0:o.label)):n.createElement("div",{className:"pl-[14px]"},e.label))})),Y&&n.createElement("div",{className:"relative flex w-full items-center py-[2px]"},n.createElement(w,{Icon:l.Vt$,text:B?(0,i.__)("Retrying...","advanced-database-cleaner"):(0,i.__)("Retry","advanced-database-cleaner"),className:"ml-[20px] mt-2 h-[1.7rem]",shouldAnimate:B,onClick:function(){return ue(q)}})),(null==E||null===(p=E.data)||void 0===p?void 0:p.timeouts_count)>0&&"done"==(null==E||null===(h=E.data)||void 0===h?void 0:h.status)&&n.createElement("div",{className:"relative flex w-full items-center border-l-2 border-blue-200 py-[2px]"},n.createElement(ai.JFS,{className:"absolute z-10 -ml-[9px] h-[16px] w-[16px] rounded-full bg-white"}),n.createElement("div",{className:"pl-[14px]"},(0,i.__)("Total timeouts:","advanced-database-cleaner")+" ".concat(null==E||null===(v=E.data)||void 0===v?void 0:v.timeouts_count))),(null==E||null===(y=E.data)||void 0===y?void 0:y.forced_timeouts_count)>0&&"done"==(null==E||null===(g=E.data)||void 0===g?void 0:g.status)&&n.createElement("div",{className:"relative flex w-full items-center border-l-2 border-blue-200 py-[2px]"},n.createElement(ai.JFS,{className:"absolute z-10 -ml-[9px] h-[16px] w-[16px] rounded-full bg-white"}),n.createElement("div",{className:"pl-[14px]"},(0,i.__)("Total forced timeouts:","advanced-database-cleaner")+" ".concat(null==E||null===(b=E.data)||void 0===b?void 0:b.forced_timeouts_count)))))))};function Gi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Di=function(e){switch(e){case"p":return"text-blue-600 font-semibold";case"t":return"text-green-600 font-semibold";case"o":return"text-orange-600 font-semibold";case"w":return"text-purple-500 font-semibold";case"u":return"text-gray-200 font-semibold";case"unk":return"text-red-500 font-semibold";default:return"text-black"}},zi=function(e){return{inactive:n.createElement(j,{content:(0,i.__)("Inactive","advanced-database-cleaner")},n.createElement(me.Qp1,{className:"text-[10px] text-gray-400"})),active:n.createElement(j,{content:(0,i.__)("Active","advanced-database-cleaner")},n.createElement(me.Qp1,{className:"text-[10px] text-green-600"})),not_installed:n.createElement(j,{content:(0,i.__)("Not installed","advanced-database-cleaner")},n.createElement(me.Qp1,{className:"text-[10px] text-red-600"}))}[e]||""},Ri=function(e,t){return n.createElement("div",{className:"my-2 flex h-full w-full flex-col rounded-lg border border-gray-200 text-[.75rem] shadow-md"},n.createElement("div",{className:"break-normal rounded-t-lg bg-gray-200 px-2 py-2 text-[0.85rem] font-semibold text-gray-800"},"plugins"===t?(0,i.__)("Known plugins using this item","advanced-database-cleaner"):(0,i.__)("Known themes using this item","advanced-database-cleaner")),0===e.length&&n.createElement("div",{className:"break-normal px-2 py-2 text-[.85rem] italic text-gray-500"},(0,i.__)("No data available!","advanced-database-cleaner")),e.map((function(r,a){return n.createElement("div",{key:"known"+t+r.slug,className:"flex items-center justify-between text-[.85rem] ".concat(a<e.length-1?"border-b border-dashed border-gray-400":"rounded-b-lg"," ").concat("text-gray-900"," break-normal bg-white px-2 py-2")},function(e){for(var t=0,r=Object.entries({"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'","&nbsp;":" ","&ndash;":"","&#8211;":"","&mdash;":"","&#8212;":""});t<r.length;t++){var n=ot(r[t],2),a=n[0],o=n[1];e=e.replace(new RegExp(a,"g"),o)}return e}(r.name)," (",r.percent,"%)"," ",zi(r.status))})))},Bi=function(e){var t=e.isOpen,r=e.onClose,c=e.itemName,s=e.itemType,u=e.belongsToName,d=e.belongsToPercent,m=e.belongsToStatus,f=e.plugins,p=e.themes;return t?n.createElement(a.e,{appear:!0,show:t,as:n.Fragment},n.createElement(o.lG,{as:"div",className:"relative z-50",onClose:r},n.createElement(o.Xi,{transition:!0,className:"fixed inset-0 bg-gray-900 bg-opacity-70 transition-opacity duration-100 ease-linear data-[closed]:opacity-0"}),n.createElement("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto"},n.createElement("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},n.createElement(o.Lj,{transition:!0,className:"relative transform overflow-visible rounded-lg bg-white px-4 pb-2 pt-5 text-left shadow-xl transition-all duration-200 ease-out data-[closed]:scale-95 data-[closed]:opacity-0 sm:my-8 sm:min-h-[500px] sm:w-full sm:max-w-3xl sm:p-6"},n.createElement("div",{className:"absolute right-0 top-0 pr-4 pt-4"},n.createElement("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",onClick:r},n.createElement("span",{className:"sr-only"},"Close"),n.createElement(l.WQq,{className:"h-6 w-6","aria-hidden":"true"}))),n.createElement("div",{className:"mx-auto mt-8"},n.createElement("div",{className:"mb-3 rounded-xl border-b-2 border-gray-200 bg-gray-100 px-3 py-2"},n.createElement("div",{className:"flex items-center gap-x-1"},n.createElement("span",{className:"text-[.8rem] font-semibold text-gray-600"},(0,i.__)("Name:","advanced-database-cleaner")),n.createElement("span",{className:"mt-[2px] font-mono text-[.9rem] font-bold text-black"},c)),n.createElement("div",{className:"flex items-center gap-x-1"},"o"!==s&&"unk"!==s&&n.createElement("span",{className:"text-[.8rem] font-semibold text-gray-600"},(0,i.__)("Belongs to:","advanced-database-cleaner")),n.createElement("span",{className:"text-[.8rem] ".concat(Di(s))},u),"o"!==s&&"unk"!==s&&d<100&&n.createElement("span",{className:"text-[.8rem] font-semibold text-gray-700"}," ("+d+"%)"),"o"!==s&&"unk"!==s&&n.createElement("span",{className:"mt-[1px]"},zi(m)))),n.createElement("div",{className:"flex max-h-[340px] flex-col gap-x-4 overflow-y-auto pr-1 lg:flex-row"},Ri(f,"plugins"),Ri(p,"themes")),n.createElement("div",{className:"mt-6 flex items-center justify-end gap-3 border-t border-gray-200 py-4"},n.createElement("span",{className:"flex items-center gap-2 text-green-600"},n.createElement(me.Qp1,{className:"mt-1 text-[10px] text-green-600"}),(0,i.__)("Active","advanced-database-cleaner")),"|",n.createElement("span",{className:"flex items-center gap-2 text-gray-600"},n.createElement(me.Qp1,{className:"mt-1 text-[10px] text-gray-400"}),(0,i.__)("Inactive","advanced-database-cleaner")),"|",n.createElement("span",{className:"flex items-center gap-2 text-red-600"},n.createElement(me.Qp1,{className:"mt-1 text-[10px] text-red-600"}),(0,i.__)("Not installed","advanced-database-cleaner"))))))))):null};const Ui=function(e){var t,r=e.itemName,a=e.belongToData,o=e.knownPlugins,c=e.knowThemes,l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Gi(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,n.useState)(!1),2),u=l[0],m=l[1],f=(0,d.wA)();return"u"===a.type?"PREMIUM"===z?n.createElement("div",{className:"flex gap-x-1"},n.createElement("span",{className:"text-gray-600"},(0,i.__)("Not scanned yet!","advanced-database-cleaner")),n.createElement(P,{href:"#",onClick:function(e){e.preventDefault(),f(Oo("dataTableColumn"))},className:"!text-blue-600 hover:!text-blue-900"},(0,i.__)("[scan]","advanced-database-cleaner"))):n.createElement("div",{className:"flex gap-x-1"},n.createElement("span",{className:"flex items-center gap-1 text-[.75rem] font-semibold text-yellow-600"},n.createElement(s.xGQ,{className:"text-[.8rem] text-yellow-600"}),(0,i.__)("premium","advanced-database-cleaner")),n.createElement(P,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=belong-to-column-datatable&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"flex items-center text-[.75rem] !font-normal !text-gray-900 hover:!text-blue-600"},"[",(0,i.__)("upgrade","advanced-database-cleaner"),"]")):"w"===a.type&&"m"!==a.by?n.createElement("div",null,n.createElement("span",{className:"flex justify-between break-normal ".concat(Di(a.type))},a.name,n.createElement(j,{content:(0,i.__)("Belongs to WordPress","advanced-database-cleaner"),line2:(0,i.__)("Cannot be deleted or edited!","advanced-database-cleaner")},n.createElement(me.JhU,{className:"mt-[2px] w-[13px] text-[11px] text-gray-800"})))):n.createElement("div",{className:"flex flex-col"},n.createElement("span",{className:"flex justify-between break-normal ".concat(Di(a.type))},a.name,"o"!==a.type&&"unk"!==a.type&&"m"!==a.by&&a.percent<100?" ("+a.percent+"%)":"","m"===a.by&&n.createElement(j,{content:(0,i.__)("You manually corrected this items!","advanced-database-cleaner")},n.createElement(fe.WBX,{className:"mt-[2px] w-[16px] text-[15px] text-green-700"})),"m"!==a.by&&(o.length>0||c.length>0)&&n.createElement(j,{content:(0,i.__)("More info","advanced-database-cleaner")},n.createElement(P,{href:"#",onClick:function(e){e.preventDefault(),m(!0)},className:"focus:ring-0"},n.createElement(ge.Zel,{className:"mt-[3px] !h-[16px] !w-[16px] rounded-full border border-gray-200 bg-blue-600 p-[1px] text-white"})))),"o"===a.type||"w"===a.type&&"m"===a.by?"":(t=a.status,{inactive:n.createElement("span",{className:"flex items-center gap-x-1 text-[.7rem] font-semibold italic text-gray-900"},n.createElement(me.Qp1,{className:"text-[7px] text-gray-400"}),(0,i.__)("Inactive","advanced-database-cleaner")),active:n.createElement("span",{className:"flex items-center gap-x-1 text-[.7rem] font-semibold italic text-gray-900"},n.createElement(me.Qp1,{className:"text-[7px] text-green-600"}),(0,i.__)("Active","advanced-database-cleaner")),not_installed:n.createElement("span",{className:"flex items-center gap-x-1 text-[.7rem] font-semibold italic text-gray-900"},n.createElement(me.Qp1,{className:"text-[7px] text-red-600"}),(0,i.__)("Not installed","advanced-database-cleaner"))}[t]||""),n.createElement(Bi,{isOpen:u,onClose:function(){return m(!1)},itemName:r,itemType:a.type,belongsToName:a.name,belongsToPercent:a.percent,belongsToStatus:a.status,plugins:o,themes:c}))};const Wi=function(e){var t=e.tabName,r=void 0===t?"":t,a=e.columns,o=e.data,c=(0,d.d4)((function(e){return e.action.selectedItems})),l=(0,d.wA)();return n.createElement("tbody",{className:"text-[.82rem] text-gray-800"},o.map((function(e,t){var o=c.some((function(t){return gf(t,e.composite_id)}));return n.createElement("tr",{key:"row-dt-"+t+e.composite_id.name,className:"h-[2.4rem] hover:bg-gray-200/80 ".concat(o?"border-l-[3px] border-blue-500 bg-gray-200/80":"border-l-[3px] border-transparent bg-gray-50/50")},n.createElement("td",{className:"border-b border-gray-200/80 pt-2 text-center align-top"},n.createElement("input",{type:"checkbox",checked:o,onChange:function(){return l(Pf(e.composite_id))}})),a.map((function(a){return n.createElement("td",{key:"col-".concat(a.key,"-").concat(t),className:"".concat(a.width," ").concat(a.visibility," break-all border border-b border-gray-200/80 px-2 pt-2 align-top")},function(e,t,r,a,o){switch(t){case"table_name":return u=r.prefix,d=r.name_without_prefix,m=r.raw_overhead,f=r.type,n.createElement(n.Fragment,null,n.createElement("span",{className:"".concat(!u&&"flex items-start")},u?n.createElement("b",null,u):n.createElement(j,{content:(0,i.__)("Invalid table prefix!","advanced-database-cleaner"),align:"left"},n.createElement(ve.Paf,{className:"mr-1 mt-[3px] text-[.95rem] text-red-500"})),d),m>0&&"InnoDB"!==f&&n.createElement("div",{className:"mb-1 text-xs text-orange-600"},(0,i.__)("(to optimize)","advanced-database-cleaner")));case"site_id":return function(e){if("N/A"===e||"1"!==U)return e;var t=W.find((function(t){return String(t.id)===String(e)})),r=t?t.name:(0,i.__)("Name not found!","advanced-database-cleaner");return n.createElement(j,{content:r},n.createElement("span",{className:"cursor-default underline decoration-gray-400 decoration-dotted decoration-1 underline-offset-4"},e))}(r.site_id);case"value":case"post_content":case"comment_content":case"meta_value":case"term_order":case"message":case"args":return function(e,t,r){var a=function(e,t){var r=t.site_id,n="",a="",o="",i="",c=99;switch(e){case"options":case"transients":case"users_meta":case"posts_meta":c=19,n=t.value,a=t.name,o=t.id,i=t.found_in||"";break;case"revisions":case"auto_drafts":case"trashed_posts":n=t.post_content,o=t.ID;break;case"unapproved_comments":case"spam_comments":case"trashed_comments":case"pingbacks":case"trackbacks":n=t.comment_content,o=t.comment_ID;break;case"unused_postmeta":case"duplicated_postmeta":case"unused_commentmeta":case"duplicated_commentmeta":case"unused_termmeta":case"duplicated_termmeta":case"oembed_caches":n=t.meta_value,o=t.meta_id;break;case"unused_usermeta":case"duplicated_usermeta":n=t.meta_value,o=t.umeta_id;break;case"unused_relationships":n=t.term_order,o=t.object_id;break;case"expired_transients":n=t.value,o=t.id;break;case"actionscheduler_completed_actions":case"actionscheduler_failed_actions":case"actionscheduler_canceled_actions":n=t.args,o=t.action_id;break;case"actionscheduler_completed_logs":case"actionscheduler_failed_logs":case"actionscheduler_canceled_logs":case"actionscheduler_orphan_logs":n=t.message,o=t.log_id;break;default:n=t.value}var l=n?n.slice(0,c):"";return{value:l,isTruncated:!!n&&l.length<n.length,name:a,rowId:o,siteId:r,transientFoundIn:i}}(e,t),o=a.value,i=a.isTruncated,c=a.name,l=a.rowId,s=a.siteId,u=a.transientFoundIn;return n.createElement("div",{className:"group flex items-center justify-between gap-2"},n.createElement("span",null,o,i&&n.createElement("span",{className:"ml-1 font-bold"},"")),n.createElement("div",null,n.createElement(pe.GNz,{className:"cursor-pointer !text-[16px] text-gray-300 group-hover:text-gray-900",onClick:function(){r(Dm({name:c,siteId:s,rowId:l,transientFoundIn:u||""}))}})))}(e,r,o);case"size":return st(r.size);case"timeout":return ft(r.timeout);case"hook_name":return n.createElement("div",{className:"flex flex-col"},n.createElement("div",null,r.hook_name),n.createElement("div",{className:"my-3 text-cyan-600"},n.createElement("pre",{className:"whitespace-pre-wrap text-xs"},JSON.stringify(r.args,null,2))));case"timestamp":return ft(r.timestamp);case"interval":return function(e){if("N/A"===e)return e;var t=(0,i.sprintf)((0,i.__)("Every %s","advanced-database-cleaner"),ut(Number(e)));return n.createElement("span",null,n.createElement(j,{content:t},n.createElement("span",{className:"cursor-default underline decoration-gray-400 decoration-dotted decoration-1 underline-offset-4"},e)),n.createElement("span",{className:"ml-1 font-light"},(0,i.__)("secs","advanced-database-cleaner")))}(r.interval);case"action":return r.action?n.createElement("span",{className:"font-mono text-xs"},r.action):"";case"expired":return l=r.expired,s=r.timeout,"yes"===l?n.createElement("span",{className:"text-red-500"},(0,i.__)("Yes","advanced-database-cleaner")):n.createElement(n.Fragment,null,n.createElement(j,{content:s?n.createElement("div",null,(0,i.__)("Expires at:","advanced-database-cleaner")+" "+ft(s)," ",(0,i.__)("(local time)","advanced-database-cleaner"),n.createElement("div",{className:"font-thin"},(0,i.__)("In","advanced-database-cleaner")," ",mt(s))):(0,i.__)("Never expires","advanced-database-cleaner")},n.createElement("span",{className:"cursor-default underline decoration-gray-400 decoration-dotted decoration-1 underline-offset-4"},(0,i.__)("No","advanced-database-cleaner"))));case"belongs_to":return n.createElement(Ui,{itemName:r.name,belongToData:r.belongs_to,knownPlugins:r.known_plugins,knowThemes:r.known_themes});default:var c=r[t];return"string"==typeof c&&c.length>100?n.createElement("div",{className:"flex text-left"},n.createElement(L,{content:c,position:a<15?"bottom":"top"},c.slice(0,100),n.createElement("span",{className:"ml-1 font-bold"},""))):c}var l,s,u,d,m,f}(r,a.key,e,t,l))})))})))},Yi=function(e){var t=e.columns,r=e.data,a=(0,d.d4)((function(e){return e.action.selectedItems})),o=(0,d.d4)((function(e){return e.filter.sortBy})),i=(0,d.d4)((function(e){return e.filter.sortOrder})),c=r.length>0&&r.length===a.length,l=(0,d.wA)(),s=function(e){var t=e.column;if(!t.sortable)return null;var r,a=t.key===o;return r="int"===t.contentType?a?"ASC"===i?me.L2T:me.mTC:me.L2T:a?"ASC"===i?me.MPV:me.NDH:me.MPV,n.createElement(r,{className:"text-[.85rem] ".concat(a?"text-gray-900":"")})};return n.createElement("thead",{className:"h-[3rem] bg-gray-100 text-gray-700"},n.createElement("tr",null,n.createElement("th",{scope:"col",className:"w-[40px] border-b border-gray-300 px-2"},n.createElement("input",{type:"checkbox",onChange:function(e){var t=e.target.checked?r.map((function(e){return e.composite_id})):[];l(If(t))},checked:c})),t.map((function(e){return n.createElement("th",{key:e.key,scope:"col",className:"".concat(e.visibility," border-b border-gray-300 pl-2 pr-4 text-gray-200 hover:text-gray-900 ").concat(e.sortable&&"cursor-pointer"),onClick:(t=e.key,r=e.sortable,function(){r&&l(Me({newSortBy:t}))})},n.createElement("div",{className:"flex items-center gap-x-1 tracking-wide"},n.createElement("span",{className:"whitespace-nowrap text-gray-900"},e.label),e.tooltipText&&n.createElement(L,{content:e.tooltipText,position:"bottom"},n.createElement(ge.Zel,{className:"mt-[3px] !h-[15px] !w-[15px] rounded-full border border-gray-200 bg-gray-300 p-[1px] text-gray-700"})),n.createElement(s,{column:e})));var t,r}))))};function Ki(e){return Ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ki(e)}function $i(){$i=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Ki(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(Ki(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function qi(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Hi(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){qi(o,n,a,i,c,"next",e)}function c(e){qi(o,n,a,i,c,"throw",e)}i(void 0)}))}}function Vi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qi(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Ji=function(e){var t=e.actions,r=e.columns,a=(0,d.d4)((function(e){return e.filter})),o=(0,d.d4)(Ue),i=(0,d.d4)((function(e){return e.shared.refreshCountsInOrangeHealthCheck})),c=Vi((0,n.useState)([]),2),l=c[0],s=c[1],u=Vi((0,n.useState)(0),2),m=u[0],f=u[1],p=Vi((0,n.useState)(".."),2),h=p[0],v=p[1],y=Vi((0,n.useState)(".."),2),g=y[0],b=y[1],x=Vi((0,n.useState)([]),2),w=x[0],_=x[1],E=Vi((0,n.useState)([]),2),N=E[0],k=E[1],S=Vi((0,n.useState)([]),2),L=S[0],j=S[1],O=Vi((0,n.useState)(!0),2),T=O[0],P=O[1],I=(0,d.wA)();(0,n.useEffect)((function(){v(".."),b(".."),[{service:Eo,setState:v},{service:ko,setState:b}].forEach((function(e){var t=e.service,r=e.setState;C(t,r)}))}),[i]);var C=function(){var e=Hi($i().mark((function e(t,r){var n,a;return $i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:a=e.sent,r(null!==(n=null==a?void 0:a.data)&&void 0!==n?n:0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Pt(I,e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}();(0,n.useEffect)((function(){var e=function(){var e=Hi($i().mark((function e(){return $i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:I(Ff());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a]);var A=function(){var e=Hi($i().mark((function e(){var t,r,n,o,i,c,l,u;return $i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.prev=1,e.next=4,Ia("cron_jobs",a);case 4:(t=e.sent)&&(s(null===(r=t.data)||void 0===r?void 0:r.items),f(null===(n=t.data)||void 0===n?void 0:n.total_items),_(null===(o=t.data)||void 0===o?void 0:o.categorization_count),k(null===(i=t.data)||void 0===i?void 0:i.plugins_count),j(null===(c=t.data)||void 0===c?void 0:c.themes_count),a.currentPage>(null===(l=t.data)||void 0===l?void 0:l.real_current_page)&&I(Ge(null===(u=t.data)||void 0===u?void 0:u.real_current_page))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Pt(I,e.t0.message);case 11:return e.prev=11,P(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return n.createElement("div",null,"PREMIUM"===z&&n.createElement(Mi,{tabName:"cron_jobs"}),n.createElement(ni,{notScannedCount:h,noActionCount:g}),n.createElement(Wo,{tabName:"cron_jobs",categorizationCount:w,pluginsCount:N,themesCount:L}),!T&&m>0&&n.createElement(Ro,null),n.createElement("div",{className:"mt-8 flex justify-between gap-x-2"},n.createElement(Go,{actions:t,itemsType:"cron_jobs"}),n.createElement(He,{totalItems:m,additionalStyle:"hidden md:flex",top:!0,onRefresh:function(e){e.preventDefault(),T||A()},loading:T,filterApplied:o})),T?yf():n.createElement("div",{className:"mt-4 w-full overflow-x-auto rounded-lg border border-gray-300"},l.length>0?n.createElement("table",{className:"w-full min-w-[1200px] 2xl:min-w-[1000px]"},n.createElement(Yi,{columns:r,data:l}),n.createElement(Wi,{tabName:"cron_jobs",columns:r,data:l})):vf(o)),n.createElement("div",{className:"mt-6 flex flex-col items-center justify-between gap-y-6 text-[.82rem] text-gray-800 sm:flex-row"},n.createElement($e,null),n.createElement(He,{totalItems:m,filterApplied:o})))};function Xi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||Zi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zi(e,t){if(e){if("string"==typeof e)return ec(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ec(e,t):void 0}}function ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var tc,rc=[[{key:"KB",label:"KB"},{key:"MB",label:"MB"},{key:"GB",label:"GB"}]],nc=[[{key:"all",label:(0,i.__)("All","advanced-database-cleaner")}],(tc=W.map((function(e){return{key:e.id,label:e.id+" - "+(e.name.length>20?e.name.substring(0,20)+"...":e.name)}})),function(e){if(Array.isArray(e))return ec(e)}(tc)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(tc)||Zi(tc)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())];const ac=function(e){var t=e.tabName,r={nameLabel:(0,i.__)("Meta key","advanced-database-cleaner"),valueLabel:(0,i.__)("Meta value","advanced-database-cleaner")};switch(t){case"revisions":case"auto_drafts":case"trashed_posts":r={nameLabel:(0,i.__)("Title","advanced-database-cleaner"),valueLabel:(0,i.__)("Content","advanced-database-cleaner")};break;case"unapproved_comments":case"spam_comments":case"trashed_comments":case"pingbacks":case"trackbacks":r={nameLabel:(0,i.__)("Author","advanced-database-cleaner"),valueLabel:(0,i.__)("Content","advanced-database-cleaner")};break;case"unused_relationships":r={nameLabel:(0,i.__)("Term ID","advanced-database-cleaner"),valueLabel:(0,i.__)("Term order","advanced-database-cleaner")};break;case"expired_transients":r={nameLabel:(0,i.__)("Name","advanced-database-cleaner"),valueLabel:(0,i.__)("Value","advanced-database-cleaner")};break;case"actionscheduler_completed_actions":case"actionscheduler_failed_actions":case"actionscheduler_canceled_actions":r={nameLabel:(0,i.__)("Hook","advanced-database-cleaner"),valueLabel:(0,i.__)("Args","advanced-database-cleaner")};break;case"actionscheduler_completed_logs":case"actionscheduler_failed_logs":case"actionscheduler_canceled_logs":case"actionscheduler_orphan_logs":r={nameLabel:(0,i.__)("Action ID","advanced-database-cleaner"),valueLabel:(0,i.__)("Message","advanced-database-cleaner")}}var a=[[{key:"all",label:(0,i.__)("All","advanced-database-cleaner")}],[{key:"name",label:r.nameLabel},{key:"value",label:r.valueLabel}]],o=(0,d.d4)((function(e){return e.filter})),c=(0,d.d4)((function(e){return e.shared.hideFilters})),l=(0,d.d4)(Ue),u=Xi((0,n.useState)(o.search),2),m=u[0],f=u[1],p=Xi((0,n.useState)(o.searchIn),2),v=p[0],y=p[1],g=Xi((0,n.useState)(o.size),2),b=g[0],x=g[1],_=Xi((0,n.useState)(o.sizeUnit),2),E=_[0],N=_[1],k=Xi((0,n.useState)(o.site),2),S=k[0],L=k[1],j=Xi((0,n.useState)(rc[0][0]),2),O=j[0],T=j[1],I=Xi((0,n.useState)(nc[0][0]),2),C=I[0],F=I[1],M=Xi((0,n.useState)(0),2),G=M[0],D=M[1],R=(0,d.wA)(),B=a.flat().find((function(e){return e.key===v}))||a[1][0];return(0,n.useEffect)((function(){f(o.search),y(o.searchIn),x(o.size),N(o.sizeUnit),L(o.site)}),[o]),n.createElement(n.Fragment,null,n.createElement("div",{className:"mt-2 flex min-h-[20px] w-full items-end justify-end gap-x-2 text-end"},l&&n.createElement("div",{className:"flex items-center gap-x-[4px]"},n.createElement(P,{href:"#",className:"text-[.8rem] font-semibold text-red-600 no-underline",onClick:function(e){e.preventDefault(),R(De()),T(rc[0][0]),F(nc[0][0]),D(G+1)}},n.createElement(s.k7K,null),(0,i.__)("Reset filters","advanced-database-cleaner")),"|"),"PREMIUM"===z&&n.createElement(P,{href:"#",className:"text-[.8rem] font-semibold text-gray-500 no-underline",onClick:function(e){e.preventDefault(),R(Gm(!c))}},c?n.createElement("div",{className:"flex items-center gap-x-[4px]"},n.createElement(Yo.E1u,null),(0,i.__)("Show filters","advanced-database-cleaner")):n.createElement("div",{className:"flex items-center gap-x-[4px]"},n.createElement(Yo.UX6,null),(0,i.__)("Hide filters","advanced-database-cleaner")))),n.createElement("div",{key:G,className:"mt-1",hidden:c},n.createElement("div",{className:"flex w-full flex-col rounded-xl border bg-gray-200/80 xl:min-w-[800px] xl:flex-row xl:gap-x-2 xl:gap-y-4"},n.createElement("form",{className:"grid w-full grid-cols-2 items-end gap-x-4 gap-y-2 p-3 text-[.7rem] text-gray-900 sm:grid-cols-3 xl:flex xl:shadow-sm ".concat("FREE"===z?"pointer-events-none opacity-50":"")},n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Search for","advanced-database-cleaner")),n.createElement(h,{placeholder:(0,i.__)("Search for","advanced-database-cleaner"),className:"!h-[2rem] w-full !border-gray-300 xl:w-[10rem]",onChange:function(e){return f(e.target.value)},maxLength:100,value:m})),n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Search in","advanced-database-cleaner")),n.createElement(uf,{selectItems:a,selectedItem:B,onSelectionChange:function(e){return y(e)},minWidthButton:"w-full xl:min-w-[100px]",minWidthContent:"min-w-[120px]"})),n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Size big than","advanced-database-cleaner")),n.createElement("div",{className:"flex gap-0"},n.createElement(h,{type:"number",min:0,className:"!h-[2rem] !min-h-[10px] w-full !rounded-l-lg !rounded-r-[0px] !border-gray-300 !ring-0 xl:w-[4rem]",onChange:function(e){return x(parseInt(e.target.value))},value:b}),n.createElement(uf,{selectItems:rc,selectedItem:O,onSelectionChange:function(e){return N(e)},minWidthButton:"min-w-[55px]",minWidthContent:"min-w-[60px]",extraBtnClasses:"!rounded-l-none border-l-transparent"}))),"1"===U&&"unused_usermeta"!==t&&"duplicated_usermeta"!==t&&n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Site","advanced-database-cleaner")),n.createElement(uf,{selectItems:nc,selectedItem:C,onSelectionChange:function(e){return L(e)},minWidthButton:"min-w-[70px]",minWidthContent:"min-w-[200px]",maxHeight:!0,labelClasses:"text-[.8rem]",extraBtnClasses:"w-full xl:max-w-[70px]"})),n.createElement("div",null,n.createElement(w,{Icon:Ve.F3z,text:(0,i.__)("Filter","advanced-database-cleaner"),className:"mt-2 !h-[2rem] xl:mt-0",onClick:function(e){e.preventDefault(),R(_e({search:m,searchIn:v,size:Number(b),sizeUnit:E,site:S}))}}))),"FREE"===z&&n.createElement("div",{className:"flex w-full items-center"},n.createElement("div",{className:"flex items-center gap-2 rounded-lg px-3 py-[8px] xl:mt-[22px] xl:border xl:border-yellow-500/40 xl:bg-gray-50 xl:py-[6px]"},n.createElement(s.xGQ,{className:"h-4 w-4 text-yellow-600"}),n.createElement("span",{className:"text-[.75rem] font-semibold text-gray-700"},(0,i.__)("Unlock Advanced Filters","advanced-database-cleaner")),n.createElement(P,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=general-cleanup-preview-filters&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"flex items-center gap-1 text-[.8rem] font-semibold !text-blue-500 !no-underline hover:!text-blue-700"},(0,i.__)("Upgrade","advanced-database-cleaner"),n.createElement(A.L2n,{className:"h-3 w-3"})))))))};function oc(e){return oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(e)}function ic(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ic(Object(r),!0).forEach((function(t){lc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ic(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lc(e,t,r){return(t=function(e){var t=function(e){if("object"!=oc(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=oc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==oc(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sc(){sc=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==oc(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(oc(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function uc(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function dc(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){uc(o,n,a,i,c,"next",e)}function c(e){uc(o,n,a,i,c,"throw",e)}i(void 0)}))}}function mc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fc(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const pc=function(e){var t=e.tabName,r=e.actions,a=e.columns,o=(0,d.d4)((function(e){return e.filter})),i=(0,d.d4)(Ue),c=mc((0,n.useState)([]),2),l=c[0],s=c[1],u=mc((0,n.useState)(0),2),m=u[0],f=u[1],p=mc((0,n.useState)(!0),2),h=p[0],v=p[1],y=(0,d.wA)();(0,n.useEffect)((function(){var e=function(){var e=dc(sc().mark((function e(){return sc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:y(Ff());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[o]);var g=function(){var e=dc(sc().mark((function e(){var r,n,a,i,c;return sc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,Ia(t,cc(cc({},o),{},{itemsType:t}));case 4:(r=e.sent)&&(s(null===(n=r.data)||void 0===n?void 0:n.items),f(null===(a=r.data)||void 0===a?void 0:a.total_items),o.currentPage>(null===(i=r.data)||void 0===i?void 0:i.real_current_page)&&y(Ge(null===(c=r.data)||void 0===c?void 0:c.real_current_page))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Pt(y,e.t0.message);case 11:return e.prev=11,v(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return n.createElement("div",null,n.createElement("div",{className:"-mb-4 flex items-center gap-1"},n.createElement("button",{onClick:function(){y(Mm({tabId:"general_cleanup"})),y(Af()),y(ze())},className:"group flex items-center gap-3 rounded-xl border bg-white px-4 py-2 shadow-sm transition-all"},n.createElement(A.rBg,{className:"h-5 w-5 text-blue-600 transition-transform group-hover:-translate-x-0.5"}))),n.createElement(ac,{tabName:t}),n.createElement("div",{className:"mt-8 flex justify-between gap-x-2"},n.createElement(Go,{actions:r,itemsType:t}),n.createElement(He,{totalItems:m,additionalStyle:"hidden md:flex",top:!0,onRefresh:function(e){e.preventDefault(),h||g()},loading:h,filterApplied:i})),h?yf():n.createElement("div",{className:"mt-4 w-full overflow-x-auto rounded-lg border border-gray-300"},l.length>0?n.createElement("table",{className:"w-full min-w-[1200px] 2xl:min-w-[1000px]"},n.createElement(Yi,{columns:a,data:l}),n.createElement(Wi,{tabName:t,columns:a,data:l})):vf(i)),n.createElement("div",{className:"mt-6 flex flex-col items-center justify-between gap-y-6 text-[.82rem] text-gray-800 sm:flex-row"},n.createElement($e,null),n.createElement(He,{totalItems:m,filterApplied:i})))};function hc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||vc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vc(e,t){if(e){if("string"==typeof e)return yc(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yc(e,t):void 0}}function yc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var gc=[[{key:"all",label:(0,i.__)("All","advanced-database-cleaner")}],[{key:"name",label:(0,i.__)("Name","advanced-database-cleaner")},{key:"value",label:(0,i.__)("Value","advanced-database-cleaner")}]],bc=[[{key:"all",label:(0,i.__)("All","advanced-database-cleaner")}],[{key:"yes",label:(0,i.__)("Yes","advanced-database-cleaner")},{key:"no",label:(0,i.__)("No","advanced-database-cleaner")}]],xc=[[{key:"KB",label:"KB"},{key:"MB",label:"MB"},{key:"GB",label:"GB"}]],wc=[[{key:"all",label:(0,i.__)("All","advanced-database-cleaner")}],function(e){return function(e){if(Array.isArray(e))return yc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(W.map((function(e){return{key:e.id,label:e.id+" - "+(e.name.length>20?e.name.substring(0,20)+"...":e.name)}})))];const _c=function(e){var t=e.autoloadHealth,r=e.autoloadedSize,a=e.bigOptionsCount,o=e.notScannedCount,c=(0,d.d4)((function(e){return e.filter})),l=(0,d.d4)((function(e){return e.shared.hideFilters})),u=(0,d.d4)(Ue),m=hc((0,n.useState)(c.search),2),f=m[0],p=m[1],v=hc((0,n.useState)(c.searchIn),2),y=v[0],g=v[1],b=hc((0,n.useState)(c.autoload),2),x=b[0],_=b[1],E=hc((0,n.useState)(c.size),2),N=E[0],k=E[1],S=hc((0,n.useState)(c.sizeUnit),2),L=S[0],j=S[1],O=hc((0,n.useState)(c.site),2),T=O[0],I=O[1],C=hc((0,n.useState)(gc[1][0]),2),F=C[0],M=C[1],G=hc((0,n.useState)(bc[0][0]),2),D=G[0],R=G[1],B=hc((0,n.useState)(xc[0][0]),2),W=B[0],Y=B[1],K=hc((0,n.useState)(wc[0][0]),2),$=K[0],q=K[1],H=hc((0,n.useState)(0),2),V=H[0],Q=H[1],J=(0,d.wA)(),X=".."===t||".."===r||".."===a||".."===o?"border-gray-100 bg-gray-100 shadow-md":"good"===t&&0===a&&0===o?"border-green-100 bg-green-100 shadow-md":"border-orange-100 bg-orange-100 shadow-md";return(0,n.useEffect)((function(){p(c.search),g(c.searchIn),_(c.autoload),k(c.size),j(c.sizeUnit),I(c.site)}),[c]),n.createElement(n.Fragment,null,n.createElement("div",{className:"flex min-h-[20px] w-full items-end justify-end text-end"},u&&n.createElement("div",{className:"flex items-center"},n.createElement(P,{href:"#",className:"text-[.8rem] font-semibold text-red-600 no-underline",onClick:function(e){e.preventDefault(),J(De()),M(gc[1][0]),R(bc[0][0]),Y(xc[0][0]),q(wc[0][0]),Q(V+1)}},n.createElement(s.k7K,null),(0,i.__)("Reset filters","advanced-database-cleaner")),"PREMIUM"===z&&n.createElement("span",{className:"-mt-1 px-2"},"|")),"PREMIUM"===z&&n.createElement(P,{href:"#",className:"text-[.8rem] font-semibold text-gray-500 no-underline",onClick:function(e){e.preventDefault(),J(Gm(!l))}},l?n.createElement("div",{className:"flex items-center gap-x-[4px]"},n.createElement(Yo.E1u,null),(0,i.__)("Show filters","advanced-database-cleaner")):n.createElement("div",{className:"flex items-center gap-x-[4px]"},n.createElement(Yo.UX6,null),(0,i.__)("Hide filters","advanced-database-cleaner")))),n.createElement("div",{key:V,className:"mt-1",hidden:l},n.createElement("div",{className:"flex flex-col justify-between gap-4 xl:min-w-[800px] xl:flex-row xl:gap-x-3"},n.createElement("div",{className:"flex min-w-[280px] max-w-[280px] flex-col gap-y-1 rounded-xl border ".concat(X," justify-center px-2 py-1")},pf(".."===t?"loading":"good"===t?"ok":"warning","good"===t?(0,i.sprintf)((0,i.__)("Autoload size is good (%s)","advanced-database-cleaner"),r):(0,i.sprintf)((0,i.__)("Autoload size is big (%s)","advanced-database-cleaner"),r),(function(e){e.preventDefault(),J(je()),M(gc[1][0]),R(bc[1][0]),Y(xc[0][0]),q(wc[0][0]),Q(V+1)})),pf(".."===a?"loading":0===a?"ok":"warning",(0,i.sprintf)((0,i.__)("%s big option(s) detected","advanced-database-cleaner"),a),(function(e){e.preventDefault(),J(Le()),M(gc[1][0]),R(bc[0][0]),Y(xc[0][0]),q(wc[0][0]),Q(V+1)})),pf(".."===o?"loading":0===o?"ok":"warning",(0,i.sprintf)((0,i.__)("%s option(s) not scanned","advanced-database-cleaner"),o),(function(e){e.preventDefault(),J(Se()),M(gc[1][0]),R(bc[0][0]),Y(xc[0][0]),q(wc[0][0]),Q(V+1)}))),n.createElement("div",{className:"flex w-full flex-col gap-y-1 rounded-xl border bg-gray-200/80 px-3 shadow-sm ".concat("FREE"===z?"py-2":"py-3")},n.createElement("form",{className:"grid w-full grid-cols-2 items-end gap-x-4 gap-y-2 text-[.7rem] text-gray-900 sm:grid-cols-3 xl:flex ".concat("FREE"===z?"pointer-events-none opacity-50":"")},n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Search for","advanced-database-cleaner")),n.createElement(h,{placeholder:(0,i.__)("Search for","advanced-database-cleaner"),className:"!h-[2rem] w-full !border-gray-300 xl:w-[10rem]",onChange:function(e){return p(e.target.value)},maxLength:100,value:f})),n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Search in","advanced-database-cleaner")),n.createElement(uf,{selectItems:gc,selectedItem:F,onSelectionChange:function(e){return g(e)},minWidthButton:"w-full xl:min-w-[85px]",minWidthContent:"min-w-[120px]"})),n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Autoload","advanced-database-cleaner")),n.createElement(uf,{selectItems:bc,selectedItem:D,onSelectionChange:function(e){return _(e)},minWidthButton:"w-full xl:min-w-[70px]",extraBtnClasses:"xl:max-w-[80px]",minWidthContent:"min-w-[100px]"})),n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Size big than","advanced-database-cleaner")),n.createElement("div",{className:"flex gap-0"},n.createElement(h,{type:"number",min:0,className:"!h-[2rem] !min-h-[10px] w-full !rounded-l-lg !rounded-r-[0px] !border-gray-300 !ring-0 xl:w-[3.8rem]",onChange:function(e){return k(parseInt(e.target.value))},value:N}),n.createElement(uf,{selectItems:xc,selectedItem:W,onSelectionChange:function(e){return j(e)},minWidthButton:"min-w-[50px]",minWidthContent:"min-w-[60px]",extraBtnClasses:"!rounded-l-none border-l-transparent"}))),"1"===U&&n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Site","advanced-database-cleaner")),n.createElement(uf,{selectItems:wc,selectedItem:$,onSelectionChange:function(e){return I(e)},minWidthButton:"min-w-[70px]",minWidthContent:"min-w-[200px]",maxHeight:!0,labelClasses:"text-[.8rem]",extraBtnClasses:"w-full xl:max-w-[70px]"})),n.createElement("div",null,n.createElement(w,{Icon:Ve.F3z,text:(0,i.__)("Filter","advanced-database-cleaner"),className:"mt-2 !h-[2rem] xl:mt-0",onClick:function(e){e.preventDefault(),J(_e({search:f,searchIn:y,autoload:x,size:Number(N),sizeUnit:L,site:T})),J(Ce("all"))}}))),"FREE"===z&&n.createElement("div",{className:"flex w-full items-center pt-1"},n.createElement("div",{className:"flex items-center gap-1 rounded-lg"},n.createElement(s.xGQ,{className:"h-[16px] w-[16px] text-yellow-600"}),n.createElement("span",{className:"text-[.7rem] font-semibold text-gray-700"},(0,i.__)("Unlock Advanced Filters:","advanced-database-cleaner")),n.createElement(P,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=options-filters&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"flex items-center !gap-[3px] text-[.7rem] font-semibold !text-blue-500 !no-underline hover:!text-blue-700"},(0,i.__)("upgrade","advanced-database-cleaner"),n.createElement(A.L2n,{className:"mt-[1px] h-3 w-3"}))))))))};function Ec(e){return Ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(e)}function Nc(){Nc=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Ec(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(Ec(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function kc(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Sc(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){kc(o,n,a,i,c,"next",e)}function c(e){kc(o,n,a,i,c,"throw",e)}i(void 0)}))}}function Lc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return jc(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Oc=function(e){var t=e.actions,r=e.columns,a=(0,d.d4)((function(e){return e.filter})),o=(0,d.d4)(Ue),i=(0,d.d4)((function(e){return e.shared.refreshCountsInOrangeHealthCheck})),c=Lc((0,n.useState)([]),2),l=c[0],s=c[1],u=Lc((0,n.useState)(0),2),m=u[0],f=u[1],p=Lc((0,n.useState)(".."),2),h=p[0],v=p[1],y=Lc((0,n.useState)(".."),2),g=y[0],b=y[1],x=Lc((0,n.useState)(".."),2),w=x[0],_=x[1],E=Lc((0,n.useState)(".."),2),N=E[0],k=E[1],S=Lc((0,n.useState)([]),2),L=S[0],j=S[1],O=Lc((0,n.useState)([]),2),T=O[0],P=O[1],I=Lc((0,n.useState)([]),2),C=I[0],A=I[1],F=Lc((0,n.useState)(!0),2),M=F[0],G=F[1],D=(0,d.wA)();(0,n.useEffect)((function(){v(".."),b(".."),_(".."),k(".."),[{service:Xa,type:"autoload"},{service:Ha,setState:_},{service:Qa,setState:k}].forEach((function(e){var t=e.service,r=e.setState,n=e.type;R({service:t,setState:r,type:n})}))}),[i]);var R=function(){var e=Sc(Nc().mark((function e(t){var r,n,a,o,i,c,l,s,u;return Nc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.service,n=t.setState,a=t.type,e.prev=1,e.next=4,r();case 4:o=e.sent,"autoload"===a?(v(null!==(i=null==o||null===(c=o.data)||void 0===c?void 0:c.autoloaded_size)&&void 0!==i?i:"?"),b(null!==(l=null==o||null===(s=o.data)||void 0===s?void 0:s.autoload_health)&&void 0!==l?l:"?")):n(null!==(u=null==o?void 0:o.data)&&void 0!==u?u:0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Pt(D,e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();(0,n.useEffect)((function(){var e=function(){var e=Sc(Nc().mark((function e(){return Nc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:D(Ff());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a]);var B=function(){var e=Sc(Nc().mark((function e(){var t,r,n,o,i,c,l,u;return Nc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(!0),e.prev=1,e.next=4,Ia("options",a);case 4:(t=e.sent)&&(s(null===(r=t.data)||void 0===r?void 0:r.items),f(null===(n=t.data)||void 0===n?void 0:n.total_items),j(null===(o=t.data)||void 0===o?void 0:o.categorization_count),P(null===(i=t.data)||void 0===i?void 0:i.plugins_count),A(null===(c=t.data)||void 0===c?void 0:c.themes_count),a.currentPage>(null===(l=t.data)||void 0===l?void 0:l.real_current_page)&&D(Ge(null===(u=t.data)||void 0===u?void 0:u.real_current_page))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Pt(D,e.t0.message);case 11:return e.prev=11,G(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return n.createElement("div",null,"PREMIUM"===z&&n.createElement(Mi,{tabName:"options"}),n.createElement(_c,{autoloadedSize:h,autoloadHealth:g,bigOptionsCount:w,notScannedCount:N}),n.createElement(Wo,{tabName:"options",categorizationCount:L,pluginsCount:T,themesCount:C}),!M&&m>0&&n.createElement(Ro,{autoloadHealth:g,autoloadedSize:h}),n.createElement("div",{className:"mt-8 flex justify-between gap-x-2"},n.createElement(Go,{actions:t,itemsType:"options"}),n.createElement(He,{totalItems:m,additionalStyle:"hidden md:flex",top:!0,onRefresh:function(e){e.preventDefault(),M||B()},loading:M,filterApplied:o})),M?yf():n.createElement("div",{className:"mt-4 w-full overflow-x-auto rounded-lg border border-gray-300"},l.length>0?n.createElement("table",{className:"w-full min-w-[1200px] 2xl:min-w-[1000px]"},n.createElement(Yi,{columns:r,data:l}),n.createElement(Wi,{tabName:"options",columns:r,data:l})):vf(o)),n.createElement("div",{className:"mt-6 flex flex-col items-center justify-between gap-y-6 text-[.82rem] text-gray-800 sm:flex-row"},n.createElement($e,null),n.createElement(He,{totalItems:m,filterApplied:o})))};function Tc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||Pc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pc(e,t){if(e){if("string"==typeof e)return Ic(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ic(e,t):void 0}}function Ic(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Cc=[[{key:"all",label:(0,i.__)("All","advanced-database-cleaner")}],[{key:"name",label:(0,i.__)("Meta key","advanced-database-cleaner")},{key:"value",label:(0,i.__)("Value","advanced-database-cleaner")}]],Ac=[[{key:"KB",label:"KB"},{key:"MB",label:"MB"},{key:"GB",label:"GB"}]],Fc=[[{key:"all",label:(0,i.__)("All","advanced-database-cleaner")}],[{key:"yes",label:(0,i.__)("Yes","advanced-database-cleaner")},{key:"no",label:(0,i.__)("No","advanced-database-cleaner")}]],Mc=[[{key:"all",label:(0,i.__)("All","advanced-database-cleaner")}],function(e){return function(e){if(Array.isArray(e))return Ic(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Pc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(W.map((function(e){return{key:e.id,label:e.id+" - "+(e.name.length>20?e.name.substring(0,20)+"...":e.name)}})))];const Gc=function(e){var t=e.bigPostsMetaCount,r=e.notScannedCount,a=e.duplicatedPostsMetaCount,o=e.unusedPostsMetaCount,c=(0,d.d4)((function(e){return e.filter})),l=(0,d.d4)((function(e){return e.shared.hideFilters})),u=(0,d.d4)(Ue),m=Tc((0,n.useState)(c.search),2),f=m[0],p=m[1],v=Tc((0,n.useState)(c.searchIn),2),y=v[0],g=v[1],b=Tc((0,n.useState)(c.size),2),x=b[0],_=b[1],E=Tc((0,n.useState)(c.sizeUnit),2),N=E[0],k=E[1],S=Tc((0,n.useState)(c.duplicated),2),L=S[0],j=S[1],O=Tc((0,n.useState)(c.unused),2),T=O[0],I=O[1],C=Tc((0,n.useState)(c.site),2),F=C[0],M=C[1],G=Tc((0,n.useState)(Cc[1][0]),2),D=G[0],R=G[1],B=Tc((0,n.useState)(Ac[0][0]),2),W=B[0],Y=B[1],K=Tc((0,n.useState)(Fc[0][0]),2),$=K[0],q=K[1],H=Tc((0,n.useState)(Fc[0][0]),2),V=H[0],Q=H[1],J=Tc((0,n.useState)(Mc[0][0]),2),X=J[0],Z=J[1],ee=Tc((0,n.useState)(0),2),te=ee[0],re=ee[1],ne=(0,d.wA)(),ae=".."===t||".."===r||".."===a||".."===o?"border-gray-100 bg-gray-100 shadow-md":0===t&&0===r&&0===a&&0===o?"border-green-100 bg-green-100 shadow-md":"border-orange-100 bg-orange-100 shadow-md";return(0,n.useEffect)((function(){p(c.search),g(c.searchIn),_(c.size),k(c.sizeUnit),j(c.duplicated),I(c.unused),M(c.site)}),[c]),n.createElement(n.Fragment,null,n.createElement("div",{className:"flex min-h-[20px] w-full items-end justify-end text-end"},u&&n.createElement("div",{className:"flex items-center"},n.createElement(P,{href:"#",className:"text-[.8rem] font-semibold text-red-600 no-underline",onClick:function(e){e.preventDefault(),ne(De()),R(Cc[1][0]),Y(Ac[0][0]),q(Fc[0][0]),Q(Fc[0][0]),Z(Mc[0][0]),re(te+1)}},n.createElement(s.k7K,null),(0,i.__)("Reset filters","advanced-database-cleaner")),"PREMIUM"===z&&n.createElement("span",{className:"-mt-1 px-2"},"|")),"PREMIUM"===z&&n.createElement(P,{href:"#",className:"text-[.8rem] font-semibold text-gray-500 no-underline",onClick:function(e){e.preventDefault(),ne(Gm(!l))}},l?n.createElement("div",{className:"flex items-center gap-x-[4px]"},n.createElement(Yo.E1u,null),(0,i.__)("Show filters","advanced-database-cleaner")):n.createElement("div",{className:"flex items-center gap-x-[4px]"},n.createElement(Yo.UX6,null),(0,i.__)("Hide filters","advanced-database-cleaner")))),n.createElement("div",{key:te,className:"mt-1",hidden:l},n.createElement("div",{className:"flex flex-col justify-between gap-4 xl:min-w-[800px] xl:flex-row xl:gap-x-3"},n.createElement("div",{className:"flex min-w-[280px] max-w-[280px] flex-col gap-y-1 rounded-xl border ".concat(ae," justify-center px-2 py-1")},pf(".."===o?"loading":0===o?"ok":"warning",(0,i.sprintf)((0,i.__)("%s unused post meta","advanced-database-cleaner"),o),(function(e){e.preventDefault(),ne(Te()),R(Cc[1][0]),Y(Ac[0][0]),q(Fc[0][0]),Q(Fc[1][0]),Z(Mc[0][0]),re(te+1)})),pf(".."===a?"loading":0===a?"ok":"warning",(0,i.sprintf)((0,i.__)("%s duplicated post meta","advanced-database-cleaner"),a),(function(e){e.preventDefault(),ne(Pe()),R(Cc[1][0]),Y(Ac[0][0]),q(Fc[1][0]),Q(Fc[0][0]),Z(Mc[0][0]),re(te+1)})),pf(".."===t?"loading":0===t?"ok":"warning",(0,i.sprintf)((0,i.__)("%s big post meta detected","advanced-database-cleaner"),t),(function(e){e.preventDefault(),ne(Le()),R(Cc[1][0]),Y(Ac[0][0]),q(Fc[0][0]),Q(Fc[0][0]),Z(Mc[0][0]),re(te+1)})),pf(".."===r?"loading":0===r?"ok":"warning",(0,i.sprintf)((0,i.__)("%s post meta not scanned","advanced-database-cleaner"),r),(function(e){e.preventDefault(),ne(Se()),R(Cc[1][0]),Y(Ac[0][0]),q(Fc[0][0]),Q(Fc[0][0]),Z(Mc[0][0]),re(te+1)}))),n.createElement("div",{className:"flex w-full flex-col gap-y-1 rounded-xl border bg-gray-200/80 px-3 shadow-sm ".concat("FREE"===z?"py-2":"py-3")},n.createElement("form",{className:"grid w-full grid-cols-2 items-end gap-x-4 gap-y-2 text-[.7rem] text-gray-900 sm:grid-cols-3 xl:flex ".concat("FREE"===z?"pointer-events-none opacity-50":"")},n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Search for","advanced-database-cleaner")),n.createElement(h,{placeholder:(0,i.__)("Search for","advanced-database-cleaner"),className:"!h-[2rem] w-full !border-gray-300 xl:w-[9rem]",onChange:function(e){return p(e.target.value)},maxLength:100,value:f})),n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Search in","advanced-database-cleaner")),n.createElement(uf,{selectItems:Cc,selectedItem:D,onSelectionChange:function(e){return g(e)},minWidthButton:"w-full xl:min-w-[90px]",minWidthContent:"min-w-[120px]"})),n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Size big than","advanced-database-cleaner")),n.createElement("div",{className:"flex gap-0"},n.createElement(h,{type:"number",min:0,className:"!h-[2rem] !min-h-[10px] w-full !rounded-l-lg !rounded-r-[0px] !border-gray-300 !ring-0 xl:w-[3.5rem]",onChange:function(e){return _(parseInt(e.target.value))},value:x}),n.createElement(uf,{selectItems:Ac,selectedItem:W,onSelectionChange:function(e){return k(e)},minWidthButton:"min-w-[50px]",minWidthContent:"min-w-[60px]",extraBtnClasses:"!rounded-l-none border-l-transparent"}))),n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Unused","advanced-database-cleaner")),n.createElement(uf,{selectItems:Fc,selectedItem:V,onSelectionChange:function(e){return I(e)},minWidthButton:"w-full xl:min-w-[60px]",minWidthContent:"min-w-[100px]"})),n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Duplicated","advanced-database-cleaner")),n.createElement(uf,{selectItems:Fc,selectedItem:$,onSelectionChange:function(e){return j(e)},minWidthButton:"w-full xl:min-w-[60px]",minWidthContent:"min-w-[100px]"})),"1"===U&&n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Site","advanced-database-cleaner")),n.createElement(uf,{selectItems:Mc,selectedItem:X,onSelectionChange:function(e){return M(e)},minWidthButton:"min-w-[70px]",minWidthContent:"min-w-[200px]",maxHeight:!0,labelClasses:"text-[.8rem]",extraBtnClasses:"w-full xl:max-w-[70px]"})),n.createElement("div",null,n.createElement(w,{Icon:Ve.F3z,text:(0,i.__)("Filter","advanced-database-cleaner"),className:"mt-2 !h-[2rem] xl:mt-0",onClick:function(e){e.preventDefault(),ne(_e({search:f,searchIn:y,size:Number(x),sizeUnit:N,duplicated:L,unused:T,site:F})),ne(Ce("all"))}}))),"FREE"===z&&n.createElement("div",{className:"flex w-full items-center pt-1"},n.createElement("div",{className:"flex items-center gap-1 rounded-lg"},n.createElement(s.xGQ,{className:"h-[16px] w-[16px] text-yellow-600"}),n.createElement("span",{className:"text-[.7rem] font-semibold text-gray-700"},(0,i.__)("Unlock Advanced Filters:","advanced-database-cleaner")),n.createElement(P,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=postmeta-filters&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"flex items-center !gap-[3px] text-[.7rem] font-semibold !text-blue-500 !no-underline hover:!text-blue-700"},(0,i.__)("upgrade","advanced-database-cleaner"),n.createElement(A.L2n,{className:"mt-[1px] h-3 w-3"}))))))))};function Dc(e){return Dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(e)}function zc(){zc=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Dc(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(Dc(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Rc(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Bc(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Rc(o,n,a,i,c,"next",e)}function c(e){Rc(o,n,a,i,c,"throw",e)}i(void 0)}))}}function Uc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Wc(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Wc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Yc=function(e){var t=e.actions,r=e.columns,a=(0,d.d4)((function(e){return e.filter})),o=(0,d.d4)(Ue),i=(0,d.d4)((function(e){return e.shared.refreshCountsInOrangeHealthCheck})),c=Uc((0,n.useState)([]),2),l=c[0],s=c[1],u=Uc((0,n.useState)(0),2),m=u[0],f=u[1],p=Uc((0,n.useState)(".."),2),h=p[0],v=p[1],y=Uc((0,n.useState)(".."),2),g=y[0],b=y[1],x=Uc((0,n.useState)(".."),2),w=x[0],_=x[1],E=Uc((0,n.useState)(".."),2),N=E[0],k=E[1],S=Uc((0,n.useState)([]),2),L=S[0],j=S[1],O=Uc((0,n.useState)([]),2),T=O[0],P=O[1],I=Uc((0,n.useState)([]),2),C=I[0],A=I[1],F=Uc((0,n.useState)(!0),2),M=F[0],G=F[1],D=(0,d.wA)();(0,n.useEffect)((function(){v(".."),b(".."),_(".."),k(".."),[{service:eo,setState:v},{service:ro,setState:b},{service:ao,setState:_},{service:io,setState:k}].forEach((function(e){var t=e.service,r=e.setState;R(t,r)}))}),[i]);var R=function(){var e=Bc(zc().mark((function e(t,r){var n,a;return zc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:a=e.sent,r(null!==(n=null==a?void 0:a.data)&&void 0!==n?n:0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Pt(D,e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}();(0,n.useEffect)((function(){var e=function(){var e=Bc(zc().mark((function e(){return zc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:D(Ff());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a]);var B=function(){var e=Bc(zc().mark((function e(){var t,r,n,o,i,c,l,u;return zc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(!0),e.prev=1,e.next=4,Ia("posts_meta",a);case 4:(t=e.sent)&&(s(null===(r=t.data)||void 0===r?void 0:r.items),f(null===(n=t.data)||void 0===n?void 0:n.total_items),j(null===(o=t.data)||void 0===o?void 0:o.categorization_count),P(null===(i=t.data)||void 0===i?void 0:i.plugins_count),A(null===(c=t.data)||void 0===c?void 0:c.themes_count),a.currentPage>(null===(l=t.data)||void 0===l?void 0:l.real_current_page)&&D(Ge(null===(u=t.data)||void 0===u?void 0:u.real_current_page))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Pt(D,e.t0.message);case 11:return e.prev=11,G(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return n.createElement("div",null,"PREMIUM"===z&&n.createElement(Mi,{tabName:"posts_meta"}),n.createElement(Gc,{bigPostsMetaCount:h,notScannedCount:g,duplicatedPostsMetaCount:w,unusedPostsMetaCount:N}),n.createElement(Wo,{tabName:"posts_meta",categorizationCount:L,pluginsCount:T,themesCount:C}),!M&&m>0&&n.createElement(Ro,{bigPostsMetaCount:h,duplicatedPostsMetaCount:w,unusedPostsMetaCount:N}),n.createElement("div",{className:"mt-8 flex justify-between gap-x-2"},n.createElement(Go,{actions:t,itemsType:"posts_meta"}),n.createElement(He,{totalItems:m,additionalStyle:"hidden md:flex",top:!0,onRefresh:function(e){e.preventDefault(),M||B()},loading:M,filterApplied:o})),M?yf():n.createElement("div",{className:"mt-4 w-full overflow-x-auto rounded-lg border border-gray-300"},l.length>0?n.createElement("table",{className:"w-full min-w-[1200px] 2xl:min-w-[1000px]"},n.createElement(Yi,{columns:r,data:l}),n.createElement(Wi,{tabName:"posts_meta",columns:r,data:l})):vf(o)),n.createElement("div",{className:"mt-6 flex flex-col items-center justify-between gap-y-6 text-[.82rem] text-gray-800 sm:flex-row"},n.createElement($e,null),n.createElement(He,{totalItems:m,filterApplied:o})))};function Kc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||$c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $c(e,t){if(e){if("string"==typeof e)return qc(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qc(e,t):void 0}}function qc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Hc=[[{key:"all",label:(0,i.__)("All","advanced-database-cleaner")}],[{key:"to_optimize",label:(0,i.__)("To optimize","advanced-database-cleaner")},{key:"to_repair",label:(0,i.__)("To repair","advanced-database-cleaner")}]],Vc=[[{key:"all",label:(0,i.__)("All","advanced-database-cleaner")}],[{key:"valid_prefix",label:(0,i.__)("Valid prefix","advanced-database-cleaner")},{key:"invalid_prefix",label:(0,i.__)("Invalid prefix","advanced-database-cleaner")}]],Qc=[[{key:"KB",label:"KB"},{key:"MB",label:"MB"},{key:"GB",label:"GB"}]],Jc=[[{key:"all",label:(0,i.__)("All","advanced-database-cleaner")}],function(e){return function(e){if(Array.isArray(e))return qc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(W.map((function(e){return{key:e.id,label:e.id+" - "+(e.name.length>20?e.name.substring(0,20)+"...":e.name)}})))];const Xc=function(e){var t=e.totalToOptimize,r=e.totalToRepair,a=e.totalInvalidPrefix,o=e.totalNotScanned,c=(0,d.d4)((function(e){return e.filter})),l=(0,d.d4)((function(e){return e.shared.hideFilters})),u=(0,d.d4)(Ue),m=(0,d.d4)((function(e){return e.setting.showTablesWithInvalidPrefix})),f=Kc((0,n.useState)(c.search),2),p=f[0],v=f[1],y=Kc((0,n.useState)(c.tableStatus),2),g=y[0],b=y[1],x=Kc((0,n.useState)(c.prefixStatus),2),_=x[0],E=x[1],N=Kc((0,n.useState)(c.size),2),k=N[0],S=N[1],L=Kc((0,n.useState)(c.sizeUnit),2),j=L[0],O=L[1],T=Kc((0,n.useState)(c.site),2),I=T[0],C=T[1],F=Kc((0,n.useState)(Hc[0][0]),2),M=F[0],G=F[1],D=Kc((0,n.useState)(Vc[0][0]),2),R=D[0],B=D[1],W=Kc((0,n.useState)(Qc[0][0]),2),Y=W[0],K=W[1],$=Kc((0,n.useState)(Jc[0][0]),2),q=$[0],H=$[1],V=Kc((0,n.useState)(0),2),Q=V[0],J=V[1],X=(0,d.wA)(),Z=".."===t||".."===r||".."===a||".."===o?"border-gray-100 bg-gray-100 shadow-md":(m?0===t&&0===r&&0===a&&0===o:0===t&&0===r&&0===o)?"border-green-100 bg-green-100 shadow-md":"border-orange-100 bg-orange-100 shadow-md";return(0,n.useEffect)((function(){v(c.search),b(c.tableStatus),E(c.prefixStatus),S(c.size),O(c.sizeUnit),C(c.site)}),[c]),n.createElement(n.Fragment,null,n.createElement("div",{className:"flex min-h-[20px] w-full items-end justify-end text-end"},u&&n.createElement("div",{className:"flex items-center"},n.createElement(P,{href:"#",className:"text-[.8rem] font-semibold text-red-600 no-underline",onClick:function(e){e.preventDefault(),X(De()),G(Hc[0][0]),B(Vc[0][0]),K(Qc[0][0]),H(Jc[0][0]),J(Q+1)}},n.createElement(s.k7K,null),(0,i.__)("Reset filters","advanced-database-cleaner")),"PREMIUM"===z&&n.createElement("span",{className:"-mt-1 px-2"},"|")),"PREMIUM"===z&&n.createElement(P,{href:"#",className:"text-[.8rem] font-semibold text-gray-500 no-underline",onClick:function(e){e.preventDefault(),X(Gm(!l))}},l?n.createElement("div",{className:"flex items-center gap-x-[4px]"},n.createElement(Yo.E1u,null),(0,i.__)("Show filters","advanced-database-cleaner")):n.createElement("div",{className:"flex items-center gap-x-[4px]"},n.createElement(Yo.UX6,null),(0,i.__)("Hide filters","advanced-database-cleaner")))),n.createElement("div",{key:Q,className:"mt-1",hidden:l},n.createElement("div",{className:"flex flex-col justify-between gap-4 xl:min-w-[800px] xl:flex-row xl:gap-x-3"},n.createElement("div",{className:"flex min-w-[280px] max-w-[280px] flex-col gap-y-1 rounded-xl border ".concat(Z," justify-center px-2 py-1")},pf(".."===t?"loading":0===t?"ok":"warning",(0,i.sprintf)((0,i.__)("%s table(s) to optimize","advanced-database-cleaner"),t),(function(e){e.preventDefault(),X(Ee()),G(Hc[1][0]),B(Vc[0][0]),K(Qc[0][0]),H(Jc[0][0]),J(Q+1)})),pf(".."===r?"loading":0===r?"ok":"warning",(0,i.sprintf)((0,i.__)("%s table(s) to repair","advanced-database-cleaner"),r),(function(e){e.preventDefault(),X(Ne()),G(Hc[1][1]),B(Vc[0][0]),K(Qc[0][0]),H(Jc[0][0]),J(Q+1)})),m&&pf(".."===a?"loading":0===a?"ok":"warning",(0,i.sprintf)((0,i.__)("%s table(s) with invalid prefix","advanced-database-cleaner"),a),(function(e){e.preventDefault(),X(ke()),B(Vc[1][1]),G(Hc[0][0]),K(Qc[0][0]),H(Jc[0][0]),J(Q+1)})),pf(".."===o?"loading":0===o?"ok":"warning",(0,i.sprintf)((0,i.__)("%s table(s) not scanned","advanced-database-cleaner"),o),(function(e){e.preventDefault(),X(Se()),G(Hc[0][0]),B(Vc[0][0]),K(Qc[0][0]),H(Jc[0][0]),J(Q+1)}))),n.createElement("div",{className:"flex w-full flex-col gap-y-1 rounded-xl border bg-gray-200/80 px-3 shadow-sm ".concat("FREE"===z?"py-2":"py-3")},n.createElement("form",{className:"grid w-full grid-cols-2 items-end gap-x-4 gap-y-2 text-[.7rem] text-gray-900 sm:grid-cols-3 xl:flex ".concat("FREE"===z?"pointer-events-none opacity-50":"")},n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Search for","advanced-database-cleaner")),n.createElement(h,{placeholder:(0,i.__)("Search for","advanced-database-cleaner"),className:"!h-[2rem] w-full !border-gray-300 xl:w-[10rem]",onChange:function(e){return v(e.target.value)},maxLength:100,value:p})),n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Table status","advanced-database-cleaner")),n.createElement(uf,{selectItems:Hc,selectedItem:M,onSelectionChange:function(e){return b(e)},minWidthButton:"w-full xl:min-w-[7rem]",minWidthContent:"min-w-[150px]"})),m&&n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Prefix status","advanced-database-cleaner")),n.createElement(uf,{selectItems:Vc,selectedItem:R,onSelectionChange:function(e){return E(e)},minWidthButton:"w-full xl:min-w-[7rem]"})),n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Size big than","advanced-database-cleaner")),n.createElement("div",{className:"flex gap-0"},n.createElement(h,{type:"number",min:0,className:"!h-[2rem] !min-h-[10px] w-full !rounded-l-lg !rounded-r-[0px] !border-gray-300 !ring-0 xl:w-[4rem]",onChange:function(e){return S(parseInt(e.target.value))},value:k}),n.createElement(uf,{selectItems:Qc,selectedItem:Y,onSelectionChange:function(e){return O(e)},minWidthButton:"min-w-[55px]",minWidthContent:"min-w-[60px]",extraBtnClasses:"!rounded-l-none border-l-transparent"}))),"1"===U&&n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Site","advanced-database-cleaner")),n.createElement(uf,{selectItems:Jc,selectedItem:q,onSelectionChange:function(e){return C(e)},minWidthButton:"min-w-[70px]",minWidthContent:"min-w-[200px]",maxHeight:!0,labelClasses:"text-[.8rem]",extraBtnClasses:"w-full xl:max-w-[70px]"})),n.createElement("div",null,n.createElement(w,{Icon:Ve.F3z,text:(0,i.__)("Filter","advanced-database-cleaner"),className:"mt-2 !h-[2rem] xl:mt-0",onClick:function(e){e.preventDefault(),X(_e({search:p,tableStatus:g,prefixStatus:_,size:Number(k),sizeUnit:j,site:I})),X(Ce("all"))}}))),"FREE"===z&&n.createElement("div",{className:"flex w-full items-center pt-1"},n.createElement("div",{className:"flex items-center gap-1 rounded-lg"},n.createElement(s.xGQ,{className:"h-[16px] w-[16px] text-yellow-600"}),n.createElement("span",{className:"text-[.7rem] font-semibold text-gray-700"},(0,i.__)("Unlock Advanced Filters:","advanced-database-cleaner")),n.createElement(P,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=tables-filters&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"flex items-center !gap-[3px] text-[.7rem] font-semibold !text-blue-500 !no-underline hover:!text-blue-700"},(0,i.__)("upgrade","advanced-database-cleaner"),n.createElement(A.L2n,{className:"mt-[1px] h-3 w-3"}))))))))};function Zc(e){return Zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(e)}function el(){el=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Zc(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(Zc(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function tl(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function rl(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){tl(o,n,a,i,c,"next",e)}function c(e){tl(o,n,a,i,c,"throw",e)}i(void 0)}))}}function nl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return al(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?al(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function al(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const ol=function(e){var t=e.actions,r=e.columns,a=(0,d.d4)((function(e){return e.filter})),o=(0,d.d4)(Ue),i=(0,d.d4)((function(e){return e.shared.refreshCountsInOrangeHealthCheck})),c=nl((0,n.useState)([]),2),l=c[0],s=c[1],u=nl((0,n.useState)(0),2),m=u[0],f=u[1],p=nl((0,n.useState)(".."),2),h=p[0],v=p[1],y=nl((0,n.useState)(".."),2),g=y[0],b=y[1],x=nl((0,n.useState)(".."),2),w=x[0],_=x[1],E=nl((0,n.useState)(".."),2),N=E[0],k=E[1],S=nl((0,n.useState)([]),2),L=S[0],j=S[1],O=nl((0,n.useState)([]),2),T=O[0],P=O[1],I=nl((0,n.useState)([]),2),C=I[0],A=I[1],F=nl((0,n.useState)(!0),2),M=F[0],G=F[1],D=(0,d.wA)();(0,n.useEffect)((function(){v(".."),b(".."),_(".."),k(".."),[{service:Ra,setState:v},{service:Ua,setState:b},{service:Ya,setState:_},{service:$a,setState:k}].forEach((function(e){var t=e.service,r=e.setState;R(t,r)}))}),[i]);var R=function(){var e=rl(el().mark((function e(t,r){var n,a;return el().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:a=e.sent,r(null!==(n=null==a?void 0:a.data)&&void 0!==n?n:0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Pt(D,e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}();(0,n.useEffect)((function(){var e=function(){var e=rl(el().mark((function e(){return el().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:D(Ff());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a]);var B=function(){var e=rl(el().mark((function e(){var t,r,n,o,i,c,l,u;return el().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(!0),e.prev=1,e.next=4,Ia("tables",a);case 4:(t=e.sent)&&(s(null===(r=t.data)||void 0===r?void 0:r.items),f(null===(n=t.data)||void 0===n?void 0:n.total_items),j(null===(o=t.data)||void 0===o?void 0:o.categorization_count),P(null===(i=t.data)||void 0===i?void 0:i.plugins_count),A(null===(c=t.data)||void 0===c?void 0:c.themes_count),a.currentPage>(null===(l=t.data)||void 0===l?void 0:l.real_current_page)&&D(Ge(null===(u=t.data)||void 0===u?void 0:u.real_current_page))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Pt(D,e.t0.message);case 11:return e.prev=11,G(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return n.createElement("div",null,"PREMIUM"===z&&n.createElement(Mi,{tabName:"tables"}),n.createElement(Xc,{totalToOptimize:h,totalToRepair:g,totalInvalidPrefix:w,totalNotScanned:N}),n.createElement(Wo,{tabName:"tables",categorizationCount:L,pluginsCount:T,themesCount:C}),!M&&m>0&&n.createElement(Ro,null),n.createElement("div",{className:"mt-8 flex justify-between gap-x-2"},n.createElement(Go,{actions:t,itemsType:"tables"}),n.createElement(He,{totalItems:m,additionalStyle:"hidden md:flex",top:!0,onRefresh:function(e){e.preventDefault(),M||B()},loading:M,filterApplied:o})),M?yf():n.createElement("div",{className:"mt-4 w-full overflow-x-auto rounded-lg border border-gray-300"},l.length>0?n.createElement("table",{className:"w-full min-w-[1200px] 2xl:min-w-[1000px]"},n.createElement(Yi,{columns:r,data:l}),n.createElement(Wi,{columns:r,data:l})):vf(o)),n.createElement("div",{className:"mt-6 flex flex-col items-center justify-between gap-y-6 text-[.82rem] text-gray-800 sm:flex-row"},n.createElement($e,null),n.createElement(He,{totalItems:m,filterApplied:o})))};function il(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||cl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cl(e,t){if(e){if("string"==typeof e)return ll(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ll(e,t):void 0}}function ll(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var sl=[[{key:"all",label:(0,i.__)("All","advanced-database-cleaner")}],[{key:"name",label:(0,i.__)("Name","advanced-database-cleaner")},{key:"value",label:(0,i.__)("Value","advanced-database-cleaner")}]],ul=[[{key:"all",label:(0,i.__)("All","advanced-database-cleaner")}],[{key:"yes",label:(0,i.__)("Yes","advanced-database-cleaner")},{key:"no",label:(0,i.__)("No","advanced-database-cleaner")}]],dl=[[{key:"all",label:(0,i.__)("All","advanced-database-cleaner")}],[{key:"yes",label:(0,i.__)("Yes","advanced-database-cleaner")},{key:"no",label:(0,i.__)("No","advanced-database-cleaner")}]],ml=[[{key:"KB",label:"KB"},{key:"MB",label:"MB"},{key:"GB",label:"GB"}]],fl=[[{key:"all",label:(0,i.__)("All","advanced-database-cleaner")}],function(e){return function(e){if(Array.isArray(e))return ll(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||cl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(W.map((function(e){return{key:e.id,label:e.id+" - "+(e.name.length>20?e.name.substring(0,20)+"...":e.name)}})))];const pl=function(e){var t=e.expiredTransientsCount,r=e.bigTransientsCount,a=e.notScannedCount,o=(0,d.d4)((function(e){return e.filter})),c=(0,d.d4)((function(e){return e.shared.hideFilters})),l=(0,d.d4)(Ue),u=il((0,n.useState)(o.search),2),m=u[0],f=u[1],p=il((0,n.useState)(o.searchIn),2),v=p[0],y=p[1],g=il((0,n.useState)(o.autoload),2),b=g[0],x=g[1],_=il((0,n.useState)(o.expired),2),E=_[0],N=_[1],k=il((0,n.useState)(o.size),2),S=k[0],L=k[1],j=il((0,n.useState)(o.sizeUnit),2),O=j[0],T=j[1],I=il((0,n.useState)(o.site),2),C=I[0],F=I[1],M=il((0,n.useState)(sl[1][0]),2),G=M[0],D=M[1],R=il((0,n.useState)(ul[0][0]),2),B=R[0],W=R[1],Y=il((0,n.useState)(dl[0][0]),2),K=Y[0],$=Y[1],q=il((0,n.useState)(ml[0][0]),2),H=q[0],V=q[1],Q=il((0,n.useState)(fl[0][0]),2),J=Q[0],X=Q[1],Z=il((0,n.useState)(0),2),ee=Z[0],te=Z[1],re=(0,d.wA)(),ne=".."===t||".."===r||".."===a?"border-gray-100 bg-gray-100 shadow-md":0===t&&0===r&&0===a?"border-green-100 bg-green-100 shadow-md":"border-orange-100 bg-orange-100 shadow-md";return(0,n.useEffect)((function(){f(o.search),y(o.searchIn),x(o.autoload),N(o.expired),L(o.size),T(o.sizeUnit),F(o.site)}),[o]),n.createElement(n.Fragment,null,n.createElement("div",{className:"flex min-h-[20px] w-full items-end justify-end text-end"},l&&n.createElement("div",{className:"flex items-center"},n.createElement(P,{href:"#",className:"text-[.8rem] font-semibold text-red-600 no-underline",onClick:function(e){e.preventDefault(),re(De()),D(sl[1][0]),W(ul[0][0]),$(dl[0][0]),V(ml[0][0]),X(fl[0][0]),te(ee+1)}},n.createElement(s.k7K,null),(0,i.__)("Reset filters","advanced-database-cleaner")),"PREMIUM"===z&&n.createElement("span",{className:"-mt-1 px-2"},"|")),"PREMIUM"===z&&n.createElement(P,{href:"#",className:"text-[.8rem] font-semibold text-gray-500 no-underline",onClick:function(e){e.preventDefault(),re(Gm(!c))}},c?n.createElement("div",{className:"flex items-center gap-x-[4px]"},n.createElement(Yo.E1u,null),(0,i.__)("Show filters","advanced-database-cleaner")):n.createElement("div",{className:"flex items-center gap-x-[4px]"},n.createElement(Yo.UX6,null),(0,i.__)("Hide filters","advanced-database-cleaner")))),n.createElement("div",{key:ee,className:"mt-1",hidden:c},n.createElement("div",{className:"flex flex-col justify-between gap-4 xl:min-w-[800px] xl:flex-row xl:gap-x-3"},n.createElement("div",{className:"flex min-w-[280px] max-w-[280px] flex-col gap-y-1 rounded-xl border ".concat(ne," justify-center px-2 py-1")},pf(".."===t?"loading":0===t?"ok":"warning",(0,i.sprintf)((0,i.__)("%s expired transient(s) detected","advanced-database-cleaner"),t),(function(e){e.preventDefault(),re(Oe()),D(sl[1][0]),W(ul[0][0]),$(dl[1][0]),V(ml[0][0]),X(fl[0][0]),te(ee+1)})),pf(".."===r?"loading":0===r?"ok":"warning",(0,i.sprintf)((0,i.__)("%s big transient(s) detected","advanced-database-cleaner"),r),(function(e){e.preventDefault(),re(Le()),D(sl[1][0]),W(ul[0][0]),$(dl[0][0]),V(ml[0][0]),X(fl[0][0]),te(ee+1)})),pf(".."===a?"loading":0===a?"ok":"warning",(0,i.sprintf)((0,i.__)("%s transient(s) not scanned","advanced-database-cleaner"),a),(function(e){e.preventDefault(),re(Se()),D(sl[1][0]),W(ul[0][0]),$(dl[0][0]),V(ml[0][0]),X(fl[0][0]),te(ee+1)}))),n.createElement("div",{className:"flex w-full flex-col gap-y-1 rounded-xl border bg-gray-200/80 px-3 shadow-sm ".concat("FREE"===z?"py-2":"py-3")},n.createElement("form",{className:"grid w-full grid-cols-2 items-end gap-x-4 gap-y-2 text-[.7rem] text-gray-900 sm:grid-cols-3 xl:flex ".concat("FREE"===z?"pointer-events-none opacity-50":"")},n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Search for","advanced-database-cleaner")),n.createElement(h,{placeholder:(0,i.__)("Search for","advanced-database-cleaner"),className:"!h-[2rem] w-full !border-gray-300 xl:w-[9rem]",onChange:function(e){return f(e.target.value)},maxLength:100,value:m})),n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Search in","advanced-database-cleaner")),n.createElement(uf,{selectItems:sl,selectedItem:G,onSelectionChange:function(e){return y(e)},minWidthButton:"w-full xl:min-w-[90px]",minWidthContent:"min-w-[120px]"})),n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Autoload","advanced-database-cleaner")),n.createElement(uf,{selectItems:ul,selectedItem:B,onSelectionChange:function(e){return x(e)},minWidthButton:"w-full xl:min-w-[70px]",extraBtnClasses:"xl:max-w-[80px]",minWidthContent:"min-w-[100px]"})),n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Expired","advanced-database-cleaner")),n.createElement(uf,{selectItems:dl,selectedItem:K,onSelectionChange:function(e){return N(e)},minWidthButton:"w-full xl:min-w-[70px]",extraBtnClasses:"xl:max-w-[80px]",minWidthContent:"min-w-[100px]"})),n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Size big than","advanced-database-cleaner")),n.createElement("div",{className:"flex gap-0"},n.createElement(h,{type:"number",min:0,className:"!h-[2rem] !min-h-[10px] w-full !rounded-l-lg !rounded-r-[0px] !border-gray-300 !ring-0 xl:w-[3.5rem]",onChange:function(e){return L(parseInt(e.target.value))},value:S}),n.createElement(uf,{selectItems:ml,selectedItem:H,onSelectionChange:function(e){return T(e)},minWidthButton:"min-w-[50px]",minWidthContent:"min-w-[60px]",extraBtnClasses:"!rounded-l-none border-l-transparent"}))),"1"===U&&n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Site","advanced-database-cleaner")),n.createElement(uf,{selectItems:fl,selectedItem:J,onSelectionChange:function(e){return F(e)},minWidthButton:"min-w-[70px]",minWidthContent:"min-w-[200px]",maxHeight:!0,labelClasses:"text-[.8rem]",extraBtnClasses:"w-full xl:max-w-[70px]"})),n.createElement("div",null,n.createElement(w,{Icon:Ve.F3z,text:(0,i.__)("Filter","advanced-database-cleaner"),className:"mt-2 !h-[2rem] xl:mt-0",onClick:function(e){e.preventDefault(),re(_e({search:m,searchIn:v,autoload:b,expired:E,size:Number(S),sizeUnit:O,site:C})),re(Ce("all"))}}))),"FREE"===z&&n.createElement("div",{className:"flex w-full items-center pt-1"},n.createElement("div",{className:"flex items-center gap-1 rounded-lg"},n.createElement(s.xGQ,{className:"h-[16px] w-[16px] text-yellow-600"}),n.createElement("span",{className:"text-[.7rem] font-semibold text-gray-700"},(0,i.__)("Unlock Advanced Filters:","advanced-database-cleaner")),n.createElement(P,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=transients-filters&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"flex items-center !gap-[3px] text-[.7rem] font-semibold !text-blue-500 !no-underline hover:!text-blue-700"},(0,i.__)("upgrade","advanced-database-cleaner"),n.createElement(A.L2n,{className:"mt-[1px] h-3 w-3"}))))))))};function hl(e){return hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(e)}function vl(){vl=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==hl(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(hl(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function yl(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function gl(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){yl(o,n,a,i,c,"next",e)}function c(e){yl(o,n,a,i,c,"throw",e)}i(void 0)}))}}function bl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xl(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const wl=function(e){var t=e.actions,r=e.columns,a=(0,d.d4)((function(e){return e.filter})),o=(0,d.d4)(Ue),i=(0,d.d4)((function(e){return e.shared.refreshCountsInOrangeHealthCheck})),c=bl((0,n.useState)([]),2),l=c[0],s=c[1],u=bl((0,n.useState)(0),2),m=u[0],f=u[1],p=bl((0,n.useState)(".."),2),h=p[0],v=p[1],y=bl((0,n.useState)(".."),2),g=y[0],b=y[1],x=bl((0,n.useState)(".."),2),w=x[0],_=x[1],E=bl((0,n.useState)([]),2),N=E[0],k=E[1],S=bl((0,n.useState)([]),2),L=S[0],j=S[1],O=bl((0,n.useState)([]),2),T=O[0],P=O[1],I=bl((0,n.useState)(!0),2),C=I[0],A=I[1],F=(0,d.wA)();(0,n.useEffect)((function(){v(".."),b(".."),_(".."),[{service:wo,setState:v},{service:yo,setState:b},{service:bo,setState:_}].forEach((function(e){var t=e.service,r=e.setState;M(t,r)}))}),[i]);var M=function(){var e=gl(vl().mark((function e(t,r){var n,a;return vl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:a=e.sent,r(null!==(n=null==a?void 0:a.data)&&void 0!==n?n:0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Pt(F,e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}();(0,n.useEffect)((function(){var e=function(){var e=gl(vl().mark((function e(){return vl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:F(Ff());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a]);var G=function(){var e=gl(vl().mark((function e(){var t,r,n,o,i,c,l,u;return vl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.prev=1,e.next=4,Ia("transients",a);case 4:(t=e.sent)&&(s(null===(r=t.data)||void 0===r?void 0:r.items),f(null===(n=t.data)||void 0===n?void 0:n.total_items),k(null===(o=t.data)||void 0===o?void 0:o.categorization_count),j(null===(i=t.data)||void 0===i?void 0:i.plugins_count),P(null===(c=t.data)||void 0===c?void 0:c.themes_count),a.currentPage>(null===(l=t.data)||void 0===l?void 0:l.real_current_page)&&F(Ge(null===(u=t.data)||void 0===u?void 0:u.real_current_page))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Pt(F,e.t0.message);case 11:return e.prev=11,A(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return n.createElement("div",null,"PREMIUM"===z&&n.createElement(Mi,{tabName:"transients"}),n.createElement(pl,{expiredTransientsCount:h,bigTransientsCount:g,notScannedCount:w}),n.createElement(Wo,{tabName:"transients",categorizationCount:N,pluginsCount:L,themesCount:T}),!C&&m>0&&n.createElement(Ro,{expiredTransients:h,bigTransientsCount:g}),n.createElement("div",{className:"mt-8 flex justify-between gap-x-2"},n.createElement(Go,{actions:t,itemsType:"transients"}),n.createElement(He,{totalItems:m,additionalStyle:"hidden md:flex",top:!0,onRefresh:function(e){e.preventDefault(),C||G()},loading:C,filterApplied:o})),C?yf():n.createElement("div",{className:"mt-4 w-full overflow-x-auto rounded-lg border border-gray-300"},l.length>0?n.createElement("table",{className:"w-full min-w-[1200px] 2xl:min-w-[1000px]"},n.createElement(Yi,{columns:r,data:l}),n.createElement(Wi,{tabName:"transients",columns:r,data:l})):vf(o)),n.createElement("div",{className:"mt-6 flex flex-col items-center justify-between gap-y-6 text-[.82rem] text-gray-800 sm:flex-row"},n.createElement($e,null),n.createElement(He,{totalItems:m,filterApplied:o})))};function _l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return El(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?El(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function El(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Nl=[[{key:"all",label:(0,i.__)("All","advanced-database-cleaner")}],[{key:"name",label:(0,i.__)("Meta key","advanced-database-cleaner")},{key:"value",label:(0,i.__)("Value","advanced-database-cleaner")}]],kl=[[{key:"KB",label:"KB"},{key:"MB",label:"MB"},{key:"GB",label:"GB"}]],Sl=[[{key:"all",label:(0,i.__)("All","advanced-database-cleaner")}],[{key:"yes",label:(0,i.__)("Yes","advanced-database-cleaner")},{key:"no",label:(0,i.__)("No","advanced-database-cleaner")}]];const Ll=function(e){var t=e.bigUsersMetaCount,r=e.notScannedCount,a=e.duplicatedUsersMetaCount,o=e.unusedUsersMetaCount,c=(0,d.d4)((function(e){return e.filter})),l=(0,d.d4)((function(e){return e.shared.hideFilters})),u=(0,d.d4)(Ue),m=_l((0,n.useState)(c.search),2),f=m[0],p=m[1],v=_l((0,n.useState)(c.searchIn),2),y=v[0],g=v[1],b=_l((0,n.useState)(c.size),2),x=b[0],_=b[1],E=_l((0,n.useState)(c.sizeUnit),2),N=E[0],k=E[1],S=_l((0,n.useState)(c.duplicated),2),L=S[0],j=S[1],O=_l((0,n.useState)(c.unused),2),T=O[0],I=O[1],C=_l((0,n.useState)(Nl[1][0]),2),F=C[0],M=C[1],G=_l((0,n.useState)(kl[0][0]),2),D=G[0],R=G[1],B=_l((0,n.useState)(Sl[0][0]),2),U=B[0],W=B[1],Y=_l((0,n.useState)(Sl[0][0]),2),K=Y[0],$=Y[1],q=_l((0,n.useState)(0),2),H=q[0],V=q[1],Q=(0,d.wA)(),J=".."===t||".."===r||".."===a||".."===o?"border-gray-100 bg-gray-100 shadow-md":0===t&&0===r&&0===a&&0===o?"border-green-100 bg-green-100 shadow-md":"border-orange-100 bg-orange-100 shadow-md";return(0,n.useEffect)((function(){p(c.search),g(c.searchIn),_(c.size),k(c.sizeUnit),j(c.duplicated),I(c.unused)}),[c]),n.createElement(n.Fragment,null,n.createElement("div",{className:"flex min-h-[20px] w-full items-end justify-end text-end"},u&&n.createElement("div",{className:"flex items-center"},n.createElement(P,{href:"#",className:"text-[.8rem] font-semibold text-red-600 no-underline",onClick:function(e){e.preventDefault(),Q(De()),M(Nl[1][0]),R(kl[0][0]),W(Sl[0][0]),$(Sl[0][0]),V(H+1)}},n.createElement(s.k7K,null),(0,i.__)("Reset filters","advanced-database-cleaner")),"PREMIUM"===z&&n.createElement("span",{className:"-mt-1 px-2"},"|")),"PREMIUM"===z&&n.createElement(P,{href:"#",className:"text-[.8rem] font-semibold text-gray-500 no-underline",onClick:function(e){e.preventDefault(),Q(Gm(!l))}},l?n.createElement("div",{className:"flex items-center gap-x-[4px]"},n.createElement(Yo.E1u,null),(0,i.__)("Show filters","advanced-database-cleaner")):n.createElement("div",{className:"flex items-center gap-x-[4px]"},n.createElement(Yo.UX6,null),(0,i.__)("Hide filters","advanced-database-cleaner")))),n.createElement("div",{key:H,className:"mt-1",hidden:l},n.createElement("div",{className:"flex flex-col justify-between gap-4 xl:min-w-[800px] xl:flex-row xl:gap-x-3"},n.createElement("div",{className:"flex min-w-[280px] max-w-[280px] flex-col gap-y-1 rounded-xl border ".concat(J," justify-center px-2 py-1")},pf(".."===o?"loading":0===o?"ok":"warning",(0,i.sprintf)((0,i.__)("%s unused user meta","advanced-database-cleaner"),o),(function(e){e.preventDefault(),Q(Te()),M(Nl[1][0]),R(kl[0][0]),W(Sl[0][0]),$(Sl[1][0]),V(H+1)})),pf(".."===a?"loading":0===a?"ok":"warning",(0,i.sprintf)((0,i.__)("%s duplicated user meta","advanced-database-cleaner"),a),(function(e){e.preventDefault(),Q(Pe()),M(Nl[1][0]),R(kl[0][0]),W(Sl[1][0]),$(Sl[0][0]),V(H+1)})),pf(".."===t?"loading":0===t?"ok":"warning",(0,i.sprintf)((0,i.__)("%s big user meta detected","advanced-database-cleaner"),t),(function(e){e.preventDefault(),Q(Le()),M(Nl[1][0]),R(kl[0][0]),W(Sl[0][0]),$(Sl[0][0]),V(H+1)})),pf(".."===r?"loading":0===r?"ok":"warning",(0,i.sprintf)((0,i.__)("%s user meta not scanned","advanced-database-cleaner"),r),(function(e){e.preventDefault(),Q(Se()),M(Nl[1][0]),R(kl[0][0]),W(Sl[0][0]),$(Sl[0][0]),V(H+1)}))),n.createElement("div",{className:"flex w-full flex-col gap-y-1 rounded-xl border bg-gray-200/80 px-3 shadow-sm ".concat("FREE"===z?"py-2":"py-3")},n.createElement("form",{className:"grid w-full grid-cols-2 items-end gap-x-4 gap-y-2 text-[.7rem] text-gray-900 sm:grid-cols-3 xl:flex ".concat("FREE"===z?"pointer-events-none opacity-50":"")},n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Search for","advanced-database-cleaner")),n.createElement(h,{placeholder:(0,i.__)("Search for","advanced-database-cleaner"),className:"!h-[2rem] w-full !border-gray-300 xl:w-[9rem]",onChange:function(e){return p(e.target.value)},maxLength:100,value:f})),n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Search in","advanced-database-cleaner")),n.createElement(uf,{selectItems:Nl,selectedItem:F,onSelectionChange:function(e){return g(e)},minWidthButton:"w-full xl:min-w-[90px]",minWidthContent:"min-w-[120px]"})),n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Size big than","advanced-database-cleaner")),n.createElement("div",{className:"flex gap-0"},n.createElement(h,{type:"number",min:0,className:"!h-[2rem] !min-h-[10px] w-full !rounded-l-lg !rounded-r-[0px] !border-gray-300 !ring-0 xl:w-[3.5rem]",onChange:function(e){return _(parseInt(e.target.value))},value:x}),n.createElement(uf,{selectItems:kl,selectedItem:D,onSelectionChange:function(e){return k(e)},minWidthButton:"min-w-[50px]",minWidthContent:"min-w-[60px]",extraBtnClasses:"!rounded-l-none border-l-transparent"}))),n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Unused","advanced-database-cleaner")),n.createElement(uf,{selectItems:Sl,selectedItem:K,onSelectionChange:function(e){return I(e)},minWidthButton:"w-full xl:min-w-[60px]",minWidthContent:"min-w-[100px]"})),n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Duplicated","advanced-database-cleaner")),n.createElement(uf,{selectItems:Sl,selectedItem:U,onSelectionChange:function(e){return j(e)},minWidthButton:"w-full xl:min-w-[60px]",minWidthContent:"min-w-[100px]"})),n.createElement("div",null,n.createElement(w,{Icon:Ve.F3z,text:(0,i.__)("Filter","advanced-database-cleaner"),className:"mt-2 !h-[2rem] xl:mt-0",onClick:function(e){e.preventDefault(),Q(_e({search:f,searchIn:y,size:Number(x),sizeUnit:N,duplicated:L,unused:T})),Q(Ce("all"))}}))),"FREE"===z&&n.createElement("div",{className:"flex w-full items-center pt-1"},n.createElement("div",{className:"flex items-center gap-1 rounded-lg"},n.createElement(s.xGQ,{className:"h-[16px] w-[16px] text-yellow-600"}),n.createElement("span",{className:"text-[.7rem] font-semibold text-gray-700"},(0,i.__)("Unlock Advanced Filters:","advanced-database-cleaner")),n.createElement(P,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=usermeta-filters&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"flex items-center !gap-[3px] text-[.7rem] font-semibold !text-blue-500 !no-underline hover:!text-blue-700"},(0,i.__)("upgrade","advanced-database-cleaner"),n.createElement(A.L2n,{className:"mt-[1px] h-3 w-3"}))))))))};function jl(e){return jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(e)}function Ol(){Ol=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==jl(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(jl(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Tl(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Pl(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Tl(o,n,a,i,c,"next",e)}function c(e){Tl(o,n,a,i,c,"throw",e)}i(void 0)}))}}function Il(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Cl(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Al=function(e){var t=e.actions,r=e.columns,a=(0,d.d4)((function(e){return e.filter})),o=(0,d.d4)(Ue),i=(0,d.d4)((function(e){return e.shared.refreshCountsInOrangeHealthCheck})),c=Il((0,n.useState)([]),2),l=c[0],s=c[1],u=Il((0,n.useState)(0),2),m=u[0],f=u[1],p=Il((0,n.useState)(".."),2),h=p[0],v=p[1],y=Il((0,n.useState)(".."),2),g=y[0],b=y[1],x=Il((0,n.useState)(".."),2),w=x[0],_=x[1],E=Il((0,n.useState)(".."),2),N=E[0],k=E[1],S=Il((0,n.useState)({}),2),L=S[0],j=S[1],O=Il((0,n.useState)({}),2),T=O[0],P=O[1],I=Il((0,n.useState)({}),2),C=I[0],A=I[1],F=Il((0,n.useState)(!0),2),M=F[0],G=F[1],D=(0,d.wA)();(0,n.useEffect)((function(){v(".."),b(".."),_(".."),k(".."),[{service:lo,setState:v},{service:uo,setState:b},{service:fo,setState:_},{service:ho,setState:k}].forEach((function(e){var t=e.service,r=e.setState;R(t,r)}))}),[i]);var R=function(){var e=Pl(Ol().mark((function e(t,r){var n,a;return Ol().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:a=e.sent,r(null!==(n=null==a?void 0:a.data)&&void 0!==n?n:0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Pt(D,e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),B=function(){var e=Pl(Ol().mark((function e(){var t,r,n,o,i,c,l,u;return Ol().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(!0),e.prev=1,e.next=4,Ia("users_meta",a);case 4:(t=e.sent)&&(s(null===(r=t.data)||void 0===r?void 0:r.items),f(null===(n=t.data)||void 0===n?void 0:n.total_items),j(null===(o=t.data)||void 0===o?void 0:o.categorization_count),P(null===(i=t.data)||void 0===i?void 0:i.plugins_count),A(null===(c=t.data)||void 0===c?void 0:c.themes_count),a.currentPage>(null===(l=t.data)||void 0===l?void 0:l.real_current_page)&&D(Ge(null===(u=t.data)||void 0===u?void 0:u.real_current_page))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Pt(D,e.t0.message);case 11:return e.prev=11,G(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return(0,n.useEffect)((function(){var e=function(){var e=Pl(Ol().mark((function e(){return Ol().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:D(Ff());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a]),n.createElement("div",null,"PREMIUM"===z&&n.createElement(Mi,{tabName:"users_meta"}),n.createElement(Ll,{bigUsersMetaCount:h,notScannedCount:g,duplicatedUsersMetaCount:w,unusedUsersMetaCount:N}),n.createElement(Wo,{tabName:"users_meta",categorizationCount:L,pluginsCount:T,themesCount:C}),!M&&m>0&&n.createElement(Ro,{bigUsersMetaCount:h,duplicatedUsersMetaCount:w,unusedUsersMetaCount:N}),n.createElement("div",{className:"mt-8 flex justify-between gap-x-2"},n.createElement(Go,{actions:t,itemsType:"users_meta"}),n.createElement(He,{totalItems:m,additionalStyle:"hidden md:flex",top:!0,onRefresh:function(e){e.preventDefault(),M||B()},loading:M,filterApplied:o})),M?yf():n.createElement("div",{className:"mt-4 w-full overflow-x-auto rounded-lg border border-gray-300"},l.length>0?n.createElement("table",{className:"w-full min-w-[1200px] 2xl:min-w-[1000px]"},n.createElement(Yi,{columns:r,data:l}),n.createElement(Wi,{tabName:"users_meta",columns:r,data:l})):vf(o)),n.createElement("div",{className:"mt-6 flex flex-col items-center justify-between gap-y-6 text-[.82rem] text-gray-800 sm:flex-row"},n.createElement($e,null),n.createElement(He,{totalItems:m,filterApplied:o})))};var Fl=r(7668),Ml=r(540),Gl=r(9124),Dl=r(3669);function zl(e){return zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(e)}function Rl(){Rl=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==zl(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(zl(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Bl(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Ul(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Bl(o,n,a,i,c,"next",e)}function c(e){Bl(o,n,a,i,c,"throw",e)}i(void 0)}))}}function Wl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Yl(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Kl=[{key:"p",name:(0,i.__)("Plugin","advanced-database-cleaner")},{key:"t",name:(0,i.__)("Theme","advanced-database-cleaner")},{key:"w",name:(0,i.__)("WordPress","advanced-database-cleaner")},{key:"o",name:(0,i.__)("Orphan","advanced-database-cleaner")},{key:"u",name:(0,i.__)("Don't assign to any category","advanced-database-cleaner")}];const $l=function(){var e=Wl((0,n.useState)(!1),2),t=e[0],r=e[1],c=Wl((0,n.useState)(Kl[0].key),2),s=c[0],u=c[1],m=Wl((0,n.useState)(""),2),f=m[0],p=m[1],h=Wl((0,n.useState)(""),2),v=h[0],y=h[1],g=Wl((0,n.useState)(!1),2),b=g[0],x=g[1],w=Wl((0,n.useState)(!1),2),_=w[0],E=w[1],k=Wl((0,n.useState)([]),2),S=k[0],j=k[1],O=Wl((0,n.useState)([]),2),T=O[0],I=O[1],A=(0,d.d4)((function(e){return e.setting.sendCorrectionsToServer})),F=Wl((0,n.useState)(A),2),M=F[0],G=F[1],D=Wl((0,n.useState)(!0),2),z=D[0],R=D[1],B=(0,d.d4)((function(e){return e.scan.isEditCategorizationModalShown})),U=(0,d.d4)((function(e){return e.action.selectedItems.length})),W=(0,d.d4)((function(e){return e.shared.currentTabId})),Y=(0,d.wA)();(0,n.useEffect)((function(){B&&K()}),[B]);var K=function(){var e=Ul(Rl().mark((function e(){var t,r,n,a,o;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,R(!0),e.next=4,et();case 4:n=e.sent,a=[[{key:"",label:(0,i.__)("Select a plugin","advanced-database-cleaner")}],Object.entries(null===(t=n.data)||void 0===t?void 0:t.plugins_list).filter((function(e){var t=Wl(e,2);return t[0],"mu-plugin-folder"!==t[1].type})).map((function(e){var t=Wl(e,2),r=t[0],n=t[1];return{key:r,label:n.name+("mu-plugin"===n.type?" [MU]":"")}}))],o=[[{key:"",label:(0,i.__)("Select a theme","advanced-database-cleaner")}],Object.entries(null===(r=n.data)||void 0===r?void 0:r.themes_list).map((function(e){var t=Wl(e,2);return{key:t[0],label:t[1].name}}))],j(a),I(o),p(a[0][0].key),y(o[0][0].key),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),Pt(Y,e.t0.message);case 16:return e.prev=16,R(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})));return function(){return e.apply(this,arguments)}}();if(!B)return null;var $=function(){var e=Ul(Rl().mark((function e(){var n,a,o;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return");case 2:return r(!0),e.prev=3,e.next=6,ki({items_type:W});case 6:if(!e.sent.data){e.next=12;break}return Pt(Y,(0,i.__)("A scan is in progress. Please wait until it finishes before performing this action","advanced-database-cleaner")),q(),e.abrupt("return");case 12:if(n=M?"1":"0","p"!==s||f){e.next=16;break}return x(!0),e.abrupt("return");case 16:if("t"!==s||v){e.next=19;break}return E(!0),e.abrupt("return");case 19:"p"===s?a={type:"p",slug:f,send_to_server:n}:"t"===s?a={type:"t",slug:v,send_to_server:n}:(o=["o","u"].includes(s)?"0":n,a={type:s,slug:s,send_to_server:o}),Y(Tf({manualCategorization:a})),Y(Fo()),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(3),Pt(Y,e.t0.message);case 27:return e.prev=27,r(!1),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[3,24,27,30]])})));return function(){return e.apply(this,arguments)}}(),q=function(){Y(Fo())};return n.createElement(a.e,{appear:!0,show:!0,as:n.Fragment},n.createElement(o.lG,{as:"div",className:"relative z-50",onClose:q},n.createElement(o.Xi,{transition:!0,className:"fixed inset-0 bg-gray-900 bg-opacity-70 transition-opacity duration-100 ease-linear data-[closed]:opacity-0"}),n.createElement("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto"},n.createElement("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},n.createElement(o.Lj,{transition:!0,className:"relative transform overflow-visible rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all duration-200 ease-out data-[closed]:scale-95 data-[closed]:opacity-0 sm:my-8 sm:w-full sm:max-w-md sm:p-6"},n.createElement("div",{className:"absolute right-0 top-0 pr-4 pt-4"},n.createElement("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",onClick:q},n.createElement("span",{className:"sr-only"},"Close"),n.createElement(l.WQq,{className:"h-6 w-6","aria-hidden":"true"}))),n.createElement("div",{className:"mx-auto mb-1 mt-2"},n.createElement("div",{className:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg"},n.createElement(Dl.qZP,{className:"h-10 w-10 text-primary","aria-hidden":"true"})),n.createElement("div",{className:"mt-3 text-center"},n.createElement(o.L3,{as:"h3",className:"text-[.95rem] leading-6 text-gray-900"},(0,i.sprintf)((0,i.__)("Assign the %d selected item(s) to:","advanced-database-cleaner"),U)),n.createElement(Fl.z6,{value:s,onChange:u,className:"mt-6"},n.createElement("div",{className:"divide-y rounded-lg border border-gray-300"},Kl.map((function(e,t){return n.createElement(Fl.sx,{key:e.key,value:e.key,className:function(e){var r=e.checked;return N(0===t?"rounded-tl-md rounded-tr-md":"",4===t?"rounded-bl-md rounded-br-md":"",r?"z-10 bg-blue-100":"","relative flex h-[50px] cursor-pointer  items-center px-4")}},(function(t){var r=t.active,a=t.checked;return n.createElement("div",{className:"flex min-w-full justify-between"},n.createElement("span",{className:"flex items-center text-sm"},n.createElement("span",{className:N(a?"border-transparent bg-blue-600":"border-gray-400 bg-white",r?"ring-blue-600":"","flex h-4 w-4 items-center justify-center rounded-full border"),"aria-hidden":"true"},n.createElement("span",{className:"h-1.5 w-1.5 rounded-full bg-white"})),n.createElement(Ml.JU,{as:"span",className:"ml-3 flex items-center gap-x-2 text-[.9rem] text-black"},e.name,"u"===e.key&&n.createElement(L,{content:(0,i.__)("Items will not be assigned to any plugin/theme and will be marked as 'not scanned'","advanced-database-cleaner")}))),n.createElement("span",null,"p"===e.key?z?n.createElement(C,{text:""}):n.createElement(Gl.VY,{as:"span",className:"p"===s?"":"hidden"},n.createElement(uf,{selectItems:S,onSelectionChange:function(e){p(e),x(!1)},minWidthButton:"min-w-[200px]",minWidthContent:"min-w-[300px]",maxHeight:!0,borderColor:b?"border-2 border-red-500":"border-blue-400",truncateMaxWidth:"max-w-[170px]"})):"t"===e.key?z?n.createElement(C,{text:""}):n.createElement(Gl.VY,{as:"span",className:"t"===s?"":"hidden"},n.createElement(uf,{selectItems:T,onSelectionChange:function(e){y(e),E(!1)},minWidthButton:"min-w-[200px]",minWidthContent:"min-w-[300px]",maxHeight:!0,borderColor:_?"border-2 border-red-500":"border-blue-400",truncateMaxWidth:"max-w-[170px]",disabled:!0})):""))}))}))),"p"===s||"t"===s||"w"===s?!0===A?n.createElement("div",{className:"mt-3 flex items-center gap-x-1 rounded-lg border border-gray-200 bg-gray-200/80 px-4 py-3 text-left"},n.createElement("span",null,(0,i.__)("This correction will be sent anonymously to our server","advanced-database-cleaner")),n.createElement(L,{content:n.createElement("span",null,(0,i.__)("You have chosen to submit your manual corrections to the plugin server. To change this, please navigate to the plugin settings page","advanced-database-cleaner")),iconSize:"text-[.9rem]",iconColor:"text-gray-400 mt-1"})):n.createElement("div",{className:"items-top mt-3 flex gap-x-2 rounded-lg border border-purple-200 bg-purple-200/80 px-4 py-3 text-left"},n.createElement("span",null,n.createElement("input",{type:"checkbox",checked:M,onChange:function(e){var t=!!e.target.checked;G(t)}})),n.createElement("span",{className:"text-[.82rem]"},(0,i.__)("Send this correction anonymously to the plugin server?","advanced-database-cleaner")," ",n.createElement(P,{href:"https://docs.sigmaplugin.com/article/59-sending-manual-corrections-to-the-remote-server-in-advanced-database-cleaner-premium?utm_source=edit-categorization-modal&utm_medium=adbc-premium&utm_campaign=plugins&utm_content=documentation-send-manual-corrections",target:"_blank",className:"text-[.78rem] font-semibold"},(0,i.__)("Read more","advanced-database-cleaner")))):"")),n.createElement("div",{className:"mb-2 mt-5 flex justify-center gap-x-3 sm:mt-8"},n.createElement("button",{type:"button",className:"inline-flex w-full min-w-[100px] justify-center rounded-full border border-gray-400/70 bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm hover:border-gray-500 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:q},(0,i.__)("Cancel","advanced-database-cleaner")),n.createElement("button",{type:"button",className:"inline-flex w-full min-w-[100px] justify-center rounded-full bg-primary px-3 py-2 text-sm font-semibold text-white shadow-sm hover:opacity-90 sm:w-auto",disabled:t,onClick:$},(0,i.__)("Confirm","advanced-database-cleaner")))))))))},ql=function(e){var t=e.title,r=e.description,a=e.readMoreLink,o=e.bgColor,c=void 0===o?"bg-gray-100":o,l=e.textColor,s=void 0===l?"text-gray-800":l,u=e.padding,d=void 0===u?"p-6":u,m=e.content,f=e.anchorId;return n.createElement("div",{className:"pb-[45px]"},f&&n.createElement("div",{id:f}),n.createElement("h3",{className:"border-b pb-4 text-[1.15rem] font-semibold text-black"},t),n.createElement("div",{className:"mt-3 text-gray-500"},r," ",a&&n.createElement(P,{href:a,target:"_blank",className:""},(0,i.__)("Read more","advanced-database-cleaner"))),n.createElement("div",{className:"mt-6 rounded-md ".concat(c," ").concat(d," text-sm ").concat(s)},m))};function Hl(e){return Hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(e)}function Vl(){Vl=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Hl(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(Hl(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Ql(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Jl(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Ql(o,n,a,i,c,"next",e)}function c(e){Ql(o,n,a,i,c,"throw",e)}i(void 0)}))}}function Xl(e){return Zl.apply(this,arguments)}function Zl(){return(Zl=Jl(Vl().mark((function e(t){return Vl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/update-settings",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function es(e){return ts.apply(this,arguments)}function ts(){return(ts=Jl(Vl().mark((function e(t){return Vl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/get-setting",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rs(e){return rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rs(e)}function ns(){ns=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==rs(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(rs(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function as(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function os(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){as(o,n,a,i,c,"next",e)}function c(e){as(o,n,a,i,c,"throw",e)}i(void 0)}))}}function is(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return cs(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cs(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const ls=function(){var e=is((0,n.useState)(null),2),t=e[0],r=e[1],a=is((0,n.useState)(".."),2),o=a[0],c=a[1],s=is((0,n.useState)(".."),2),u=s[0],m=s[1],f=is((0,n.useState)(!1),2),p=f[0],h=f[1],v=is((0,n.useState)(0),2),y=v[0],g=v[1],b=(0,d.wA)();(0,n.useEffect)((function(){_()}),[]),(0,n.useEffect)((function(){if(t&&void 0!==t.usage&&t.quota){var e=Math.floor(t.usage/t.quota*100);g(e)}}),[t]);var x=t&&t.usage>=t.quota,_=function(){var e=os(ns().mark((function e(){var t,n,a,o,i;return ns().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,es({key:"api_scan_balance"});case 3:t=e.sent,!0===(null===(n=t)||void 0===n?void 0:n.success)&&(r(null===(a=t)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.value),c(ut(null===(o=t)||void 0===o||null===(o=o.data)||void 0===o||null===(o=o.value)||void 0===o?void 0:o.ttl)),m(dt(null===(i=t)||void 0===i||null===(i=i.data)||void 0===i||null===(i=i.value)||void 0===i?void 0:i.updated_at))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Pt(b,e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=os(ns().mark((function e(){var t,n,a,o,i;return ns().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=2;break}return e.abrupt("return");case 2:return h(!0),g(0),e.prev=4,e.next=7,Ei({});case 7:t=e.sent,!0===(null===(n=t)||void 0===n?void 0:n.success)&&(r(null===(a=t)||void 0===a?void 0:a.data),c(ut(null===(o=t)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.ttl)),m(dt(null===(i=t)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.updated_at))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),Pt(b,e.t0.message);case 14:return e.prev=14,h(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[4,11,14,17]])})));return function(){return e.apply(this,arguments)}}();return n.createElement("div",{className:"flex flex-col sm:flex-row"},n.createElement("div",{className:"m-auto max-w-[80px] sm:m-0"},n.createElement("div",{className:"relative size-[80px] rounded-full bg-white shadow-md"},n.createElement("svg",{className:"size-full -rotate-90",viewBox:"0 0 36 36",xmlns:"http://www.w3.org/2000/svg"},n.createElement("circle",{cx:"18",cy:"18",r:"16",fill:"none",className:"stroke-current text-gray-200",strokeWidth:"3"}),n.createElement("circle",{cx:"18",cy:"18",r:"16",fill:"none",className:"stroke-current ".concat(x?"text-red-600":"text-blue-500"),strokeWidth:"3",strokeDasharray:"100",strokeDashoffset:"".concat(100-y),style:{transition:"stroke-dashoffset 0.5s ease-out"},strokeLinecap:"round"})),n.createElement("div",{className:"absolute start-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 transform"},n.createElement("span",{className:"text-center text-[16px] font-bold ".concat(x?"text-red-600":"text-blue-500")},y,"%"))),n.createElement("div",{className:"mt-2 hidden text-center text-[12px] sm:flex"},(0,i.__)("Today's usage","advanced-database-cleaner"))),n.createElement("div",{className:"mt-4 flex flex-col items-center justify-center sm:ml-[40px] sm:mt-0 sm:items-start"},n.createElement("div",{className:"flex flex-col items-center gap-1 sm:items-start"},n.createElement("div",null,(0,i.__)("Credits used today:","advanced-database-cleaner")," ",n.createElement("span",{className:" font-bold"},(null==t?void 0:t.usage)>=0?null==t?void 0:t.usage:".."),"/",n.createElement("span",{className:"font-bold"},(null==t?void 0:t.quota)||"..")),(null==t?void 0:t.ttl)>0?n.createElement("div",{className:"text-center sm:text-left"},(0,i.__)("Credits reset in:","advanced-database-cleaner")," ",n.createElement("div",{className:"flex sm:hidden"}),n.createElement("span",{className:"text-[13px] font-semibold"},o)):null),n.createElement("div",{className:"mt-4 flex flex-col items-center gap-2 sm:flex-row"},n.createElement(w,{Icon:l.Vt$,text:p?(0,i.__)("Refreshing...","advanced-database-cleaner"):(0,i.__)("Refresh info","advanced-database-cleaner"),className:"h-[1.6rem]",shouldAnimate:p,onClick:function(){return E()}}),n.createElement("div",{className:"text-[12px] text-gray-700"},"[",(0,i.__)("Last refresh:","advanced-database-cleaner")," ",u,"]")),x?n.createElement("div",{className:"mt-4 text-center text-[12px] text-red-600 sm:text-left"},(0,i.__)("You have reached your daily limit for remote server requests. Please wait for your credits to reset or upgrade your license for a higher limit.","advanced-database-cleaner")," ",n.createElement(P,{href:"https://docs.sigmaplugin.com/article/102-upgrade-my-license?utm_source=scan-balance-modal&utm_medium=adbc-premium&utm_campaign=plugins&utm_content=documentation-upgrade-license",target:"_blank",className:"text-[.78rem] font-semibold"},(0,i.__)("Upgrade my license","advanced-database-cleaner"))):null))},ss=function(){var e=(0,d.d4)((function(e){return e.scan.isScanBalanceModalShown})),t=(0,d.wA)();if(!e)return null;var r=function(){t(Co())};return n.createElement(a.e,{appear:!0,show:!0,as:n.Fragment},n.createElement(o.lG,{as:"div",className:"relative z-50",onClose:r},n.createElement(o.Xi,{transition:!0,className:"fixed inset-0 bg-gray-900 bg-opacity-70 transition-opacity duration-100 ease-linear data-[closed]:opacity-0"}),n.createElement("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto"},n.createElement("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},n.createElement(o.Lj,{transition:!0,className:"relative transform overflow-visible rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all duration-200 ease-out data-[closed]:scale-95 data-[closed]:opacity-0 sm:my-8 sm:w-full sm:max-w-xl sm:p-6"},n.createElement("div",{className:"absolute right-0 top-0 pr-4 pt-4"},n.createElement("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",onClick:r},n.createElement("span",{className:"sr-only"},"Close"),n.createElement(l.WQq,{className:"h-6 w-6","aria-hidden":"true"}))),n.createElement("div",{className:"mx-auto mt-2"},n.createElement(ql,{title:(0,i.__)("Remote scan credits","advanced-database-cleaner"),description:(0,i.__)("Daily credit balance for enhancing local scan accuracy via remote server analysis. Each credit enables one request to improve detection of tables, options, and other elements linked to specific plugins and themes.","advanced-database-cleaner"),readMoreLink:"https://docs.sigmaplugin.com/article/58-understanding-documentation-remote-scan-credits-in-advanced-database-cleaner-premium?utm_source=scan-balance-modal&utm_medium=adbc-premium&utm_campaign=plugins&utm_content=documentation-remote-scan-credits",content:n.createElement(ls,null)})))))))};function us(e){return us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},us(e)}function ds(){ds=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==us(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(us(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function ms(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function fs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ps(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ps(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ps(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const hs=function(){var e=fs((0,n.useState)(""),2),t=e[0],r=e[1],c=fs((0,n.useState)(""),2),u=c[0],m=c[1],f=fs((0,n.useState)(""),2),p=f[0],h=f[1],v=fs((0,n.useState)(!1),2),y=v[0],g=v[1],b=fs((0,n.useState)(!1),2),x=b[0],w=b[1],_=(0,d.d4)((function(e){return e.shared})),E=_.name,N=_.siteId,k=_.rowId,S=_.currentTabId,L=_.currentSubTabId,j=_.transientFoundIn,O=_.isContentValueModalShown,T="general_cleanup"===S?L:S,I=(0,d.wA)();(0,n.useEffect)((function(){O&&C()}),[O]);var C=function(){var e,t=(e=ds().mark((function e(){var t;return ds().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,te({itemsType:T,siteId:N,rowId:k,transientFoundIn:j});case 4:t=e.sent,h(null==t?void 0:t.data.type),r(null==t?void 0:t.data.value),m((null==t?void 0:t.data.pretty_json)||""),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),Pt(I,e.t0.message);case 13:return e.prev=13,g(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){ms(o,n,a,i,c,"next",e)}function c(e){ms(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),A=function(){r(""),m(""),h(""),g(!1),w(!1),I(zm())};return O?n.createElement(a.e,{appear:!0,show:!0,as:n.Fragment},n.createElement(o.lG,{as:"div",className:"relative z-50",onClose:A},n.createElement(o.Xi,{transition:!0,className:"fixed inset-0 bg-gray-900 bg-opacity-70 transition-opacity duration-100 ease-linear data-[closed]:opacity-0"}),n.createElement("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto"},n.createElement("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},n.createElement(o.Lj,{transition:!0,className:"relative transform overflow-visible rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all duration-200 ease-out data-[closed]:scale-95 data-[closed]:opacity-0 sm:my-8 sm:w-full sm:max-w-xl sm:p-6"},y&&n.createElement("div",{className:"absolute inset-0 z-20 flex items-center justify-center rounded-lg bg-white/80"},n.createElement(ii.kiM,{className:"h-8 w-8 animate-spin text-gray-500"})),n.createElement("div",{className:"absolute right-0 top-0 z-10 pr-4 pt-4"},n.createElement("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",onClick:A},n.createElement("span",{className:"sr-only"},"Close"),n.createElement(l.WQq,{className:"h-6 w-6","aria-hidden":"true"}))),n.createElement("div",{className:"relative mt-6 flex flex-wrap items-center gap-3 px-4 py-2"},n.createElement("h2",{className:"text-lg font-semibold text-gray-800"},E),n.createElement("span",{className:"inline-block rounded bg-gray-600 px-1 py-[1px] text-[.6rem] font-semibold uppercase tracking-wider text-white"},p.replace(/_/g," ")),n.createElement("div",{className:"ml-auto flex items-center gap-2"},u&&n.createElement(P,{href:"#",className:"ml-auto px-2 py-[2px] text-[.7rem] font-medium text-gray-700",onClick:function(e){e.preventDefault(),w((function(e){return!e}))}},x?(0,i.__)("Show original value","advanced-database-cleaner"):(0,i.__)("Show formatted value","advanced-database-cleaner")),n.createElement(P,{href:"#",onClick:function(e){e.preventDefault(),C()},className:"text-gray-600 hover:text-gray-900"},n.createElement(s.JbZ,{className:"h-4 w-4 ".concat(y?"animate-spin":"")})))),n.createElement("div",{className:"relative mx-auto mt-2 max-h-[70vh] overflow-y-auto px-4 py-2"},x?n.createElement("pre",{className:"overflow-x-auto whitespace-pre break-all rounded-xl border bg-gray-100 p-4 text-[13px]"},u):n.createElement("pre",{className:"whitespace-pre-wrap break-all rounded-xl border bg-gray-100 p-4 text-[13px]"},t))))))):null};var vs=function(e,t){var r=document.getElementById(e);r&&(r.style.display=t)},ys=function(e,t){var r=document.querySelector(e);r&&(r.style.display=t)},gs=function(e){var t=document.getElementById(e),r=t?t.innerText.replace(/\D/g,""):"";return r?parseInt(r):0};function bs(e){return bs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bs(e)}function xs(){xs=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==bs(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(bs(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function ws(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function _s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Es(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Es(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Es(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Ns=[{id:1,title:(0,i.__)("Local scan only","advanced-database-cleaner"),description:(0,i.__)("Less accurate","advanced-database-cleaner"),moreInfo:(0,i.__)("The plugin will only scan your items against your local files; no data will be sent to the remote database.","advanced-database-cleaner"),value:"local",readMoreLink:"",recommended:!1},{id:2,title:(0,i.__)("Local & remote scan","advanced-database-cleaner"),description:(0,i.__)("More accurate","advanced-database-cleaner"),moreInfo:(0,i.__)("The plugin will begin by scanning items against your local files, then it will anonymously send the scan results to a secure remote database for more accurate results.","advanced-database-cleaner"),value:"full",readMoreLink:"https://docs.sigmaplugin.com/article/57-the-remote-scan-in-advanced-database-cleaner-precision-meets-security?utm_source=start-scan-modal&utm_medium=adbc-premium&utm_campaign=plugins&utm_content=documentation-remote-scan-info",recommended:!0}];const ks=function(){var e=(0,d.d4)((function(e){return e.scan.isScanModalShown})),t=(0,d.d4)((function(e){return e.scan.whoOpenedScanModal})),r=(0,d.d4)((function(e){return e.action.selectedItems.length})),c=(0,d.d4)((function(e){return e.shared.currentTabId})),s=(0,d.d4)(We),m=gs("adbc-categorization-all"),f=gs("adbc-categorization-not-scanned"),p=[{id:1,title:(0,i.__)("All items","advanced-database-cleaner"),value:"all",total:m,active:!0},{id:2,title:(0,i.__)("Not scanned","advanced-database-cleaner"),value:"uncategorized",total:f,active:f>0},{id:3,title:(0,i.__)("Selected","advanced-database-cleaner"),value:"selected",total:r,active:r>0}],h=_s((0,n.useState)(!1),2),v=h[0],y=h[1],g=_s((0,n.useState)(Ns[0]),2),b=g[0],x=g[1],w=_s((0,n.useState)(p[0]),2),_=w[0],E=w[1],N=_s((0,n.useState)(!1),2),S=N[0],j=N[1],O=(0,d.wA)();if((0,n.useEffect)((function(){if(!1!==e)switch(t){case"dataTableColumn":E(p[1]);break;case"bulkAction":E(p[2]);break;default:E(p[0])}}),[e]),!e)return null;var T=function(){var e,t=(e=xs().mark((function e(){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=2;break}return e.abrupt("return");case 2:return y(!0),e.prev=3,e.next=6,ki({items_type:c});case 6:if(!e.sent.data){e.next=12;break}return Pt(O,(0,i.__)("A scan is in progress. Please wait until it finishes before running a new scan.","advanced-database-cleaner")),I(),e.abrupt("return");case 12:O(Po({scanType:b.value,whatToScan:_.value,overrideManualCategorization:S})),I(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),Pt(O,e.t0.message);case 19:return e.prev=19,y(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[3,16,19,22]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){ws(o,n,a,i,c,"next",e)}function c(e){ws(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),I=function(){x(Ns[0]),E(p[0]),j(!1),O(To())};return n.createElement(a.e,{appear:!0,show:!0,as:n.Fragment},n.createElement(o.lG,{as:"div",className:"relative z-50",onClose:I},n.createElement(o.Xi,{transition:!0,className:"fixed inset-0 bg-gray-900 bg-opacity-70 transition-opacity duration-100 ease-linear data-[closed]:opacity-0"}),n.createElement("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto"},n.createElement("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},n.createElement(o.Lj,{transition:!0,className:"relative transform overflow-visible rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all duration-200 ease-out data-[closed]:scale-95 data-[closed]:opacity-0 sm:my-8 sm:w-full sm:max-w-xl sm:p-6"},n.createElement("div",{className:"absolute right-0 top-0 pr-4 pt-4"},n.createElement("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",onClick:I},n.createElement("span",{className:"sr-only"},"Close"),n.createElement(l.WQq,{className:"h-6 w-6","aria-hidden":"true"}))),n.createElement("div",{className:"mx-auto mb-4 mt-3"},n.createElement(u.h4T,{className:"mx-auto p-[5px] text-[2.5rem] text-blue-500"}),n.createElement(o.L3,{as:"h3",className:"text-center text-[1rem] font-semibold text-gray-900"},(0,i.__)("Select the scan configuration","advanced-database-cleaner")),n.createElement("div",{className:"text-center text-[.75rem] text-gray-900"},(0,i.__)("The scan will identify which plugins or themes your items are associated with","advanced-database-cleaner")),n.createElement("div",{className:"relative mt-6"},n.createElement("div",{"aria-hidden":"true",className:"absolute inset-0 flex items-center"},n.createElement("div",{className:"w-full border-t border-gray-300"})),n.createElement("div",{className:"relative flex items-center justify-start"},n.createElement("span",{className:"bg-white pr-1 text-[.8rem] text-gray-900"},(0,i.__)("Scan type","advanced-database-cleaner")))),n.createElement(Fl.z6,{value:b.id,onChange:function(e){return x(Ns.find((function(t){return t.id===e})))},className:"mt-4 grid grid-cols-1 gap-x-4 gap-y-4 sm:grid-cols-2"},Ns.map((function(e){return n.createElement(Fl.sx,{key:"scan_type_"+e.id,value:e.id,className:"group relative flex cursor-pointer rounded-lg border border-gray-300 bg-white p-4 shadow-md focus:outline-none data-[focus]:border-blue-600 data-[checked]:bg-blue-50 data-[focus]:ring-2 data-[focus]:ring-blue-600"},n.createElement("span",{className:"flex flex-1"},n.createElement("span",{className:"flex flex-col"},n.createElement("span",{className:"flex items-center text-[.95rem] font-semibold text-black underline decoration-gray-500/60 decoration-dashed decoration-1 underline-offset-4"},n.createElement(L,{content:n.createElement("span",null,e.moreInfo," ",e.readMoreLink&&n.createElement(P,{href:e.readMoreLink,target:"_blank",className:"text-[.78rem] font-semibold !text-blue-300 hover:!text-blue-500"},(0,i.__)("Read more","advanced-database-cleaner")))},e.title)),n.createElement("span",{className:"mt-1 flex items-center text-[.8rem] text-gray-700"},e.description,e.recommended&&n.createElement("span",{className:"pl-1 text-[.7rem] font-semibold text-green-700"},"[",(0,i.__)("Recommended","advanced-database-cleaner"),"]")))),n.createElement(A.OLr,{"aria-hidden":"true",className:"relative -right-2 -top-2 h-5 w-5 text-blue-600 [.group:not([data-checked])_&]:invisible"}),n.createElement("span",{"aria-hidden":"true",className:"pointer-events-none absolute -inset-px rounded-lg border-2 border-transparent group-data-[focus]:border group-data-[checked]:border-blue-600"}))}))),n.createElement("div",{className:"relative mt-6"},n.createElement("div",{"aria-hidden":"true",className:"absolute inset-0 flex items-center"},n.createElement("div",{className:"w-full border-t border-gray-300"})),n.createElement("div",{className:"relative flex items-center justify-start"},n.createElement("span",{className:"bg-white pr-1 text-[.8rem] text-gray-900"},(0,i.__)("Items to scan","advanced-database-cleaner")))),n.createElement(Fl.z6,{value:_.id,onChange:function(e){return E(p.find((function(t){return t.id===e})))},className:"mt-4 grid grid-cols-1 gap-x-4 gap-y-4 sm:grid-cols-3"},p.map((function(e){return n.createElement(Fl.sx,{key:"to_scan_"+e.id,value:e.id,disabled:!e.active,className:"group relative flex ".concat(e.active?"cursor-pointer":"cursor-not-allowed"," rounded-lg border border-gray-300 bg-white px-4 py-2 shadow-md focus:outline-none data-[focus]:border-blue-600 data-[checked]:bg-blue-50 data-[focus]:ring-2 data-[focus]:ring-blue-600")},n.createElement("span",{className:"flex w-full justify-between sm:flex-col sm:gap-y-[2px]"},n.createElement("span",{className:"text-sm font-medium text-gray-900"},e.title),(!s||"selected"===e.value)&&n.createElement("span",{className:"text-[.75rem] text-gray-700"},e.total)),n.createElement(A.OLr,{"aria-hidden":"true",className:"relative -right-[8px] -top-[1px] h-5 w-5 text-blue-600 [.group:not([data-checked])_&]:invisible"}),n.createElement("span",{"aria-hidden":"true",className:"pointer-events-none absolute -inset-px rounded-lg border-2 border-transparent group-data-[focus]:border group-data-[checked]:border-blue-600"}))}))),n.createElement("div",{className:"mt-6 flex items-center gap-x-1 rounded-xl border-gray-400 bg-gray-100 p-4 shadow-sm"},n.createElement(k,{text:(0,i.__)("Override manual corrections?","advanced-database-cleaner"),textStyle:"text-[.8rem]",toggleSize:"small",toggleChangeCallback:function(e){return j(e)},isActive:S}),n.createElement(L,{content:n.createElement("span",null,(0,i.__)("This will override any manual 'belongs to' corrections you have made. If you are unsure, leave this option disabled.","advanced-database-cleaner")),iconSize:"text-[1rem]"},n.createElement(ai.JFS,{className:"mt-[2px] h-[14px] w-[14px] text-gray-500"}))),n.createElement("button",{className:"mt-10 flex h-[40px] w-full min-w-[280px] items-center justify-center gap-x-2 rounded-lg bg-blue-600 px-4 text-sm font-semibold tracking-wide text-white hover:bg-blue-500",disabled:v,onClick:T},n.createElement("span",null,(0,i.__)("Start the scan","advanced-database-cleaner"))),"full"===b.value&&n.createElement("div",{className:"mt-6 text-[.8rem] text-gray-600"},(0,i.__)("By starting this scan, you agree to anonymously send the local scan results to our secure remote database to improve your scan accuracy. No personal data is collected.","advanced-database-cleaner")," ",n.createElement(P,{href:"https://docs.sigmaplugin.com/article/57-the-remote-scan-in-advanced-database-cleaner-precision-meets-security?utm_source=start-scan-modal&utm_medium=adbc-premium&utm_campaign=plugins&utm_content=documentation-remote-scan-user-consent",target:"_blank",className:"text-[.7rem] font-semibold"},(0,i.__)("Read more","advanced-database-cleaner")))))))))};function Ss(e){return Ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ss(e)}function Ls(){Ls=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Ss(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(Ss(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function js(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}const Os=function(e){var t=e.tabName,r=e.actions,a=e.columns,o=(0,d.d4)((function(e){return e.action})),c=kf(t),l=(0,d.wA)();(0,n.useEffect)((function(){s()}),[o]);var s=function(){var e,t=(e=Ls().mark((function e(){var t;return Ls().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==o.processAction||null===o.actionType){e.next=19;break}return e.prev=1,e.next=4,Aa(o.actionType,o);case 4:r=null==(t=e.sent)?void 0:t.data,void 0,void 0,n=(0,i.__)("Completed successfully!","advanced-database-cleaner"),a=(0,i.sprintf)((0,i._n)(" %d item could not be processed."," %d items could not be processed.",r,"advanced-database-cleaner"),r),Ot(l,r>0?a:n),l(Ff()),l(Re()),l(Qm()),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),Pt(l,e.t0.message);case 15:return e.prev=15,l(Cf()),l(ca()),e.finish(15);case 19:case"end":return e.stop()}var r,n,a}),e,null,[[1,12,15,19]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){js(o,n,a,i,c,"next",e)}function c(e){js(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return n.createElement(n.Fragment,null,c?n.createElement(pc,{tabName:t,actions:r,columns:a}):"tables"===t?n.createElement(ol,{actions:r,columns:a}):"options"===t?n.createElement(Oc,{actions:r,columns:a}):"transients"===t?n.createElement(wl,{actions:r,columns:a}):"posts_meta"===t?n.createElement(Yc,{actions:r,columns:a}):"users_meta"===t?n.createElement(Al,{actions:r,columns:a}):"cron_jobs"===t?n.createElement(Ji,{actions:r,columns:a}):n.createElement("div",null,(0,i.__)("Not supported!","advanced-database-cleaner")),n.createElement($l,null),n.createElement(ks,null),n.createElement(ss,null),n.createElement(hs,null))},Ts=function(e){var t=e.subTab,r=[[{key:"bulk_actions",label:(0,i.__)("Bulk actions","advanced-database-cleaner")}],[{key:"delete_"+t,label:(0,i.__)("Delete","advanced-database-cleaner")}]],a=Ef(t);return n.createElement(Os,{tabName:t,actions:r,columns:a})};var Ps=r(7876);function Is(e){return Is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Is(e)}function Cs(){Cs=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Is(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(Is(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function As(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Fs(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){As(o,n,a,i,c,"next",e)}function c(e){As(o,n,a,i,c,"throw",e)}i(void 0)}))}}function Ms(e){return Gs.apply(this,arguments)}function Gs(){return(Gs=Fs(Cs().mark((function e(t){return Cs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/general-cleanup/get-general-data",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ds(e){return zs.apply(this,arguments)}function zs(){return(zs=Fs(Cs().mark((function e(t){return Cs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/general-cleanup/purge-items",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rs(e){return Bs.apply(this,arguments)}function Bs(){return(Bs=Fs(Cs().mark((function e(t){return Cs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/general-cleanup/set-keep-last",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Us(){return Ws.apply(this,arguments)}function Ws(){return(Ws=Fs(Cs().mark((function e(){return Cs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/general-cleanup/get-keep-last",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ys(e){return Ks.apply(this,arguments)}function Ks(){return(Ks=Fs(Cs().mark((function e(t){return Cs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/general-cleanup/delete-keep-last",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $s(e){return $s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(e)}function qs(){qs=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==$s(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError($s(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Hs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hs(Object(r),!0).forEach((function(t){Qs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qs(e,t,r){return(t=function(e){var t=function(e){if("object"!=$s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=$s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Js(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Xs(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Js(o,n,a,i,c,"next",e)}function c(e){Js(o,n,a,i,c,"throw",e)}i(void 0)}))}}function Zs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var eu=[[{key:"days",label:(0,i.__)("Days","advanced-database-cleaner"),tooltipText:(0,i.__)("Preserve items from the last X days from being cleaned.","advanced-database-cleaner")},{key:"items",label:"FREE"===z?n.createElement("span",{className:"flex items-center"},(0,i.__)("Items","advanced-database-cleaner"),n.createElement("span",{className:"ml-1 flex items-center gap-1 !text-[.75rem] font-semibold text-yellow-600"},n.createElement(s.xGQ,{className:"text-[.9rem] text-yellow-500"}),(0,i.__)("(premium)","advanced-database-cleaner"))):(0,i.__)("Items","advanced-database-cleaner"),disabled:"FREE"===z,tooltipText:n.createElement("span",null,(0,i.__)("Keep the last X items for each parent (e.g., the last 5 revisions per post). If an item has no parent, keep the last X items globally.","advanced-database-cleaner"),"FREE"===z&&n.createElement("div",{className:"flex text-yellow-600"},(0,i.__)("Available in the premium version.","advanced-database-cleaner")))}]],tu=["revisions","auto_drafts","unapproved_comments","spam_comments","trashed_comments","pingbacks","trackbacks"],ru=["trashed_posts","actionscheduler_completed_actions","actionscheduler_failed_actions","actionscheduler_canceled_actions","actionscheduler_completed_logs","actionscheduler_failed_logs","actionscheduler_canceled_logs","actionscheduler_orphan_logs"];const nu=function(e){var t,r=e.isOpen,c=e.itemKey,u=e.itemLabel,m=e.onClose,f=e.onSave,p=e.allItemKeys,v=void 0===p?[]:p,y=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Zs(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zs(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,n.useState)({currentType:"days",currentValue:0,loading:!0,applyToAll:!1}),2),g=y[0],b=y[1],x=(0,d.wA)();(0,n.useEffect)((function(){var e=function(){var e=Xs(qs().mark((function e(){var t,n,a;return qs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&c){e.next=2;break}return e.abrupt("return");case 2:return b((function(e){return Vs(Vs({},e),{},{loading:!0})})),e.prev=3,e.next=6,Us();case 6:t=e.sent,(n=t.data)[c]?(a=n[c],b({currentType:a.type,currentValue:a.value,loading:!1,applyToAll:!1})):b({currentType:"days",currentValue:0,loading:!1,applyToAll:!1}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),Pt(x,e.t0.message),b((function(e){return Vs(Vs({},e),{},{loading:!1})}));case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[r,c,x]);var w=function(){var e=Xs(qs().mark((function e(){var t,r,n,a;return qs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,0!==(t=parseInt(g.currentValue,10))){e.next=8;break}return r=g.applyToAll?v:[c],e.next=6,Ys({itemsTypes:r});case 6:e.next=11;break;case 8:return g.applyToAll?(a={},v.forEach((function(e){a[e]={type:g.currentType,value:t}})),n={keepLast:a}):n={keepLast:Qs({},c,{type:g.currentType,value:t})},e.next=11,Rs(n);case 11:Ot(x,(0,i.__)("Updated successfully!","advanced-database-cleaner")),f&&f(),m(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),Pt(x,e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),_=function(){m(),b({currentType:"days",currentValue:0,loading:!0,applyToAll:!1})};return n.createElement(a.e,{appear:!0,show:r,as:n.Fragment},n.createElement(o.lG,{as:"div",className:"relative z-50",onClose:_},n.createElement(o.Xi,{transition:!0,className:"fixed inset-0 bg-gray-900 bg-opacity-70 transition-opacity duration-100 ease-linear data-[closed]:opacity-0"}),n.createElement("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto"},n.createElement("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},n.createElement(o.Lj,{transition:!0,className:"relative transform overflow-visible rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all duration-200 ease-out data-[closed]:scale-95 data-[closed]:opacity-0 sm:my-8 sm:w-full sm:max-w-md sm:p-6"},n.createElement("div",{className:"absolute right-0 top-0 pr-4 pt-4"},n.createElement("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",onClick:_},n.createElement("span",{className:"sr-only"},"Close"),n.createElement(l.WQq,{className:"h-6 w-6","aria-hidden":"true"}))),n.createElement("div",{className:"mx-auto mb-1 mt-2"},n.createElement("div",{className:"mt-3 text-left"},n.createElement(o.L3,{as:"h3",className:"mb-4 text-base font-bold leading-6 text-gray-900"},!g.loading&&u),g.loading?n.createElement("div",{className:"flex items-center justify-center py-8"},n.createElement(s.JbZ,{className:"animate-spin text-[1.5rem] text-blue-500"}),n.createElement("span",{className:"ml-2 text-gray-600"},(0,i.__)("Loading settings...","advanced-database-cleaner"))):n.createElement(n.Fragment,null,n.createElement("div",{className:"mb-4 mt-8 flex items-center gap-2"},n.createElement("span",{className:"flex h-[2rem] items-center whitespace-nowrap rounded-lg bg-gray-100 px-2 text-[.8rem] font-semibold text-gray-900"},(0,i.__)("Keep last","advanced-database-cleaner")),n.createElement(h,{placeholder:(0,i.__)("Enter number","advanced-database-cleaner"),className:"!h-[2rem] !max-h-[2rem] !min-h-[2rem] w-[6rem] !border-gray-300",onChange:function(e){var t=e.target.value.replace(/[^0-9]/g,""),r=parseInt(t,10),n=isNaN(r)?0:Math.min(r,1e4);b((function(e){return Vs(Vs({},e),{},{currentValue:n})}))},value:g.currentValue,type:"number",min:"0",max:"10000"}),n.createElement(uf,{selectItems:eu,selectedItem:null!==(t=eu[0].find((function(e){return e.key===g.currentType})))&&void 0!==t?t:eu[0][0],onSelectionChange:function(e){b((function(t){return Vs(Vs({},t),{},{currentType:e})}))},minWidthButton:"min-w-[100px]",minWidthContent:"FREE"===z?"min-w-[180px]":"min-w-[120px]",borderColor:"border-gray-400"}),n.createElement("span",{className:"flex h-[2rem] items-center text-[.8rem] text-gray-900"},"days"===g.currentType&&(0,i.__)("of data","advanced-database-cleaner"),"items"===g.currentType&&(tu.includes(c)?(0,i.__)("per post","advanced-database-cleaner"):ru.includes(c)?(0,i.__)("in total","advanced-database-cleaner"):""))),n.createElement("div",{className:"mb-6"},0===parseInt(g.currentValue,10)&&n.createElement("div",{className:"mt-2 rounded-md bg-orange-100 px-3 py-1"},n.createElement("p",{className:"text-[.75rem] text-orange-800"},(0,i.__)("No items are kept with this configuration.","advanced-database-cleaner")))),n.createElement("div",{className:"mb-8 mt-8 flex items-center gap-1"},n.createElement("input",{type:"checkbox",checked:g.applyToAll,onChange:function(e){return b((function(t){return Vs(Vs({},t),{},{applyToAll:e.target.checked})}))},className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),n.createElement("span",{className:"-mt-[4px] text-[.8rem] text-gray-700"},(0,i.__)("Apply this to all other items (if applicable)","advanced-database-cleaner"))))),!g.loading&&n.createElement("div",{className:"mb-2 mt-5 flex justify-center gap-x-3 sm:mt-6"},n.createElement("button",{type:"button",className:"inline-flex w-full min-w-[100px] justify-center rounded-full border border-gray-400/70 bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm hover:border-gray-500 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:_},(0,i.__)("Cancel","advanced-database-cleaner")),n.createElement("button",{type:"button",className:"inline-flex w-full min-w-[100px] justify-center rounded-full bg-primary px-3 py-2 text-sm font-semibold text-white shadow-sm hover:opacity-90 sm:w-auto",onClick:w,disabled:g.loading||"FREE"===z&&"items"===g.currentType},(0,i.__)("Save","advanced-database-cleaner"))),"FREE"===z&&"items"===g.currentType&&n.createElement("div",{className:"mt-4 rounded-lg border border-yellow-500 bg-yellow-50 px-3 py-2"},n.createElement("p",{className:"text-[.75rem] text-yellow-800"},(0,i.__)("The retention by items is available in the premium version.","advanced-database-cleaner")))))))))};function au(e){return au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(e)}function ou(e){return function(e){if(Array.isArray(e))return pu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||fu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iu(){iu=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==au(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(au(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function cu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cu(Object(r),!0).forEach((function(t){su(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function su(e,t,r){return(t=function(e){var t=function(e){if("object"!=au(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=au(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==au(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uu(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function du(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){uu(o,n,a,i,c,"next",e)}function c(e){uu(o,n,a,i,c,"throw",e)}i(void 0)}))}}function mu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||fu(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fu(e,t){if(e){if("string"==typeof e)return pu(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pu(e,t):void 0}}function pu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var hu=[{title:(0,i.__)("Posts","advanced-database-cleaner"),show:!0,items:[{key:"revisions",label:(0,i.__)("Revisions","advanced-database-cleaner"),hasKeepLast:!0,url:"https://sigmaplugin.com/blog/what-are-wordpress-revisions-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=blog-what-are-revisions"),show:!0},{key:"auto_drafts",label:(0,i.__)("Auto drafts","advanced-database-cleaner"),hasKeepLast:!0,url:"https://sigmaplugin.com/blog/what-are-wordpress-auto-drafts-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=blog-what-are-auto-drafts"),show:!0},{key:"trashed_posts",label:(0,i.__)("Trashed posts","advanced-database-cleaner"),hasKeepLast:!0,url:"https://sigmaplugin.com/blog/what-are-wordpress-trashed-posts-and-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=blog-what-are-trashed-posts"),show:!0}]},{title:(0,i.__)("Comments","advanced-database-cleaner"),show:!0,items:[{key:"unapproved_comments",label:(0,i.__)("Unapproved comments","advanced-database-cleaner"),hasKeepLast:!0,url:"https://sigmaplugin.com/blog/what-are-wordpress-unapproved-comments-and-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=blog-what-are-unapproved-comments"),show:!0},{key:"spam_comments",label:(0,i.__)("Spam comments","advanced-database-cleaner"),hasKeepLast:!0,url:"https://sigmaplugin.com/blog/what-are-wordpress-spam-comments-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=blog-what-are-spam-comments"),show:!0},{key:"trashed_comments",label:(0,i.__)("Trashed comments","advanced-database-cleaner"),hasKeepLast:!0,url:"https://sigmaplugin.com/blog/what-are-wordpress-trashed-comments-and-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=blog-what-are-trashed-comments"),show:!0},{key:"pingbacks",label:(0,i.__)("Pingbacks","advanced-database-cleaner"),hasKeepLast:!0,url:"https://sigmaplugin.com/blog/what-are-wordpress-pingbacks-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=blog-what-are-pingbacks"),show:!0},{key:"trackbacks",label:(0,i.__)("Trackbacks","advanced-database-cleaner"),hasKeepLast:!0,url:"https://sigmaplugin.com/blog/what-are-wordpress-trackbacks-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=blog-what-are-trackbacks"),show:!0}]},{title:(0,i.__)("Meta / relations","advanced-database-cleaner"),show:!0,items:[{key:"unused_postmeta",label:(0,i.__)("Unused post meta","advanced-database-cleaner"),hasKeepLast:!1,url:"https://sigmaplugin.com/blog/what-are-unused-postmeta-and-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=blog-what-are-unused-postmeta"),show:!0},{key:"duplicated_postmeta",label:(0,i.__)("Duplicated post meta","advanced-database-cleaner"),hasKeepLast:!1,url:"https://sigmaplugin.com/blog/what-are-duplicated-postmeta-and-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=blog-what-are-duplicated-postmeta"),show:!0},{key:"unused_commentmeta",label:(0,i.__)("Unused comment meta","advanced-database-cleaner"),hasKeepLast:!1,url:"https://sigmaplugin.com/blog/what-are-unused-commentmeta-and-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=blog-what-are-unused-commentmeta"),show:!0},{key:"duplicated_commentmeta",label:(0,i.__)("Duplicated comment meta","advanced-database-cleaner"),hasKeepLast:!1,url:"https://sigmaplugin.com/blog/what-are-duplicated-commentmeta-and-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=blog-what-are-duplicated-commentmeta"),show:!0},{key:"unused_usermeta",label:(0,i.__)("Unused user meta","advanced-database-cleaner"),hasKeepLast:!1,url:"https://sigmaplugin.com/blog/what-are-unused-usermeta-and-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=blog-what-are-unused-usermeta"),show:!0},{key:"duplicated_usermeta",label:(0,i.__)("Duplicated user meta","advanced-database-cleaner"),hasKeepLast:!1,url:"https://sigmaplugin.com/blog/what-are-duplicated-usermeta-and-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=blog-what-are-duplicated-usermeta"),show:!0},{key:"unused_termmeta",label:(0,i.__)("Unused term meta","advanced-database-cleaner"),hasKeepLast:!1,url:"https://sigmaplugin.com/blog/what-are-unused-termmeta-and-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=blog-what-are-unused-termmeta"),show:!0},{key:"duplicated_termmeta",label:(0,i.__)("Duplicated term meta","advanced-database-cleaner"),hasKeepLast:!1,url:"https://sigmaplugin.com/blog/what-are-duplicated-termmeta-and-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=blog-what-are-duplicated-termmeta"),show:!0},{key:"oembed_caches",label:(0,i.__)("oEmbed caches","advanced-database-cleaner"),hasKeepLast:!1,url:"https://sigmaplugin.com/blog/what-are-oembed-caches-and-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=blog-what-are-oembed-caches"),show:!0},{key:"unused_relationships",label:(0,i.__)("Unused relationships","advanced-database-cleaner"),hasKeepLast:!1,url:"https://sigmaplugin.com/blog/what-are-unused-relationships-and-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=blog-what-are-unused-relationships"),show:!0}]},{title:(0,i.__)("Transients","advanced-database-cleaner"),show:!0,items:[{key:"expired_transients",label:(0,i.__)("Expired transients","advanced-database-cleaner"),hasKeepLast:!1,url:"https://sigmaplugin.com/blog/what-are-expired-transients-and-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=blog-what-are-expired-transients"),show:!0}]},{title:(0,i.__)("Action Scheduler","advanced-database-cleaner"),show:"1"===K||"1"===$,items:[{key:"actionscheduler_completed_actions",label:(0,i.__)("Completed actions","advanced-database-cleaner"),hasKeepLast:!0,url:"https://sigmaplugin.com/blog/how-to-clean-action-scheduler-data-actions-and-logs-in-advanced-database-cleaner-premium/?utm_source=general-cleanup&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=blog-what-are-as-completed-actions"),show:"1"===K},{key:"actionscheduler_failed_actions",label:(0,i.__)("Failed actions","advanced-database-cleaner"),hasKeepLast:!0,url:"https://sigmaplugin.com/blog/how-to-clean-action-scheduler-data-actions-and-logs-in-advanced-database-cleaner-premium/?utm_source=general-cleanup&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=blog-what-are-as-failed-actions"),show:"1"===K},{key:"actionscheduler_canceled_actions",label:(0,i.__)("Canceled actions","advanced-database-cleaner"),hasKeepLast:!0,url:"https://sigmaplugin.com/blog/how-to-clean-action-scheduler-data-actions-and-logs-in-advanced-database-cleaner-premium/?utm_source=general-cleanup&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=blog-what-are-as-canceled-actions"),show:"1"===K},{key:"actionscheduler_completed_logs",label:(0,i.__)("Completed logs","advanced-database-cleaner"),hasKeepLast:!0,url:"https://sigmaplugin.com/blog/how-to-clean-action-scheduler-data-actions-and-logs-in-advanced-database-cleaner-premium/?utm_source=general-cleanup&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=blog-what-are-as-completed-logs"),show:"1"===$},{key:"actionscheduler_failed_logs",label:(0,i.__)("Failed logs","advanced-database-cleaner"),hasKeepLast:!0,url:"https://sigmaplugin.com/blog/how-to-clean-action-scheduler-data-actions-and-logs-in-advanced-database-cleaner-premium/?utm_source=general-cleanup&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=blog-what-are-as-failed-logs"),show:"1"===$},{key:"actionscheduler_canceled_logs",label:(0,i.__)("Canceled logs","advanced-database-cleaner"),hasKeepLast:!0,url:"https://sigmaplugin.com/blog/how-to-clean-action-scheduler-data-actions-and-logs-in-advanced-database-cleaner-premium/?utm_source=general-cleanup&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=blog-what-are-as-canceled-logs"),show:"1"===$},{key:"actionscheduler_orphan_logs",label:(0,i.__)("Orphan logs","advanced-database-cleaner"),hasKeepLast:!0,url:"https://sigmaplugin.com/blog/how-to-clean-action-scheduler-data-actions-and-logs-in-advanced-database-cleaner-premium/?utm_source=general-cleanup&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=blog-what-are-as-orphan-logs"),show:"1"===$}]},{title:(0,i.__)("Database","advanced-database-cleaner"),show:!0,items:[{key:"tables_to_optimize",label:(0,i.__)("Optimize tables","advanced-database-cleaner"),hasKeepLast:!1,url:"https://sigmaplugin.com/blog/what-are-tables-to-optimize-and-how-to-clean-them/?utm_source=general-cleanup&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=blog-what-are-tables-to-optimize"),show:!0},{key:"tables_to_repair",label:(0,i.__)("Repair tables","advanced-database-cleaner"),hasKeepLast:!1,url:"https://sigmaplugin.com/blog/what-are-tables-to-repair-and-how-to-clean-them/?utm_source=general-cleanup&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=blog-what-are-tables-to-repair"),show:!0}]}],vu=function(e){var t=e.actionData,r=e.checkedCount,a=(e.isLoading,e.isProcessingCleanup),o=e.onClick;return n.createElement("button",{className:"flex h-[40px] min-w-[280px] items-center justify-center gap-x-2 rounded-lg bg-blue-500 px-4 text-sm font-semibold tracking-wide text-white hover:bg-blue-600 ".concat(!r||a?"pointer-events-none opacity-80":""),disabled:!r||a,onClick:o},a&&"cleanSelectedItems"===t.actionType?n.createElement(s.JbZ,{className:"animate-spin text-[1.2rem]"}):n.createElement(oi.yRo,{className:"text-[1.2rem]"}),(0,i.__)("Run selected cleanups","advanced-database-cleaner")," (",r,")")};function yu(){var e=mu((0,n.useState)({actionType:"",itemToCleanup:"",itemsToCleanup:new Set}),2),t=e[0],r=e[1],a=mu((0,n.useState)({isOpen:!1,itemKey:"",itemLabel:""}),2),o=a[0],c=a[1],l=mu((0,n.useState)({}),2),m=l[0],f=l[1],p=mu((0,n.useState)(new Set),2),h=p[0],v=p[1],y=mu((0,n.useState)(null),2),g=y[0],b=y[1],x=mu((0,n.useState)(new Set),2),_=x[0],E=x[1],N=mu((0,n.useState)(!1),2),k=N[0],S=N[1],j=mu((0,n.useState)(!0),2),O=j[0],T=j[1],I=(0,d.d4)((function(e){return e.action.processAction})),C=(0,d.wA)(),F=(0,n.useMemo)((function(){return hu.filter((function(e){return e.show})).flatMap((function(e){return e.items.filter((function(e){return e.show})).map((function(e){return e.key}))}))}),[]),M=(0,n.useMemo)((function(){return hu.filter((function(e){return e.show})).flatMap((function(e){return e.items.filter((function(e){return e.show})).filter((function(e){return e.hasKeepLast})).map((function(e){return e.key}))}))}),[]),G=(0,n.useMemo)((function(){var e=0,t=0;return Object.values(m).forEach((function(r){r&&(e+=Number(r.size||0),t+=Number(r.count||0))})),{size:e,count:t}}),[m]),D=h.size>0;(0,n.useEffect)((function(){U(),T(!1)}),[]),(0,n.useEffect)((function(){W()}),[I]);var R=function(){var e=du(iu().mark((function e(t){var r,n;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ms({itemsType:t});case 3:r=e.sent,(n=r.data)&&n.items&&n.items[t]&&f((function(e){return lu(lu({},e),{},su({},t,n.items[t]))})),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:return e.prev=10,v((function(e){var r=new Set(e);return r.delete(t),r})),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,8,10,13]])})));return function(t){return e.apply(this,arguments)}}(),B=function(e){v((function(t){return new Set(t).add(e)})),R(e)},U=function(){var e=F.filter((function(e){return!h.has(e)}));0!==e.length&&(v((function(t){var r=new Set(t);return e.forEach((function(e){return r.add(e)})),r})),e.forEach((function(e){R(e)})))},W=function(){var e=du(iu().mark((function e(){var n,a,o,c,l,s;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=2;break}return e.abrupt("return");case 2:if(S(!0),E(new Set),n=new Set,e.prev=5,"cleanOneItem"!==t.actionType){e.next=15;break}return a=t.itemToCleanup,b(a),e.next=11,Ds({itemsType:a});case 11:E((function(e){return new Set([].concat(ou(e),[a]))})),n.add(a),e.next=24;break;case 15:if("cleanSelectedItems"!==t.actionType){e.next=24;break}o=Array.from(t.itemsToCleanup),c=iu().mark((function e(){var t;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s[l],b(t),e.next=4,Ds({itemsType:t});case 4:E((function(e){return new Set([].concat(ou(e),[t]))})),n.add(t);case 6:case"end":return e.stop()}}),e)})),l=0,s=o;case 19:if(!(l<s.length)){e.next=24;break}return e.delegateYield(c(),"t0",21);case 21:l++,e.next=19;break;case 24:n.forEach((function(e){return B(e)})),r({actionType:"",itemToCleanup:"",itemsToCleanup:new Set}),Ot(C,(0,i.__)("Cleanup completed successfully!","advanced-database-cleaner")),e.next=32;break;case 29:e.prev=29,e.t1=e.catch(5),Pt(C,e.t1.message);case 32:return e.prev=32,C(Cf()),b(null),S(!1),E(new Set),e.finish(32);case 38:case"end":return e.stop()}}),e,null,[[5,29,32,38]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){if(0!==t.itemsToCleanup.size){r((function(e){return lu(lu({},e),{},{actionType:"cleanSelectedItems",itemToCleanup:""})})),C(Of({actionType:"run_general_cleanup",itemsType:null}));var e=["tables_to_optimize","tables_to_repair"];ou(t.itemsToCleanup).every((function(t){return e.includes(t)}))?C(Tf()):C(ia({type:"delete",title:(0,i.sprintf)((0,i.__)("Clean %d selected items?","advanced-database-cleaner"),t.itemsToCleanup.size),message:(0,i.__)("Once cleaned, this action cannot be undone!","advanced-database-cleaner"),confirmLabel:(0,i.__)("Clean up","advanced-database-cleaner"),dbBackupWarning:!0}))}},q=function(){c({isOpen:!1,itemKey:"",itemLabel:""})},H=(0,n.useMemo)((function(){return hu.filter((function(e){return e.show})).map((function(e){return{title:e.title,rows:e.items.filter((function(e){return e.show})).map((function(e){var t,r=e.key;return lu(lu({key:r,label:e.label,hasKeepLast:e.hasKeepLast,url:e.url},null!==(t=m[r])&&void 0!==t?t:{}),{},{isLoading:h.has(r)})}))}}))}),[m,h]),V=t.itemsToCleanup.size===F.length&&F.length>0,Q=t.itemsToCleanup.size,J=n.createElement(s.JbZ,{className:"animate-spin text-[1.2rem] text-black"}),X=D||O,Z="bg-orange-100";return Z=X||0!=G.size?Z:"bg-green-100",n.createElement("div",null,n.createElement("div",{className:"flex w-full flex-col"},n.createElement("div",{className:"mb-8 flex flex-col justify-between gap-2 lg:flex-row"},n.createElement(vu,{actionData:t,checkedCount:Q,isLoading:D,isProcessingCleanup:k,onClick:Y}),n.createElement("div",{className:"flex flex-row gap-6 2xl:min-w-[220px] 2xl:flex-col"},n.createElement("div",{className:"flex h-[40px] items-center rounded-xl px-3 py-1 ".concat(Z)},G.size>0?n.createElement("div",{className:"flex flex-row items-center justify-center gap-[1px]"},n.createElement(he.q53,{className:"mr-2 h-[25px] w-[25px] text-orange-600"}),n.createElement("span",{className:"text-gray-600"},n.createElement("span",{className:"font-bold text-gray-600"},G.count)," ",(0,i.__)("items to clean up","advanced-database-cleaner")),".",n.createElement("span",{className:"ml-1 text-gray-600"},(0,i.__)("You can save:","advanced-database-cleaner")," ",n.createElement("span",{className:"font-bold text-gray-600"},st(G.size))),D&&n.createElement("div",{className:"ml-3 flex items-center gap-1 border-l border-gray-300 pl-3 text-xs text-gray-500"},n.createElement(s.JbZ,{className:"animate-spin"}),(0,i.__)("Calculating...","advanced-database-cleaner"))):n.createElement("div",{className:"flex w-full items-center justify-center gap-2"},X?n.createElement(n.Fragment,null,n.createElement(s.JbZ,{className:"animate-spin text-[1.2rem] text-gray-600"}),n.createElement("span",{className:"text-sm text-gray-600"},(0,i.__)("Calculating...","advanced-database-cleaner"))):n.createElement(n.Fragment,null,n.createElement(u.cpe,{className:"h-[30px] w-[30px] rounded-full bg-green-100 p-[5px] text-green-600"}),(0,i.__)("All items cleaned!","advanced-database-cleaner")))))),n.createElement("div",{className:"overflow-x-auto"},n.createElement("ul",{role:"list",className:"w-full min-w-[900px] overflow-hidden shadow-sm"},n.createElement("li",{className:"rounded-lg bg-gray-200 text-black"},n.createElement("div",{className:"flex items-center gap-x-2 rounded-lg px-4 py-3 text-[.83rem] font-semibold"},n.createElement("span",{className:"w-[30px]"},n.createElement("input",{type:"checkbox",checked:V,onChange:function(){r((function(e){return lu(lu({},e),{},{itemsToCleanup:e.itemsToCleanup.size===F.length?new Set:new Set(F)})}))},disabled:k})),n.createElement("span",{className:"w-[250px] border-r border-gray-300"},(0,i.__)("Items to clean","advanced-database-cleaner")),n.createElement("span",{className:"w-[90px] border-r border-gray-300 text-center"},(0,i.__)("Count","advanced-database-cleaner")),n.createElement("span",{className:"w-[100px] border-r border-gray-300 text-center"},(0,i.__)("Lost space","advanced-database-cleaner")),n.createElement("span",{className:"w-[90px] border-r border-gray-300 text-center"},(0,i.__)("View","advanced-database-cleaner")),n.createElement("span",{className:"w-[150px] border-r border-gray-300 text-center"},n.createElement("div",{className:"flex items-center justify-center gap-x-2"},(0,i.__)("Keep last","advanced-database-cleaner"),n.createElement(L,{content:(0,i.__)("Keep data from the last X days from being displayed or cleaned. The plugin will only show and clean data older than the number of days or items you specify.","advanced-database-cleaner"),position:"bottom"},n.createElement(ge.Zel,{className:"mt-[3px] !h-[15px] !w-[15px] rounded-full border border-gray-300 bg-white p-[1px] text-gray-700"})))),n.createElement("span",{className:"ml-auto"},n.createElement(P,{href:"#",onClick:function(e){e.preventDefault(),U()}},n.createElement(s.JbZ,{className:"text-[1.1rem] ".concat(D?"animate-spin":"")}))))),H.map((function(e){return n.createElement("li",{key:"group-"+e.title,className:"mt-3 first:mt-2"},n.createElement(Ps.EN,{defaultOpen:!0},(function(a){var o=a.open;return n.createElement(n.Fragment,null,n.createElement(Ps._q,{className:"mb-2 flex w-full items-center justify-between gap-2 rounded-md border-gray-300 bg-gray-100 py-[5px] pl-4 pr-2 text-left font-bold text-gray-800 hover:bg-gray-100"},n.createElement("span",null,e.title),n.createElement(oi.bv7,{className:"rounded-sm bg-gray-100 p-1 text-[20px] text-black transition-transform ".concat(o?"rotate-180":"")})),n.createElement(Ps.kS,{as:"ul",unmount:!1},e.rows.map((function(e,a){var o=t.itemsToCleanup.has(e.key),l=o?"bg-gray-200":a%2?"bg-gray-50":"bg-white",u=g===e.key,d=e.isLoading;return n.createElement("li",{key:"row-"+e.key,className:"flex items-center gap-x-2 rounded-xl border-x border-b border-gray-200/60 px-4 py-[4px] transition-all duration-200 ".concat(l," hover:bg-gray-200")},n.createElement("span",{className:"w-[30px] py-3"},n.createElement("input",{type:"checkbox",checked:o,onChange:function(){return t=e.key,void r((function(e){var r=new Set(e.itemsToCleanup);return r.has(t)?r.delete(t):r.add(t),lu(lu({},e),{},{itemsToCleanup:r})}));var t},disabled:d||k})),n.createElement("span",{className:"flex w-[250px] items-center gap-2 py-3"},n.createElement(P,{href:e.url,target:"_blank"},n.createElement(de.wfp,{className:"text-[1.1rem] text-blue-400 hover:text-black"})),n.createElement("p",{className:"text-[.85rem] font-semibold text-black"},e.label)),n.createElement("span",{className:"flex w-[90px] justify-end gap-2 py-[2px] pr-6 text-[1rem] font-bold"},d?J:n.createElement("div",{className:"flex items-center  gap-2"},n.createElement("div",{className:"flex flex-col items-end"},n.createElement("span",{className:"".concat(!_.has(e.key)&&e.count?"text-red-500":"text-gray-400")},_.has(e.key)?0:e.count||0)),n.createElement("button",{type:"button",onClick:function(t){t.preventDefault(),B(e.key)},className:"text-gray-400 transition-colors hover:text-blue-500",title:(0,i.__)("Refresh","advanced-database-cleaner")},n.createElement(s.JbZ,{className:"text-[0.9rem]"})))),"tables_to_repair"===e.key?n.createElement("span",{className:"flex w-[100px] justify-end gap-2 py-3 pr-6 text-[.85rem]"},"-"):n.createElement("span",{className:"flex w-[100px] justify-end gap-2 py-3 pr-6 text-[.85rem]"},d?J:n.createElement("div",{className:"flex flex-col items-end"},n.createElement("span",{className:"text-[.84rem] text-gray-800"},!_.has(e.key)&&e.size?" ".concat(st(e.size)):(0,i.__)("0 KB","advanced-database-cleaner")))),"tables_to_optimize"===e.key||"tables_to_repair"===e.key?n.createElement("span",{className:"flex w-[90px] justify-center"},"-"):n.createElement("span",{className:"flex w-[90px] justify-center"},n.createElement(P,{href:Cm(e.key),target:"_blank",className:"".concat(d?"pointer-events-none opacity-50":""," ").concat(e.count<=0?"pointer-events-none opacity-40":""),onClick:function(t){return function(e,t){e.preventDefault(),C(Mm({subTabId:t})),C(Af()),C(ze())}(t,e.key)}},n.createElement(pe.GNz,{className:"text-[1.3rem]"}))),"tables_to_optimize"===e.key||"tables_to_repair"===e.key?n.createElement("span",{className:"flex w-[150px] items-center justify-end gap-1 py-3 pr-8"},"-"):n.createElement("span",{className:"flex w-[150px] items-center justify-end gap-2 py-3 pr-8 ".concat(d?"opacity-50":"")},e.hasKeepLast?n.createElement(n.Fragment,null,e.keep_last&&(e.keep_last.value||0===e.keep_last.value)?n.createElement("span",{className:"flex items-center gap-1"},n.createElement("span",{className:"text-[.85rem] font-semibold text-gray-800"},e.keep_last.value),n.createElement("span",{className:"text-[.85rem] text-gray-600"},e.keep_last.type)):n.createElement(n.Fragment,null,!d&&(0,i.__)("0 days","advanced-database-cleaner")),!d&&n.createElement("div",null,n.createElement(ht.mkM,{className:"h-[13px] w-[13px] cursor-pointer text-[1rem] text-blue-600 hover:text-blue-700",onClick:function(){return t=e.key,r=e.label,void c({isOpen:!0,itemKey:t,itemLabel:r});var t,r}}))):n.createElement("span",{className:"text-gray-500"},(0,i.__)("N/A","advanced-database-cleaner"))),n.createElement("span",{className:"ml-auto"},n.createElement(w,{text:u?J:(0,i.__)("Run cleanup","advanced-database-cleaner"),className:"!h-[1.8rem] ".concat(!e.count||k||d?"pointer-events-none opacity-60":""),disabled:d||!e.count||k,onClick:function(){return n=e.key,a=e.label,r({actionType:"cleanOneItem",itemToCleanup:n,itemsToCleanup:t.itemsToCleanup}),C(Of({actionType:"run_general_cleanup",itemsType:null})),void C("tables_to_optimize"===n||"tables_to_repair"===n?Tf():ia({type:"delete",title:(0,i.sprintf)((0,i.__)("Clean all %s?","advanced-database-cleaner"),a.toLowerCase()),message:(0,i.__)("Once cleaned, this action cannot be undone!","advanced-database-cleaner"),confirmLabel:(0,i.__)("Clean up","advanced-database-cleaner"),dbBackupWarning:!0}));var n,a}})))}))))})))})),"FREE"===z&&("1"===K||"1"===$)&&n.createElement("li",{key:"group-action-scheduler-free",className:"mt-3 first:mt-2"},n.createElement(Ps.EN,{defaultOpen:!0},(function(e){var t=e.open;return n.createElement(n.Fragment,null,n.createElement(Ps._q,{className:"mb-2 flex w-full items-center justify-between gap-2 rounded-md border-gray-300 bg-gray-100 py-[5px] pl-4 pr-2 text-left font-bold text-gray-800 hover:bg-gray-100"},n.createElement("span",null,(0,i.__)("Action Scheduler","advanced-database-cleaner")),n.createElement(oi.bv7,{className:"rounded-sm bg-gray-100 p-1 text-[20px] text-black transition-transform ".concat(t?"rotate-180":"")})),n.createElement("div",{className:"relative"},n.createElement(Ps.kS,{as:"ul",unmount:!1,className:"pointer-events-none blur-[1px]"},function(){var e=[{id:"completed-actions",label:(0,i.__)("Completed actions","advanced-database-cleaner"),count:15,lost:"20",show:!0},{id:"failed-actions",label:(0,i.__)("Failed actions","advanced-database-cleaner"),count:8,lost:"10",show:!0},{id:"canceled-actions",label:(0,i.__)("Canceled actions","advanced-database-cleaner"),count:25,lost:"210",show:!0},{id:"completed-logs",label:(0,i.__)("Completed logs","advanced-database-cleaner"),count:12,lost:"28",show:!0},{id:"failed-logs",label:(0,i.__)("Failed logs","advanced-database-cleaner"),count:5,lost:"15",show:!0},{id:"canceled-logs",label:(0,i.__)("Canceled logs","advanced-database-cleaner"),count:18,lost:"120",show:!0},{id:"orphan-logs",label:(0,i.__)("Orphan logs","advanced-database-cleaner"),count:7,lost:"8",show:!0}];return n.createElement(n.Fragment,null,e.map((function(e){return e.show&&n.createElement("li",{key:"row-"+e.id,className:"flex items-center gap-x-2 rounded-xl border-x border-b border-gray-200/60 px-4 py-[4px] transition-all duration-200"},n.createElement("span",{className:"w-[30px] py-3"},n.createElement("input",{type:"checkbox"})),n.createElement("span",{className:"flex w-[250px] items-center gap-2 py-3"},n.createElement(de.wfp,{className:"text-[1.1rem] text-blue-400"}),n.createElement("p",{className:"text-[.85rem] font-semibold text-black"},e.label)),n.createElement("span",{className:"flex w-[90px] justify-end gap-2 py-[2px] pr-6 text-[1rem] font-bold"},n.createElement("div",{className:"flex flex-col items-end"},n.createElement("span",{className:"text-red-500"},e.count))),n.createElement("span",{className:"flex w-[100px] justify-end gap-2 py-3 pr-6 text-[.85rem]"},e.lost+" "+(0,i.__)("KB","advanced-database-cleaner")),n.createElement("span",{className:"flex w-[90px] justify-center"},n.createElement(pe.GNz,{className:"text-[1.3rem]"})),n.createElement("span",{className:"flex w-[150px] items-center justify-end gap-2 py-3 pr-8"},n.createElement(n.Fragment,null,(0,i.__)("0 days","advanced-database-cleaner")),n.createElement("div",null,n.createElement(ht.mkM,{className:"h-[13px] w-[13px] cursor-pointer text-[1rem] text-blue-600 hover:text-blue-700"}))),n.createElement("span",{className:"ml-auto"},n.createElement(w,{className:"pointer-events-none !h-[1.8rem] opacity-80",disabled:!0,text:(0,i.__)("Run cleanup","advanced-database-cleaner")})))})))}()),t&&n.createElement("div",{className:"absolute left-1/2 top-1/2 z-10 -translate-x-1/2 -translate-y-1/2 transform"},n.createElement("div",{className:"mx-4 max-h-[450px] min-w-[500px] border border-gray-200 bg-white p-8 shadow-2xl"},n.createElement("div",{className:"text-center"},n.createElement("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-gradient-to-r from-yellow-400 to-orange-500"},n.createElement(s.xGQ,{className:"h-6 w-6 text-white"})),n.createElement("h3",{className:"mb-1 text-[.95rem] font-semibold text-gray-900"},(0,i.__)("Unlock the Action Scheduler Cleanup","advanced-database-cleaner")),n.createElement("p",{className:"mb-4 text-gray-600"},(0,i.__)("Upgrade to the Premium to clean up old or unused Action Scheduler data.","advanced-database-cleaner")),n.createElement(P,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=general-cleanup-action-scheduler&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"group block transform rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-2 text-center !text-[.9rem] font-medium text-white !no-underline shadow-lg transition-all hover:from-blue-700 hover:to-purple-700 hover:!text-white focus:!text-white"},n.createElement("span",{className:"flex items-center justify-center gap-2"},(0,i.__)("Upgrade","advanced-database-cleaner"),n.createElement(A.L2n,{className:"mt-[4px] h-4 w-4 transition-transform duration-200 group-hover:translate-x-0.5"}))))))))}))))),n.createElement("div",{className:"mt-5 flex w-full items-center"},n.createElement(vu,{actionData:t,checkedCount:Q,isLoading:D,isProcessingCleanup:k,onClick:Y}))),n.createElement(nu,{isOpen:o.isOpen,itemKey:o.itemKey,itemLabel:o.itemLabel,onClose:q,onSave:function(){M.forEach(B),q()},allItemKeys:M}))}function gu(e){return gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(e)}function bu(){bu=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==gu(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(gu(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function xu(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function wu(){return _u.apply(this,arguments)}function _u(){var e;return e=bu().mark((function e(){return bu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/get-system-information",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})),_u=function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){xu(o,n,a,i,c,"next",e)}function c(e){xu(o,n,a,i,c,"throw",e)}i(void 0)}))},_u.apply(this,arguments)}function Eu(e){return Eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(e)}function Nu(){Nu=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Eu(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(Eu(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function ku(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Su(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){ku(o,n,a,i,c,"next",e)}function c(e){ku(o,n,a,i,c,"throw",e)}i(void 0)}))}}function Lu(e){return ju.apply(this,arguments)}function ju(){return(ju=Su(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/get-logs-content",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ou(e){return Tu.apply(this,arguments)}function Tu(){return(Tu=Su(Nu().mark((function e(t){return Nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/clear-logs-content",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Iu(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Iu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Iu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Cu(e){return Cu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(e)}function Au(e){return Au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(e)}function Fu(){Fu=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Au(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(Au(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Mu(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Gu(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Mu(o,n,a,i,c,"next",e)}function c(e){Mu(o,n,a,i,c,"throw",e)}i(void 0)}))}}function Du(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zu(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Ru=function(e){var t,r,a=e.contentType,o=Du((0,n.useState)(""),2),l=o[0],u=o[1],m=Du((0,n.useState)(!0),2),f=m[0],p=m[1],h=Du((0,n.useState)(!1),2),v=h[0],y=h[1],g=(0,d.d4)((function(e){return e.action})),b=(0,d.wA)(),x="system-info"===a,_="wp-debug"===a;(0,n.useEffect)((function(){N()}),[g]),(0,n.useEffect)((function(){k()}),[]);var E,N=function(){var e=Gu(Fu().mark((function e(){var t;return Fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("clear_log"!==g.actionType||!g.processAction){e.next=15;break}return e.prev=1,e.next=4,Ou();case 4:t=e.sent,u(""),Ot(b,null==t?void 0:t.message),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),Pt(b,e.t0.message);case 12:return e.prev=12,b(Cf()),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Gu(Fu().mark((function e(){var t;return Fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p(!0),e.prev=1,!x){e.next=8;break}return e.next=5,wu();case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,Lu({log_type:a});case 10:t=e.sent;case 11:t&&u(t),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),u({success:!1,message:e.t0.message});case 17:return e.prev=17,p(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[1,14,17,20]])})));return function(){return e.apply(this,arguments)}}();return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex flex-col gap-4 xl:flex-row"},n.createElement("div",{className:"adbc-custom-scrollbar relative flex h-[500px] min-h-[600px] flex-1 resize-y flex-col gap-2 overflow-x-auto overflow-y-auto whitespace-pre-line rounded-md bg-slate-700 px-5 py-6 pr-4 text-gray-200"},f?n.createElement("div",{className:"absolute left-0 top-0 z-10 flex h-full w-full items-center justify-center bg-transparent bg-opacity-80"},n.createElement(C,{spinnerColor:"text-white"})):x?n.createElement("div",{id:"adbc-"+a,className:"flex-shrink-0 font-mono"},"object"===Cu(E=null==l?void 0:l.data)&&null!==E&&Object.keys(E).length?Object.entries(E).map((function(e,t){var r=Pu(e,2),a=r[0],o=r[1];return n.createElement("div",{key:a,className:"min-w-[500px]"},n.createElement("div",{className:"mb-4 flex justify-between border-b border-gray-500 pb-2"},0===t&&n.createElement("span",{className:"order-2 text-xs italic"},(0,i.__)("Generated on:","advanced-database-cleaner")," ",o.generated_on," ",(0,i.__)("[Server time]","advanced-database-cleaner")),n.createElement("span",{className:"order-1 text-[15px] font-semibold"},"# ",o.title)),o.data&&Object.keys(o.data).length>0?n.createElement("div",{className:"mb-4 ml-4 text-[.83rem]"},Object.entries(o.data).map((function(e,t){var r=Pu(e,2)[1];return n.createElement("div",{key:a+t},"string"==typeof r&&r.includes("adbc_hidden")?null:r)}))):n.createElement("div",{className:"mb-4 ml-4 text-[.83rem] italic"},"- ",(0,i.__)("No data available","advanced-database-cleaner")))})):n.createElement("div",null,(0,i.__)("Invalid or empty system information","advanced-database-cleaner"))):n.createElement("div",{className:"font-mono text-[.8rem]"},null!=l&&l.success?null!=l&&null!==(t=l.data)&&void 0!==t&&t.content?n.createElement("div",{className:"flex gap-3"},n.createElement("div",{className:"min-w-[35px] flex-shrink-0 select-none rounded-sm bg-slate-800/50 px-[5px] pr-2 text-right text-amber-500"},l.data.content.split("\n").map((function(e,t){return n.createElement("div",{key:"line-"+t},t+1)}))),n.createElement("div",{id:"adbc-"+a,className:"flex-shrink-0 pr-4"},l.data.content)):(0,i.__)("Empty!","advanced-database-cleaner"):null==l?void 0:l.message)),n.createElement("div",{className:"flex min-w-[140px] flex-row gap-3 xl:flex-col"},n.createElement(w,{Icon:s.JbZ,text:(0,i.__)("Refresh","advanced-database-cleaner"),className:"",onClick:k,disabled:f}),(x||(null==l?void 0:l.success)&&(null==l||null===(r=l.data)||void 0===r?void 0:r.content))&&n.createElement(n.Fragment,null,n.createElement(w,{Icon:Yo.a4x,text:(0,i.__)("Download file","advanced-database-cleaner"),className:"",onClick:function(){!function(e){var t=document.getElementById(e);if(t){var r=document.createElement("a"),n=t.innerText,a=new Blob([n],{type:"text/plain"});r.href=URL.createObjectURL(a),r.download="".concat(e,".txt"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}}("adbc-"+a)},disabled:f}),n.createElement(w,{Icon:v?c.ELp:pe.SD3,text:v?(0,i.__)("Copied","advanced-database-cleaner"):(0,i.__)("Copy","advanced-database-cleaner"),className:"",onClick:function(){pt("adbc-"+a)?(y(!0),setTimeout((function(){return y(!1)}),1e3)):Pt(b)},disabled:f||v}),!x&&!_&&n.createElement(w,{Icon:c.Qiw,text:(0,i.__)("Clear","advanced-database-cleaner"),className:"",onClick:function(){var e={type:"question",title:(0,i.__)("Clear the log?","advanced-database-cleaner"),message:(0,i.__)("Are you sure you want to clear the log?","advanced-database-cleaner"),confirmLabel:(0,i.__)("Clear","advanced-database-cleaner"),dbBackupWarning:!1};!function(e,t,r){e(Of({actionType:"clear_log",itemsType:null})),e(ia(r))}(b,0,e)},disabled:f})))),n.createElement("div",{className:"mt-4 flex text-[.75rem] text-gray-400"},(0,i.__)("(All dates/times in the logs are shown in your server's time zone)","advanced-database-cleaner")))};var Bu=[{id:"system-info",name:(0,i.__)("System info","advanced-database-cleaner"),component:n.createElement(Ru,{contentType:"system-info"}),Icon:A.ZLq},{id:"debug",name:(0,i.__)("Errors log","advanced-database-cleaner"),component:n.createElement(Ru,{contentType:"debug"}),Icon:ye.sAL},{id:"wp-debug",name:(0,i.__)("WP debug","advanced-database-cleaner"),component:n.createElement(Ru,{contentType:"wp-debug"}),Icon:me.tYL}];var Uu=[{key:"option_name",label:(0,i.__)("Option name","advanced-database-cleaner"),sortable:!0,contentType:"string",width:"min-w-[260px] !pr-4",visibility:""},{key:"value",label:(0,i.__)("Value","advanced-database-cleaner"),sortable:!1,contentType:"string",width:"min-w-[220px]",visibility:""},{key:"size",label:(0,i.__)("Size","advanced-database-cleaner"),sortable:!0,contentType:"int",width:"min-w-[80px] max-w-[150px]",visibility:""},{key:"autoload",label:(0,i.__)("Autoload","advanced-database-cleaner"),sortable:!0,contentType:"string",tooltipText:(0,i.__)("Indicates whether an option is autoloaded or not. Values to autoload are: yes, on, auto, auto-on. Values to not autoload are: no, off, auto-off","advanced-database-cleaner"),width:"min-w-[80px] max-w-[150px]",visibility:""},{key:"site_id",label:(0,i.__)("Site","advanced-database-cleaner"),sortable:!0,contentType:"int",width:"min-w-[80px] max-w-[150px]",visibility:"1"===U?"":"hidden"},{key:"belongs_to",label:(0,i.__)("Belongs to","advanced-database-cleaner"),sortable:!1,contentType:"string",tooltipText:(0,i.__)("The plugin or theme the item belongs to, determined after running a scan. If uncertain, an estimated likelihood (%) is shown, the higher the percentage, the more likely the item belongs to that plugin/theme.","advanced-database-cleaner"),width:"min-w-[280px]",visibility:""}],Wu=[[{key:"bulk_actions",label:(0,i.__)("Bulk actions","advanced-database-cleaner")}],[{key:"scan_options",label:"FREE"===z?n.createElement("span",{className:"flex items-center"},(0,i.__)("Scan","advanced-database-cleaner"),n.createElement("span",{className:"ml-1 flex items-center gap-1 !text-[.75rem] font-semibold text-yellow-600"},n.createElement(s.xGQ,{className:"text-[.9rem] text-yellow-500"}),(0,i.__)("(premium)","advanced-database-cleaner"))):(0,i.__)("Scan","advanced-database-cleaner"),tooltipText:n.createElement("span",null,(0,i.__)("The scan allows the identification of the plugins or themes to which the items belong.","advanced-database-cleaner"),"FREE"===z&&n.createElement("div",{className:"flex text-yellow-600"},(0,i.__)("Available in the premium version.","advanced-database-cleaner"))),disabled:"FREE"===z},{key:"edit_scan_results_options",label:(0,i.__)("Edit scan result","advanced-database-cleaner"),tooltipText:(0,i.__)("You can edit the scan results to correctly associate items with their respective plugins or themes if you are certain of their belonging.","advanced-database-cleaner"),isVisible:"PREMIUM"===z}],[{key:"set_autoload_to_yes_options",label:(0,i.__)("Set autoload to Yes","advanced-database-cleaner"),tooltipText:(0,i.__)("Setting autoload to Yes can decrease the performance of your website if you have a lot of options set to autoload.","advanced-database-cleaner")},{key:"set_autoload_to_no_options",label:(0,i.__)("Set autoload to No","advanced-database-cleaner"),tooltipText:(0,i.__)("Setting autoload to No can improve the performance of your website by reducing the number of options loaded on each page.","advanced-database-cleaner")}],[{key:"delete_options",label:(0,i.__)("Delete","advanced-database-cleaner"),tooltipText:(0,i.__)("Delete the selected items.","advanced-database-cleaner"),danger:!0}]];var Yu=[{key:"meta_key",label:(0,i.__)("Meta key","advanced-database-cleaner"),sortable:!0,contentType:"string",width:"min-w-[260px] !pr-4",visibility:""},{key:"value",label:(0,i.__)("Value","advanced-database-cleaner"),sortable:!1,contentType:"string",width:"min-w-[220px]",visibility:""},{key:"size",label:(0,i.__)("Size","advanced-database-cleaner"),sortable:!0,contentType:"int",width:"min-w-[80px] max-w-[150px]",visibility:""},{key:"post_id",label:(0,i.__)("Post ID","advanced-database-cleaner"),sortable:!0,contentType:"int",width:"min-w-[80px] max-w-[150px]",visibility:""},{key:"site_id",label:(0,i.__)("Site","advanced-database-cleaner"),sortable:!0,contentType:"int",width:"min-w-[80px] max-w-[150px]",visibility:"1"===U?"":"hidden"},{key:"belongs_to",label:(0,i.__)("Belongs to","advanced-database-cleaner"),sortable:!1,contentType:"string",tooltipText:(0,i.__)("The plugin or theme the item belongs to, determined after running a scan. If uncertain, an estimated likelihood (%) is shown, the higher the percentage, the more likely the item belongs to that plugin/theme.","advanced-database-cleaner"),width:"min-w-[280px]",visibility:""}],Ku=[[{key:"bulk_actions",label:(0,i.__)("Bulk actions","advanced-database-cleaner")}],[{key:"scan_posts_meta",label:"FREE"===z?n.createElement("span",{className:"flex items-center"},(0,i.__)("Scan","advanced-database-cleaner"),n.createElement("span",{className:"ml-1 flex items-center gap-1 !text-[.75rem] font-semibold text-yellow-600"},n.createElement(s.xGQ,{className:"text-[.9rem] text-yellow-500"}),(0,i.__)("(premium)","advanced-database-cleaner"))):(0,i.__)("Scan","advanced-database-cleaner"),tooltipText:n.createElement("span",null,(0,i.__)("The scan allows the identification of the plugins or themes to which the items belong.","advanced-database-cleaner"),"FREE"===z&&n.createElement("div",{className:"flex text-yellow-600"},(0,i.__)("Available in the premium version.","advanced-database-cleaner"))),disabled:"FREE"===z},{key:"edit_scan_results_posts_meta",label:(0,i.__)("Edit scan result","advanced-database-cleaner"),tooltipText:(0,i.__)("You can edit the scan results to correctly associate items with their respective plugins or themes if you are certain of their belonging.","advanced-database-cleaner"),isVisible:"PREMIUM"===z}],[{key:"delete_posts_meta",label:(0,i.__)("Delete","advanced-database-cleaner"),tooltipText:(0,i.__)("Delete the selected items.","advanced-database-cleaner"),danger:!0}]];var $u=r(6037);function qu(e){return qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(e)}function Hu(){Hu=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==qu(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(qu(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Vu(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Qu(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Vu(o,n,a,i,c,"next",e)}function c(e){Vu(o,n,a,i,c,"throw",e)}i(void 0)}))}}function Ju(e){return Xu.apply(this,arguments)}function Xu(){return(Xu=Qu(Hu().mark((function e(t){return Hu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/activate-license",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zu(){return ed.apply(this,arguments)}function ed(){return(ed=Qu(Hu().mark((function e(){return Hu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/deactivate-license",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function td(){return rd.apply(this,arguments)}function rd(){return(rd=Qu(Hu().mark((function e(){return Hu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(Y+"/refresh-license",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nd(e){return nd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(e)}var ad=(0,m.Z0)({name:"setting",initialState:{leftMenu:"1"===F.left_menu,toolsMenu:"1"===F.tools_menu,networkMenu:"1"===F.network_menu,hiddenTabs:F&&"object"===nd(F.hidden_tabs)?Object.values(F.hidden_tabs):[],fileLinesBatches:F.file_lines_batch,fileContentChunks:F.file_content_chunks,maxExecutionTime:F.scan_max_execution_time,databaseRowsBatches:F.database_rows_batch,cleanupMethod:F.sql_or_native_cleanup_method||"sql",sendCorrectionsToServer:"1"===F.send_corrections_to_server,reduceCpuUsage:"1"===F.reduce_cpu_usage,cpuWorkTime:F.cpu_work_time_ms,cpuRestTime:F.cpu_rest_time_ms,analyticsEnabled:"1"===F.analytics_enabled,addonsActivityEnabled:"1"===F.addons_activity_enabled,showTablesWithInvalidPrefix:"1"===F.show_tables_with_invalid_prefix,sideBarIsExpanded:"1"===F.sidebar_is_expanded,licenseKey:(null==M?void 0:M.key)||"",licenseStatus:(null==M?void 0:M.status)||"",licenseExpires:(null==M?void 0:M.expires)||"",licensePriceId:(null==M?void 0:M.price_id)||""},reducers:{setLeftMenu:function(e,t){e.leftMenu=t.payload},setToolsMenu:function(e,t){e.toolsMenu=t.payload},setNetworkMenu:function(e,t){e.networkMenu=t.payload},hideTab:function(e,t){e.hiddenTabs.push(t.payload)},showTab:function(e,t){e.hiddenTabs=e.hiddenTabs.filter((function(e){return e!==t.payload}))},setScanSettings:function(e,t){e.fileLinesBatches=t.payload.fileLinesBatches,e.fileContentChunks=t.payload.fileContentChunks,e.maxExecutionTime=t.payload.maxExecutionTime},SetSendCorrectionsToServer:function(e,t){e.sendCorrectionsToServer=t.payload},setCpuSettings:function(e,t){e.cpuWorkTime=t.payload.cpuWorkTime,e.cpuRestTime=t.payload.cpuRestTime},SetReduceCpuUsage:function(e,t){e.reduceCpuUsage=t.payload},setPerformanceSettings:function(e,t){e.databaseRowsBatches=t.payload.databaseRowsBatches,e.cleanupMethod=t.payload.cleanupMethod},setAnalyticsEnabled:function(e,t){e.analyticsEnabled=t.payload},setAddonsActivityEnabled:function(e,t){e.addonsActivityEnabled=t.payload},setShowTablesWithInvalidPrefix:function(e,t){e.showTablesWithInvalidPrefix=t.payload},setSideBarIsExpanded:function(e,t){e.sideBarIsExpanded=t.payload},setLicenseData:function(e,t){e.licenseKey=t.payload.key||"",e.licenseStatus=t.payload.status||"",e.licenseExpires=t.payload.expires||"",e.licensePriceId=t.payload.price_id||""}}}),od=ad.actions,id=od.setLeftMenu,cd=od.setToolsMenu,ld=od.setNetworkMenu,sd=od.hideTab,ud=od.showTab,dd=od.setScanSettings,md=(od.SetSendCorrectionsToServer,od.setCpuSettings),fd=od.SetReduceCpuUsage,pd=od.setPerformanceSettings,hd=od.setAnalyticsEnabled,vd=od.setAddonsActivityEnabled,yd=od.setShowTablesWithInvalidPrefix,gd=od.setSideBarIsExpanded,bd=od.setLicenseData;const xd=ad.reducer;function wd(e){return wd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(e)}function _d(){_d=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==wd(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(wd(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Ed(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Nd(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Ed(o,n,a,i,c,"next",e)}function c(e){Ed(o,n,a,i,c,"throw",e)}i(void 0)}))}}function kd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Sd(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Sd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Ld=function(){var e,t=kd((0,n.useState)(""),2),r=t[0],a=t[1],o=kd((0,n.useState)(!1),2),c=o[0],l=o[1],m=kd((0,n.useState)(!1),2),f=m[0],p=m[1],v=kd((0,n.useState)(!1),2),y=v[0],b=v[1],x=(0,d.d4)((function(e){return e.setting.licenseKey})),_=(0,d.d4)((function(e){return e.setting.licenseStatus})),E=(0,d.d4)((function(e){return e.setting.licenseExpires})),N=(0,d.d4)((function(e){return e.setting.licensePriceId})),k=(0,d.wA)(),S=function(){var e=Nd(_d().mark((function e(){var t,n,o,i,c,s;return _d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,Ju({license_key:r});case 4:n=e.sent,"valid"===(null===(t=n.data)||void 0===t?void 0:t.status)&&(k(bd({key:null===(o=n.data)||void 0===o?void 0:o.key,status:null===(i=n.data)||void 0===i?void 0:i.status,expires:null===(c=n.data)||void 0===c?void 0:c.expires,price_id:null===(s=n.data)||void 0===s?void 0:s.price_id})),a(""),Ot(k,n.message)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Pt(k,e.t0.message);case 11:return e.prev=11,l(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Nd(_d().mark((function e(){var t;return _d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,e.next=4,Zu();case 4:!0===(t=e.sent).success&&k(bd({key:"",status:"",expires:"",price_id:""})),Ot(k,t.message),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),Pt(k,e.t0.message);case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Nd(_d().mark((function e(){var t,r,n,a,o,i;return _d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,td();case 4:(t=e.sent).data&&(k(bd({key:null===(r=t.data)||void 0===r?void 0:r.key,status:null===(n=t.data)||void 0===n?void 0:n.status,expires:null===(a=t.data)||void 0===a?void 0:a.expires,price_id:null===(o=t.data)||void 0===o?void 0:o.price_id})),"valid"===(null===(i=t.data)||void 0===i?void 0:i.status)&&Ot(k,t.message)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Pt(k,e.t0.message);case 11:return e.prev=11,b(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7;if(!e||"lifetime"===e)return!1;var r=(("number"==typeof e?new Date(1e3*e):new Date(e.replace(" ","T")))-new Date)/864e5;return r>0&&r<=t};return n.createElement("div",{className:"flex flex-col gap-5"},n.createElement("div",{className:"sm:flex sm:items-center"},n.createElement("div",{className:"w-full"},x?n.createElement("div",{className:"w-full rounded-md border bg-gray-300 px-3 py-2 text-[.95rem]"},x):n.createElement(h,{Icon:ve.y9k,placeholder:(0,i.__)("License key","advanced-database-cleaner"),className:"w-full !text-[.95rem]",onChange:function(e){return a(e.target.value)}})),x?n.createElement(g,{Icon:f?s.JbZ:u.Fmo,text:(0,i.__)("Deactivate license","advanced-database-cleaner"),className:"mt-4 sm:ml-3 sm:mt-0",spinIcon:f,disabled:y||f,onClick:L,type:"button"}):n.createElement(g,{Icon:c?s.JbZ:u.Fmo,text:(0,i.__)("Activate license","advanced-database-cleaner"),className:"mt-4 sm:ml-3 sm:mt-0",spinIcon:c,disabled:y||c||!r,onClick:S,type:"button"})),x&&n.createElement(n.Fragment,null,n.createElement("div",{className:"flex flex-col gap-2 text-[.83rem]"},n.createElement("div",{className:"flex items-center gap-1"},n.createElement("span",{className:"flex min-w-[100px] items-center gap-x-1 font-bold"},(0,i.__)("License status","advanced-database-cleaner")),y?n.createElement(s.JbZ,{className:"animate-spin text-[.9rem] text-gray-900"}):n.createElement(n.Fragment,null,n.createElement(pe.G3G,{className:"mt-0.5 text-[1rem] ".concat("valid"===_?"text-emerald-500":"text-red-400")}),n.createElement("span",{className:"font-bold ".concat("valid"===_?"text-green-600":"text-red-500")},function(e){switch(e){case"valid":return(0,i.__)("Active","advanced-database-cleaner");case"expired":return(0,i.__)("Expired","advanced-database-cleaner");case"invalid":return(0,i.__)("Invalid","advanced-database-cleaner");case"disabled":return(0,i.__)("Disabled","advanced-database-cleaner");case"invalid_item_id":return(0,i.__)("Invalid item ID","advanced-database-cleaner");case"item_name_mismatch":return(0,i.__)("Item name mismatch","advanced-database-cleaner");case"inactive":return(0,i.__)("Inactive","advanced-database-cleaner");case"site_inactive":return(0,i.__)("Site inactive","advanced-database-cleaner");default:return e}}(_)))),"invalid"!==_&&"disabled"!==_&&n.createElement(n.Fragment,null,n.createElement("div",{className:"flex items-center gap-1"},n.createElement("span",{className:"flex min-w-[100px] items-center gap-x-1 font-bold"},(0,i.__)("Expiration date","advanced-database-cleaner")),y?n.createElement(s.JbZ,{className:"animate-spin text-[.9rem] text-gray-900"}):n.createElement(n.Fragment,null,n.createElement(pe.G3G,{className:"mt-0.5 text-[1rem] ".concat("lifetime"===E||"expired"!==_?"text-emerald-500":"text-red-400")}),n.createElement("span",{className:"font-bold ".concat("lifetime"===E||"expired"!==_?"text-green-600":"text-red-500")},"lifetime"===(e=E)?(0,i.__)("Lifetime","advanced-database-cleaner"):("number"==typeof e?new Date(1e3*e):new Date(e.replace(" ","T"))).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}))))),"expired"===_?n.createElement("div",{className:"mt-1 rounded-sm bg-red-100 py-1 text-xs text-red-900"},n.createElement("span",{className:"px-2"},(0,i.__)("Your license has expired. Please renew it to continue receiving updates and support. Click the 'My Account' link below to access your account and renew your license.","advanced-database-cleaner"))):O(E)?n.createElement("div",{className:"mt-1 rounded-sm bg-yellow-100 py-1 text-xs text-yellow-900"},n.createElement("span",{className:"px-2"},(0,i.__)("Your license is expiring soon. It should automatically renew if your payment method is valid.","advanced-database-cleaner"))):"invalid"===_?n.createElement("div",{className:"mt-1 rounded-sm bg-red-100 py-1 text-xs text-red-900"},n.createElement("span",{className:"px-2"},(0,i.__)("Your license is invalid. Please deactivate and enter a valid license key.","advanced-database-cleaner"))):"disabled"===_?n.createElement("div",{className:"mt-1 rounded-sm bg-red-100 py-1 text-xs text-red-900"},n.createElement("span",{className:"px-2"},(0,i.__)("Your license has been disabled. Please note that this license will no longer receive updates. (contact support if you think this is a mistake)","advanced-database-cleaner"))):"invalid_item_id"===_||"item_name_mismatch"===_?n.createElement("div",{className:"mt-1 rounded-sm bg-red-100 py-1 text-xs text-red-900"},n.createElement("span",{className:"px-2"},(0,i.__)("Your license does not match this product. Please deactivate and enter a valid license key for Advanced Database Cleaner.","advanced-database-cleaner"))):"inactive"===_||"site_inactive"===_?n.createElement("div",{className:"mt-1 rounded-sm bg-red-100 py-1 text-xs text-red-900"},n.createElement("span",{className:"px-2"},(0,i.__)("Your license is inactive for this site. Please deactivate it and activate it again.","advanced-database-cleaner"))):void 0,"valid"===_&&!O(E)&&"4"!==N&&n.createElement("div",{className:"mt-2 flex items-center gap-1"},n.createElement("div",{className:"text-xs leading-5 text-gray-600"},(0,i.sprintf)((0,i.__)("You are on the %s.","advanced-database-cleaner"),function(e){switch(e){case"1":return(0,i.__)("Starter plan","advanced-database-cleaner");case"2":return(0,i.__)("Standard plan","advanced-database-cleaner");case"3":return(0,i.__)("Business plan","advanced-database-cleaner");case"4":return(0,i.__)("Agency plan","advanced-database-cleaner");default:return(0,i.__)("Unknown plan","advanced-database-cleaner")}}(N))," ",(0,i.__)("If you need more activations, you can upgrade by paying the difference between plans.","advanced-database-cleaner"))))),n.createElement("div",{className:"flex flex-row gap-4 border-t border-dashed border-gray-300 pt-4"},x&&n.createElement(w,{Icon:s.JbZ,text:y?(0,i.__)("Refreshing ..","advanced-database-cleaner"):(0,i.__)("Refresh info","advanced-database-cleaner"),className:"",onClick:j,shouldAnimate:y,disabled:y||c||f}),n.createElement(P,{href:"https://sigmaplugin.com/login?utm_source=license_tab&utm_medium=adbc_plugin&utm_campaign=plugins",target:"_blank",className:"flex justify-end whitespace-nowrap text-[.85rem] font-bold text-primary !no-underline hover:!underline"},n.createElement(he.Pay,{className:"text-[1.2rem] text-primary"}),(0,i.__)("My account","advanced-database-cleaner"))))},jd=r.p+"images/left-menu.png",Od=r.p+"images/menu-under-tools.png",Td=r.p+"images/network-menu.png";function Pd(e){return Pd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pd(e)}function Id(){Id=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Pd(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(Pd(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Cd(e,t,r){return(t=function(e){var t=function(e){if("object"!=Pd(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Pd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Pd(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ad(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}var Fd="1"===U?" "+(0,i.__)("[In main site]","advanced-database-cleaner"):"";const Md=function(){var e=(0,d.d4)((function(e){return e.setting.leftMenu})),t=(0,d.d4)((function(e){return e.setting.toolsMenu})),r=(0,d.d4)((function(e){return e.setting.networkMenu})),a=(0,d.wA)(),o=function(){var n,o=(n=Id().mark((function n(o,c){var l,s,u;return Id().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c){n.next=8;break}if(l=0,e&&l++,t&&l++,"1"===U&&r&&l++,1!==l){n.next=8;break}return Pt(a,(0,i.__)("At least one menu position must be enabled.","advanced-database-cleaner")),n.abrupt("return");case 8:return s=c?"block":"none","left_menu"===o?(vs("toplevel_page_advanced_db_cleaner",s),a(id(c))):"tools_menu"===o?(ys("a[href='tools.php?page=advanced_db_cleaner']",s),a(cd(c))):"network_menu"===o&&(vs("toplevel_page_advanced_db_cleaner_network",s),a(ld(c))),n.prev=10,u=c?"1":"0",n.next=14,Xl(Cd({},o,u));case 14:Tt(a),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(10),Pt(a,n.t0.message);case 20:case"end":return n.stop()}}),n,null,[[10,17]])})),function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function i(e){Ad(o,r,a,i,c,"next",e)}function c(e){Ad(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e,t){return o.apply(this,arguments)}}();return n.createElement("div",{className:"flex flex-col gap-5"},n.createElement("div",{className:"flex w-full flex-col gap-5"},"1"===U&&n.createElement("div",{className:"flex items-center gap-2"},n.createElement(k,{text:(0,i.__)("Network admin menu","advanced-database-cleaner"),toggleChangeCallback:function(e){return o("network_menu",e)},isActive:r,toggleSize:"small"}),n.createElement(L,{content:n.createElement("span",null,(0,i.__)("Places the plugin menu on the left side of your WP Network Admin.","advanced-database-cleaner"),n.createElement("img",{src:Td,className:"mt-4 w-[8.5rem] rounded-xl"}))})),n.createElement("div",{className:"flex items-center gap-2"},n.createElement(k,{text:(0,i.__)("Left sidebar menu","advanced-database-cleaner")+Fd,toggleChangeCallback:function(e){return o("left_menu",e)},isActive:e,toggleSize:"small"}),n.createElement(L,{content:n.createElement("span",null,(0,i.__)("Places the plugin menu on the left side of your WP Admin","advanced-database-cleaner")+Fd,n.createElement("img",{src:jd,className:"mt-4 w-[8.5rem] rounded-xl"}))})),n.createElement("div",{className:"flex items-center gap-2"},n.createElement(k,{text:(0,i.__)("Submenu under tools","advanced-database-cleaner")+Fd,toggleChangeCallback:function(e){return o("tools_menu",e)},isActive:t,toggleSize:"small"}),n.createElement(L,{content:n.createElement("span",null,(0,i.__)("Places the plugin menu under the WP Tools menu","advanced-database-cleaner")+Fd,n.createElement("img",{src:Od,className:"mt-4 w-[14rem]"}))}))))};function Gd(e){return Gd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(e)}function Dd(){Dd=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Gd(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(Gd(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function zd(e,t,r){return(t=function(e){var t=function(e){if("object"!=Gd(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Gd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Gd(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rd(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}const Bd=function(){var e=(0,d.d4)((function(e){return e.setting.analyticsEnabled})),t=(0,d.d4)((function(e){return e.setting.addonsActivityEnabled})),r=(0,d.d4)((function(e){return e.setting.showTablesWithInvalidPrefix})),a=(0,d.wA)(),o=function(){var e,t=(e=Dd().mark((function e(t,r){var n;return Dd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"analytics_enabled"===t?a(hd(r)):"addons_activity_enabled"===t?a(vd(r)):"show_tables_with_invalid_prefix"===t&&a(yd(r)),e.prev=1,n=r?"1":"0",e.next=5,Xl(zd({},t,n));case 5:Tt(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Pt(a,e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Rd(o,n,a,i,c,"next",e)}function c(e){Rd(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(e,r){return t.apply(this,arguments)}}();return n.createElement("div",{className:"flex flex-col gap-5"},n.createElement("div",{className:"flex w-full flex-col gap-5"},"PREMIUM"===z&&n.createElement("div",{className:"flex items-center gap-2"},n.createElement(k,{text:(0,i.__)("Enable analytics","advanced-database-cleaner"),toggleChangeCallback:function(e){return o("analytics_enabled",e)},isActive:e,toggleSize:"small"}),n.createElement(L,{content:n.createElement("span",null,(0,i.__)("If enabled, the plugin will run a daily task to analyze your database and tables locally, so you can view relevant statistics in the plugin dashboard.","advanced-database-cleaner"))})),"PREMIUM"===z&&n.createElement("div",{className:"flex items-center gap-2"},n.createElement(k,{text:(0,i.__)("Enable addons activity","advanced-database-cleaner"),toggleChangeCallback:function(e){return o("addons_activity_enabled",e)},isActive:t,toggleSize:"small"}),n.createElement(L,{content:n.createElement("span",null,(0,i.__)("If enabled, the plugin will track the activity of your plugins/themes when they get activated, deactivated or uninstalled. Providing a complete history of your addons activity.","advanced-database-cleaner"))})),n.createElement("div",{className:"flex items-center gap-2"},n.createElement(k,{text:(0,i.__)("Show tables with invalid prefix","advanced-database-cleaner"),toggleChangeCallback:function(e){return o("show_tables_with_invalid_prefix",e)},isActive:r,toggleSize:"small"}),n.createElement(L,{content:n.createElement("span",null,(0,i.__)("If enabled, the plugin will list every table in your database, including those with invalid prefix, typically belonging to other WordPress installations or unrelated projects. If you're unsure, keep this option disabled.","advanced-database-cleaner"))}))))};function Ud(e){return Ud="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(e)}function Wd(){Wd=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Ud(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(Ud(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Yd(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Kd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kd(Object(r),!0).forEach((function(t){qd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qd(e,t,r){return(t=function(e){var t=function(e){if("object"!=Ud(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Ud(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ud(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Vd(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Qd=1e6,Jd=function(e){var t=e.title,r=e.tooltipMsg,a=e.value,o=e.onChange,i=e.error,c=e.min,l=e.max;return n.createElement("div",{className:"flex flex-col gap-2 sm:flex-row"},n.createElement("div",{className:"items-top mt-[4px] flex min-w-[220px] shrink-0 gap-1 md:gap-2"},n.createElement(L,{content:n.createElement(n.Fragment,null,r),iconSize:"text-[1rem]",className:"hidden lg:flex"},n.createElement(ai.JFS,{className:"mt-[3px] h-[15px] w-[15px] text-gray-600"})),t),n.createElement("div",{className:"flex flex-col gap-2"},n.createElement(h,{type:"number",defaultValue:a,onChange:o,min:c,max:l,className:"!h-[1.9rem] w-[14rem] md:w-[12rem]"}),i&&n.createElement("span",{className:"text-[12px] font-semibold leading-[15px] text-red-500"},i)))};const Xd=function(){var e=(0,d.d4)((function(e){return e.setting.databaseRowsBatches})),t=(0,d.d4)((function(e){return e.setting.cleanupMethod})),r=[[{key:"sql",label:(0,i.__)("Direct SQL queries","advanced-database-cleaner"),tooltipText:(0,i.__)("This method uses direct SQL queries for cleanup operations. This can be faster but may bypass some WordPress mechanisms. For example, when deleting trashed posts, this method will directly remove the posts from the database without triggering associated hooks and actions, which may leave related metadata, taxonomies, and other linked data intact and potentially lead to extra orphaned items.","advanced-database-cleaner")},{key:"native",label:(0,i.__)("Native WP functions","advanced-database-cleaner"),tooltipText:(0,i.__)("This method uses WordPress native functions for cleanup operations. This ensures compatibility with WordPress but may be slower. For example, when deleting trashed posts, this method will trigger all associated hooks and actions to delete related metadata, taxonomies, and other linked data, ensuring a thorough cleanup.","advanced-database-cleaner")}]],a=function(e){for(var t=0,n=r;t<n.length;t++){var a=n[t].find((function(t){return t.key===e}));if(a)return a}return r[0][0]},o=Hd((0,n.useState)({databaseRowsBatches:e,cleanupMethod:a(t)}),2),c=o[0],l=o[1],s=Hd((0,n.useState)({databaseRowsBatches:""}),2),u=s[0],m=s[1],f=Hd((0,n.useState)(!1),2),p=f[0],h=f[1],v=(0,d.wA)(),y=(0,n.useRef)({}),g=function(){var e,t=(e=Wd().mark((function e(){var t;return Wd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=2;break}return e.abrupt("return");case 2:if(t=parseInt(c.databaseRowsBatches,10),!isNaN(t)){e.next=6;break}return Pt(v,(0,i.__)("Please enter valid numbers for the performance settings","advanced-database-cleaner")),e.abrupt("return");case 6:return h(!0),e.prev=7,e.next=10,Xl({database_rows_batch:t,sql_or_native_cleanup_method:c.cleanupMethod.key});case 10:v(pd({databaseRowsBatches:t,cleanupMethod:c.cleanupMethod.key})),Tt(v),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),Pt(v,e.t0.message);case 17:return e.prev=17,h(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[7,14,17,20]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Yd(o,n,a,i,c,"next",e)}function c(e){Yd(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return n.createElement("div",{className:"flex flex-col gap-6"},n.createElement("div",{className:"flex flex-col gap-[12px]"},n.createElement("div",{className:"flex flex-col gap-2 sm:flex-row"},n.createElement("div",{className:"items-top mt-[4px] flex min-w-[220px] shrink-0 gap-1 md:gap-2"},n.createElement(L,{content:n.createElement(n.Fragment,null,(0,i.__)("Choose the method used for database cleanup operations. SQL offers direct database manipulation, while Native uses WordPress functions.","advanced-database-cleaner")),iconSize:"text-[1rem]",className:"hidden lg:flex"},n.createElement(ai.JFS,{className:"mt-[3px] h-[15px] w-[15px] text-gray-600"})),(0,i.__)("Cleanup method","advanced-database-cleaner")),n.createElement("div",{className:"flex flex-col gap-2"},n.createElement(uf,{selectItems:r,selectedItem:c.cleanupMethod,onSelectionChange:function(e){var t=a(e);l((function(e){return $d($d({},e),{},{cleanupMethod:t})}))},extraBtnClasses:"w-[14rem] md:w-[12rem]"}))),n.createElement(Jd,{title:(0,i.__)("Database rows batches","advanced-database-cleaner"),tooltipMsg:(0,i.__)("Specifies the number of rows to process in each batch when reading database tables. Reducing this value can help optimize performance and memory usage when dealing with large tables.","advanced-database-cleaner"),value:c.databaseRowsBatches,onChange:function(e){!function(e,t,r){y.current[e]&&clearTimeout(y.current[e]),y.current[e]=setTimeout((function(){l((function(r){return $d($d({},r),{},qd({},e,t))}));var r=function(e,t){var r=parseInt(t,10);return isNaN(r)?(0,i.__)("Please enter a valid number","advanced-database-cleaner"):"databaseRowsBatches"!==e?"":r<100||r>Qd?(0,i.sprintf)((0,i.__)("Value must be between %1$s and %2$s","advanced-database-cleaner"),100,Qd):""}(e,t);m((function(t){return $d($d({},t),{},qd({},e,r))})),delete y.current[e]}),r)}("databaseRowsBatches",e.target.value,500)},error:u.databaseRowsBatches,min:100,max:Qd})),n.createElement("div",null,n.createElement(w,{Icon:p?function(){return n.createElement(C,{text:"",size:"text-[1rem]",className:"animate-spin"})}:ta.kuV,text:p?(0,i.__)("Saving...","advanced-database-cleaner"):(0,i.__)("Save settings","advanced-database-cleaner"),className:"mt-2 px-4 ".concat(p?"pointer-events-none cursor-not-allowed opacity-80":""),onClick:g,disabled:p})))};function Zd(e){return Zd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(e)}function em(){em=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Zd(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(Zd(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function tm(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function rm(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){tm(o,n,a,i,c,"next",e)}function c(e){tm(o,n,a,i,c,"throw",e)}i(void 0)}))}}function nm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function am(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nm(Object(r),!0).forEach((function(t){om(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function om(e,t,r){return(t=function(e){var t=function(e){if("object"!=Zd(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Zd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Zd(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function im(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return cm(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var lm=1e3,sm=1e6,um=10240,dm=function(e){var t=e.title,r=e.tooltipMsg,a=e.value,o=e.onChange,i=e.error,c=e.min,l=e.max;return n.createElement("div",{className:"flex flex-col gap-2 sm:flex-row"},n.createElement("div",{className:"items-top mt-[4px] flex min-w-[220px] shrink-0 gap-1 md:gap-2"},n.createElement(L,{content:n.createElement(n.Fragment,null,r),iconSize:"text-[1rem]",className:"hidden lg:flex"},n.createElement(ai.JFS,{className:"mt-[3px] h-[15px] w-[15px] text-gray-600"})),t),n.createElement("div",{className:"flex flex-col gap-2"},n.createElement(h,{type:"number",defaultValue:a,onChange:o,min:c,max:l,className:"!h-[1.9rem] w-[14rem] md:w-[12rem]"}),i&&n.createElement("span",{className:"text-[12px] font-semibold leading-[15px] text-red-500"},i)))};const mm=function(){var e=(0,d.d4)((function(e){return e.setting.reduceCpuUsage})),t=(0,d.d4)((function(e){return e.setting.cpuWorkTime})),r=(0,d.d4)((function(e){return e.setting.cpuRestTime})),a=(0,d.d4)((function(e){return e.setting.fileLinesBatches})),o=(0,d.d4)((function(e){return e.setting.fileContentChunks})),c=(0,d.d4)((function(e){return e.setting.maxExecutionTime})),l=im((0,n.useState)({cpuWorkTime:t,cpuRestTime:r,fileLinesBatches:a,fileContentChunks:o,maxExecutionTime:c}),2),s=l[0],u=l[1],m=im((0,n.useState)({cpuWorkTime:"",cpuRestTime:"",fileLinesBatches:"",fileContentChunks:"",maxExecutionTime:""}),2),f=m[0],p=m[1],h=im((0,n.useState)(!1),2),v=h[0],y=h[1],g=(0,d.wA)(),b=(0,n.useRef)({}),x=function(e){return function(t){var r=t.target.value;!function(e,t,r){b.current[e]&&clearTimeout(b.current[e]),b.current[e]=setTimeout((function(){u((function(r){return am(am({},r),{},om({},e,t))}));var r=function(e,t){var r=parseInt(t,10);if(isNaN(r))return(0,i.__)("Please enter a valid number","advanced-database-cleaner");switch(e){case"cpuWorkTime":if(r<100||r>lm)return(0,i.sprintf)((0,i.__)("Value must be between %1$s and %2$s","advanced-database-cleaner"),100,lm);break;case"cpuRestTime":if(r<1||r>100)return(0,i.sprintf)((0,i.__)("Value must be between %1$s and %2$s","advanced-database-cleaner"),1,100);break;case"fileLinesBatches":if(r<100||r>sm)return(0,i.sprintf)((0,i.__)("Value must be between %1$s and %2$s","advanced-database-cleaner"),100,sm);break;case"fileContentChunks":if(r<50||r>um)return(0,i.sprintf)((0,i.__)("Value must be between %1$s and %2$s","advanced-database-cleaner"),50,um);break;case"maxExecutionTime":if(0!==r&&(r<30||r>300))return(0,i.sprintf)((0,i.__)("Value must be between %1$s and %2$s, or 0 for the default value.","advanced-database-cleaner"),30,300);break;default:return""}return""}(e,t);p((function(t){return am(am({},t),{},om({},e,r))})),delete b.current[e]}),r)}(e,r,500)}},_=function(){var e=rm(em().mark((function e(t){var r;return em().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(fd(t)),e.prev=1,r=t?"1":"0",e.next=5,Xl({reduce_cpu_usage:r});case 5:Tt(g),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),g(fd(!t)),Pt(g,e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var t=rm(em().mark((function t(){var r,n,a,o,c;return em().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!v){t.next=2;break}return t.abrupt("return");case 2:if(r=parseInt(s.cpuWorkTime,10),n=parseInt(s.cpuRestTime,10),a=parseInt(s.fileLinesBatches,10),o=parseInt(s.fileContentChunks,10),c=parseInt(s.maxExecutionTime,10),!(isNaN(r)||isNaN(n)||isNaN(a)||isNaN(o)||isNaN(c))){t.next=10;break}return Pt(g,(0,i.__)("Please enter valid numbers for the scan settings","advanced-database-cleaner")),t.abrupt("return");case 10:return y(!0),t.prev=11,t.next=14,Xl(am({file_lines_batch:a,file_content_chunks:o,scan_max_execution_time:c},e&&{cpu_work_time_ms:r,cpu_rest_time_ms:n}));case 14:g(dd({fileLinesBatches:a,fileContentChunks:o,maxExecutionTime:c})),e&&g(md({cpuWorkTime:r,cpuRestTime:n})),Tt(g),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(11),Pt(g,t.t0.message);case 22:return t.prev=22,y(!1),t.finish(22);case 25:case"end":return t.stop()}}),t,null,[[11,19,22,25]])})));return function(){return t.apply(this,arguments)}}();return n.createElement("div",{className:"flex flex-col gap-6"},n.createElement("div",{className:"flex w-full items-center gap-2"},n.createElement(k,{text:(0,i.__)("Use full CPU power","advanced-database-cleaner"),toggleChangeCallback:function(e){return _(!e)},isActive:!e}),n.createElement(L,{content:n.createElement(n.Fragment,null,(0,i.__)("When enabled, the plugin will utilize the full CPU power during scans, which may lead to faster scan times but could impact server performance. Disabling this option will make the plugin use less CPU, potentially reducing performance impact on your server during scans.","advanced-database-cleaner"))})),e&&n.createElement("div",{className:"flex flex-col gap-[12px] border-t-2 border-gray-200 pt-6"},n.createElement(dm,{title:(0,i.__)("CPU work time","advanced-database-cleaner"),tooltipMsg:(0,i.__)("Specifies the duration (in milliseconds) for which the plugin can utilize the CPU before pausing. Try decreasing this value if you notice performance issues during scans, especially on shared hosting environments.","advanced-database-cleaner"),value:s.cpuWorkTime,onChange:x("cpuWorkTime"),error:f.cpuWorkTime,min:100,max:lm}),n.createElement(dm,{title:(0,i.__)("CPU pause time","advanced-database-cleaner"),tooltipMsg:(0,i.__)("Specifies the duration (in milliseconds) for which the plugin pauses to allow other processes to utilize the CPU. Try increasing this value if you notice performance issues during scans, especially on shared hosting environments.","advanced-database-cleaner"),value:s.cpuRestTime,onChange:x("cpuRestTime"),error:f.cpuRestTime,min:1,max:100})),n.createElement("div",{className:"flex flex-col gap-[12px] border-t-2 border-gray-200 pt-6"},n.createElement(dm,{title:(0,i.__)("File line batches","advanced-database-cleaner"),tooltipMsg:(0,i.__)("Specifies the number of lines to process in each batch when reading files. Adjusting this value can help optimize performance and memory usage.","advanced-database-cleaner"),value:s.fileLinesBatches,onChange:x("fileLinesBatches"),error:f.fileLinesBatches,min:100,max:sm}),n.createElement(dm,{title:(0,i.__)("File content chunks (in KB)","advanced-database-cleaner"),tooltipMsg:(0,i.__)("Specifies the size (in kilobytes) of the content chunk read from a file in each iteration. Reducing this value may help prevent memory issues when processing large files.","advanced-database-cleaner"),value:s.fileContentChunks,onChange:x("fileContentChunks"),error:f.fileContentChunks,min:50,max:um}),n.createElement(dm,{title:(0,i.__)("Max execution time","advanced-database-cleaner"),tooltipMsg:(0,i.__)("Specifies the maximum execution time for scan operations in seconds. Adjusting this value can help prevent long-running scans from causing timeout issues. Default is 0, which means the plugin will decide the best value.","advanced-database-cleaner"),value:s.maxExecutionTime,onChange:x("maxExecutionTime"),error:f.maxExecutionTime,min:0,max:300}),n.createElement("div",null,n.createElement(w,{Icon:v?function(){return n.createElement(C,{text:"",size:"text-[1rem]",className:"animate-spin"})}:ta.kuV,text:v?(0,i.__)("Saving...","advanced-database-cleaner"):(0,i.__)("Save settings","advanced-database-cleaner"),className:"mt-4 px-4 ".concat(v?"pointer-events-none cursor-not-allowed opacity-80":""),onClick:E,disabled:v}))))};function fm(e){return fm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(e)}function pm(){pm=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==fm(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(fm(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function hm(e){return function(e){if(Array.isArray(e))return vm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return vm(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vm(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ym(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}const gm=function(){var e=(0,d.d4)((function(e){return e.setting.hiddenTabs})),t=(0,d.wA)(),r=function(){var r,n=(r=pm().mark((function r(n,a){var o;return pm().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a?(o=e.filter((function(e){return e!==n})),t(ud(n))):(o=[].concat(hm(e),[n]),t(sd(n))),r.prev=1,r.next=4,Xl({hidden_tabs:o});case 4:Tt(t),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(1),Pt(t,r.t0.message);case 10:case"end":return r.stop()}}),r,null,[[1,7]])})),function(){var e=this,t=arguments;return new Promise((function(n,a){var o=r.apply(e,t);function i(e){ym(o,n,a,i,c,"next",e)}function c(e){ym(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(e,t){return n.apply(this,arguments)}}(),a=Lm.filter((function(e){return e.can_be_hidden})),o=Math.ceil(a.length/2),i=a.slice(0,o),c=a.slice(o);return n.createElement("div",{className:"flex flex-col gap-5 sm:flex-row sm:gap-[8rem]"},n.createElement("div",{className:"flex flex-col gap-5"},i.map((function(t){return n.createElement(k,{key:t.id+"_status",text:t.name,toggleChangeCallback:function(e){return r(t.id,e)},isActive:!e.includes(t.id),toggleSize:"small"})}))),n.createElement("div",{className:"flex flex-col gap-5"},c.map((function(t){return n.createElement(k,{key:t.id+"_status",text:t.name,toggleChangeCallback:function(e){return r(t.id,e)},isActive:!e.includes(t.id),toggleSize:"small"})}))))};var bm=[{key:"table_name",label:(0,i.__)("Table name","advanced-database-cleaner"),sortable:!0,contentType:"string",width:"min-w-[280px] !pr-4",visibility:""},{key:"rows",label:(0,i.__)("Rows","advanced-database-cleaner"),sortable:!0,contentType:"int",width:"min-w-[80px] max-w-[150px]",visibility:""},{key:"size",label:(0,i.__)("Size","advanced-database-cleaner"),sortable:!0,contentType:"int",width:"min-w-[90px] max-w-[150px]",visibility:""},{key:"type",label:(0,i.__)("Type","advanced-database-cleaner"),sortable:!0,contentType:"string",width:"min-w-[90px] max-w-[150px]",visibility:""},{key:"site_id",label:(0,i.__)("Site","advanced-database-cleaner"),sortable:!0,contentType:"int",width:"min-w-[80px] max-w-[150px]",visibility:"1"===U?"":"hidden"},{key:"overhead",label:(0,i.__)("Overhead","advanced-database-cleaner"),sortable:!0,contentType:"int",tooltipText:(0,i.__)("Total disk space wasted by table overhead, which can be recovered by optimizing the table.","advanced-database-cleaner"),width:"min-w-[100px] max-w-[150px]",visibility:""},{key:"belongs_to",label:(0,i.__)("Belongs to","advanced-database-cleaner"),sortable:!1,contentType:"string",tooltipText:(0,i.__)("The plugin or theme the item belongs to, determined after running a scan. If uncertain, an estimated likelihood (%) is shown, the higher the percentage, the more likely the item belongs to that plugin/theme.","advanced-database-cleaner"),width:"min-w-[280px]",visibility:""}],xm=[[{key:"bulk_actions",label:(0,i.__)("Bulk actions","advanced-database-cleaner")}],[{key:"scan_tables",label:"FREE"===z?n.createElement("span",{className:"flex items-center"},(0,i.__)("Scan","advanced-database-cleaner"),n.createElement("span",{className:"ml-1 flex items-center gap-1 !text-[.75rem] font-semibold text-yellow-600"},n.createElement(s.xGQ,{className:"text-[.9rem] text-yellow-500"}),(0,i.__)("(premium)","advanced-database-cleaner"))):(0,i.__)("Scan","advanced-database-cleaner"),tooltipText:n.createElement("span",null,(0,i.__)("The scan allows the identification of the plugins or themes to which the items belong.","advanced-database-cleaner"),"FREE"===z&&n.createElement("div",{className:"flex text-yellow-600"},(0,i.__)("Available in the premium version.","advanced-database-cleaner"))),disabled:"FREE"===z},{key:"edit_scan_results_tables",label:(0,i.__)("Edit -Belongs to-","advanced-database-cleaner"),tooltipText:(0,i.__)("You can edit the scan results to correctly associate items with their respective plugins or themes if you are certain of their belonging.","advanced-database-cleaner"),isVisible:"PREMIUM"===z}],[{key:"optimize_tables",label:(0,i.__)("Optimize","advanced-database-cleaner"),tooltipText:(0,i.__)("The optimization reorganizes the physical storage of table data to reduce storage space and improve efficiency when accessing the table","advanced-database-cleaner")},{key:"repair_tables",label:(0,i.__)("Repair","advanced-database-cleaner"),tooltipText:(0,i.__)("Repair a possibly corrupted table (for certain storage engines only).","advanced-database-cleaner")}],[{key:"empty_rows_tables",label:(0,i.__)("Empty rows","advanced-database-cleaner"),tooltipText:(0,i.__)("Delete all data from a table without deleting the table itself.","advanced-database-cleaner"),danger:!0},{key:"delete_tables",label:(0,i.__)("Delete","advanced-database-cleaner"),tooltipText:(0,i.__)("Delete the table with all its data.","advanced-database-cleaner"),danger:!0}]];var wm=[{key:"transient_name",label:(0,i.__)("Transient name","advanced-database-cleaner"),sortable:!0,contentType:"string",width:"min-w-[240px] max-w-[260px] !pr-4",visibility:""},{key:"value",label:(0,i.__)("Value","advanced-database-cleaner"),sortable:!1,contentType:"string",width:"min-w-[200px] max-w-[210px]",visibility:""},{key:"size",label:(0,i.__)("Size","advanced-database-cleaner"),sortable:!0,contentType:"int",width:"min-w-[80px] max-w-[150px]",visibility:""},{key:"autoload",label:(0,i.__)("Autoload","advanced-database-cleaner"),sortable:!0,contentType:"string",tooltipText:(0,i.__)("Indicates whether an transient is autoloaded or not. Values to autoload are: yes, on, auto, auto-on. Values to not autoload are: no, off, auto-off","advanced-database-cleaner"),width:"min-w-[80px] max-w-[150px]",visibility:""},{key:"expired",label:(0,i.__)("Expired","advanced-database-cleaner"),sortable:!0,contentType:"string",width:"min-w-[80px] max-w-[150px]",visibility:""},{key:"site_id",label:(0,i.__)("Site","advanced-database-cleaner"),sortable:!0,contentType:"int",width:"min-w-[80px] max-w-[150px]",visibility:"1"===U?"":"hidden"},{key:"belongs_to",label:(0,i.__)("Belongs to","advanced-database-cleaner"),sortable:!1,contentType:"string",tooltipText:(0,i.__)("The plugin or theme the item belongs to, determined after running a scan. If uncertain, an estimated likelihood (%) is shown, the higher the percentage, the more likely the item belongs to that plugin/theme.","advanced-database-cleaner"),width:"min-w-[280px]",visibility:""}],_m=[[{key:"bulk_actions",label:(0,i.__)("Bulk actions","advanced-database-cleaner")}],[{key:"scan_transients",label:"FREE"===z?n.createElement("span",{className:"flex items-center"},(0,i.__)("Scan","advanced-database-cleaner"),n.createElement("span",{className:"ml-1 flex items-center gap-1 !text-[.75rem] font-semibold text-yellow-600"},n.createElement(s.xGQ,{className:"text-[.9rem] text-yellow-500"}),(0,i.__)("(premium)","advanced-database-cleaner"))):(0,i.__)("Scan","advanced-database-cleaner"),tooltipText:n.createElement("span",null,(0,i.__)("The scan allows the identification of the plugins or themes to which the items belong.","advanced-database-cleaner"),"FREE"===z&&n.createElement("div",{className:"flex text-yellow-600"},(0,i.__)("Available in the premium version.","advanced-database-cleaner"))),disabled:"FREE"===z},{key:"edit_scan_results_transients",label:(0,i.__)("Edit scan result","advanced-database-cleaner"),tooltipText:(0,i.__)("You can edit the scan results to correctly associate items with their respective plugins or themes if you are certain of their belonging.","advanced-database-cleaner"),isVisible:"PREMIUM"===z}],[{key:"set_autoload_to_yes_transients",label:(0,i.__)("Set autoload to Yes","advanced-database-cleaner"),tooltipText:(0,i.__)("Setting autoload to Yes can decrease the performance of your website if you have a lot of transients set to autoload.","advanced-database-cleaner")},{key:"set_autoload_to_no_transients",label:(0,i.__)("Set autoload to No","advanced-database-cleaner"),tooltipText:(0,i.__)("Setting autoload to No can improve the performance of your website by reducing the number of transients loaded on each page.","advanced-database-cleaner")}],[{key:"delete_transients",label:(0,i.__)("Delete","advanced-database-cleaner"),tooltipText:(0,i.__)("Delete the selected items.","advanced-database-cleaner"),danger:!0}]];var Em=[{key:"meta_key",label:(0,i.__)("Meta key","advanced-database-cleaner"),sortable:!0,contentType:"string",width:"min-w-[260px] !pr-4",visibility:""},{key:"value",label:(0,i.__)("Value","advanced-database-cleaner"),sortable:!1,contentType:"string",width:"min-w-[220px]",visibility:""},{key:"size",label:(0,i.__)("Size","advanced-database-cleaner"),sortable:!0,contentType:"int",width:"min-w-[80px] max-w-[150px]",visibility:""},{key:"user_id",label:(0,i.__)("User ID","advanced-database-cleaner"),sortable:!0,contentType:"int",width:"min-w-[80px] max-w-[150px]",visibility:""},{key:"belongs_to",label:(0,i.__)("Belongs to","advanced-database-cleaner"),sortable:!1,contentType:"string",tooltipText:(0,i.__)("The plugin or theme the item belongs to, determined after running a scan. If uncertain, an estimated likelihood (%) is shown, the higher the percentage, the more likely the item belongs to that plugin/theme.","advanced-database-cleaner"),width:"min-w-[280px]",visibility:""}],Nm=[[{key:"bulk_actions",label:(0,i.__)("Bulk actions","advanced-database-cleaner")}],[{key:"scan_users_meta",label:"FREE"===z?n.createElement("span",{className:"flex items-center"},(0,i.__)("Scan","advanced-database-cleaner"),n.createElement("span",{className:"ml-1 flex items-center gap-1 !text-[.75rem] font-semibold text-yellow-600"},n.createElement(s.xGQ,{className:"text-[.9rem] text-yellow-500"}),(0,i.__)("(premium)","advanced-database-cleaner"))):(0,i.__)("Scan","advanced-database-cleaner"),tooltipText:n.createElement("span",null,(0,i.__)("The scan allows the identification of the plugins or themes to which the items belong.","advanced-database-cleaner"),"FREE"===z&&n.createElement("div",{className:"flex text-yellow-600"},(0,i.__)("Available in the premium version.","advanced-database-cleaner"))),disabled:"FREE"===z},{key:"edit_scan_results_users_meta",label:(0,i.__)("Edit scan result","advanced-database-cleaner"),tooltipText:(0,i.__)("You can edit the scan results to correctly associate items with their respective plugins or themes if you are certain of their belonging.","advanced-database-cleaner"),isVisible:"PREMIUM"===z}],[{key:"delete_users_meta",label:(0,i.__)("Delete","advanced-database-cleaner"),tooltipText:(0,i.__)("Delete the selected items.","advanced-database-cleaner"),danger:!0}]];var km=new URL(window.location.href);Array.from(km.searchParams.keys()).forEach((function(e){"page"!==e&&km.searchParams.delete(e)}));var Sm=[{group_id:"group_1",is_last_group:!1,items:[{id:"general_cleanup",name:(0,i.__)("General cleanup","advanced-database-cleaner"),href:km.href+"&tab=general_cleanup",icon:ge.RSe,icon_size:"h-[19px] w-[19px]",component:function(){var e=(0,d.d4)((function(e){return e.shared.currentSubTabId}));return n.createElement(n.Fragment,null,e?n.createElement(Ts,{subTab:e}):n.createElement(yu,null))},can_be_hidden:!1,show_in_menu:!0,is_premium:!1}]},{group_id:"group_2",is_last_group:!1,items:[{id:"tables",name:(0,i.__)("Tables","advanced-database-cleaner"),href:km.href+"&tab=tables",icon:ye.rNF,icon_size:"h-[19px] w-[19px]",component:function(){return n.createElement(Os,{tabName:"tables",actions:xm,columns:bm})},can_be_hidden:!0,show_in_menu:!0},{id:"options",name:(0,i.__)("Options","advanced-database-cleaner"),href:km.href+"&tab=options",icon:ye.qu7,icon_size:"h-[19px] w-[19px]",component:function(){return n.createElement(Os,{tabName:"options",actions:Wu,columns:Uu})},can_be_hidden:!0,show_in_menu:!0},{id:"posts_meta",name:(0,i.__)("Post meta","advanced-database-cleaner"),href:km.href+"&tab=posts_meta",icon:de.lV7,icon_size:"h-[19px] w-[19px]",component:function(){return n.createElement(Os,{tabName:"posts_meta",actions:Ku,columns:Yu})},can_be_hidden:!0,show_in_menu:!0},{id:"users_meta",name:(0,i.__)("User meta","advanced-database-cleaner"),href:km.href+"&tab=users_meta",icon:me.x$1,icon_size:"h-[19px] w-[19px]",component:function(){return n.createElement(Os,{tabName:"users_meta",actions:Nm,columns:Em})},can_be_hidden:!0,show_in_menu:!0},{id:"transients",name:(0,i.__)("Transients","advanced-database-cleaner"),href:km.href+"&tab=transients",icon:he.EA,icon_size:"h-[20px] w-[20px]",component:function(){return n.createElement(Os,{tabName:"transients",actions:_m,columns:wm})},can_be_hidden:!0,show_in_menu:!0},{id:"cron_jobs",name:(0,i.__)("Cron jobs","advanced-database-cleaner"),href:km.href+"&tab=cron_jobs",icon:de.g0H,icon_size:"h-[19px] w-[19px]",component:function(){var e=[{key:"hook_name",label:(0,i.__)("Hook","advanced-database-cleaner"),sortable:!0,contentType:"string",width:"min-w-[200px]",visibility:""},{key:"timestamp",label:(0,i.__)("Next run","advanced-database-cleaner"),sortable:!0,contentType:"int",width:"min-w-[150px]",visibility:"",tooltipText:(0,i.__)("All dates/times are in your local time zone","advanced-database-cleaner")},{key:"action",label:(0,i.__)("Action","advanced-database-cleaner"),sortable:!1,contentType:"string",width:"min-w-[200px]",visibility:""},{key:"frequency_display",label:(0,i.__)("Frequency","advanced-database-cleaner"),sortable:!0,contentType:"string",width:"min-w-[120px]",visibility:""},{key:"interval",label:(0,i.__)("Interval","advanced-database-cleaner"),sortable:!0,contentType:"int",width:"min-w-[100px]",visibility:""},{key:"site_id",label:(0,i.__)("Site","advanced-database-cleaner"),sortable:!0,contentType:"int",width:"min-w-[80px] max-w-[150px]",visibility:"1"===U?"":"hidden"},{key:"belongs_to",label:(0,i.__)("Belongs to","advanced-database-cleaner"),sortable:!1,contentType:"string",tooltipText:(0,i.__)("The plugin or theme the item belongs to, determined after running a scan. If uncertain, an estimated likelihood (%) is shown, the higher the percentage, the more likely the item belongs to that plugin/theme.","advanced-database-cleaner"),width:"min-w-[200px]",visibility:""}],t=[[{key:"bulk_actions",label:(0,i.__)("Bulk actions","advanced-database-cleaner")}],[{key:"scan_cron_jobs",label:"FREE"===z?n.createElement("span",{className:"flex items-center"},(0,i.__)("Scan","advanced-database-cleaner"),n.createElement("span",{className:"ml-1 flex items-center gap-1 !text-[.75rem] font-semibold text-yellow-600"},n.createElement(s.xGQ,{className:"text-[.9rem] text-yellow-500"}),(0,i.__)("(premium)","advanced-database-cleaner"))):(0,i.__)("Scan","advanced-database-cleaner"),tooltipText:n.createElement("span",null,(0,i.__)("The scan allows the identification of the plugins or themes to which the items belong.","advanced-database-cleaner"),"FREE"===z&&n.createElement("div",{className:"flex text-yellow-600"},(0,i.__)("Available in the premium version.","advanced-database-cleaner"))),disabled:"FREE"===z},{key:"edit_scan_results_cron_jobs",label:(0,i.__)("Edit scan result","advanced-database-cleaner"),tooltipText:(0,i.__)("You can edit the scan results to correctly associate items with their respective plugins or themes if you are certain of their belonging.","advanced-database-cleaner"),isVisible:"PREMIUM"===z}],[{key:"delete_cron_jobs",label:(0,i.__)("Delete","advanced-database-cleaner"),tooltipText:(0,i.__)("Delete the selected items.","advanced-database-cleaner"),danger:!0}]];return n.createElement(Os,{tabName:"cron_jobs",actions:t,columns:e})},can_be_hidden:!0,show_in_menu:!0}]},{group_id:"group_3",is_last_group:!1,items:[{id:"automation",name:(0,i.__)("Automation","advanced-database-cleaner"),href:km.href+"&tab=automation",icon:pe.qsz,icon_size:"h-[21px] w-[21px]",component:function(){var e=(0,d.d4)((function(e){return e.shared.currentSubTabId}));return n.createElement(n.Fragment,null,"add_edit_task"===e?n.createElement(ea,null):n.createElement(La,null))},can_be_hidden:!0,show_in_menu:!0},{id:"analytics",name:(0,i.__)("DB analytics","advanced-database-cleaner"),href:km.href+"&tab=analytics",icon:c.YfN,icon_size:"h-[18px] w-[18px]",component:function(){var e=(0,d.d4)((function(e){return e.setting.analyticsEnabled})),t=function(){var e,t=null!==(e=F.analytics_execution)&&void 0!==e?e:{},r=t.success,n=void 0===r?0:r,a=t.fail,o=void 0===a?0:a;if(0===n&&0===o)return null;var c=n>=o;return{timeStamp:c?n:o,label:c?(0,i.__)("Last analytics execution was successful on:","advanced-database-cleaner"):(0,i.__)("Last analytics execution failed on:","advanced-database-cleaner"),status:c?"success":"fail"}}(),r=(0,d.wA)();return n.createElement(n.Fragment,null,!e&&n.createElement(rf,{type:"warning"},n.createElement("p",{className:"flex items-center gap-2"},(0,i.__)("You disabled this module. Please enable it in the settings to track database changes.","advanced-database-cleaner"),n.createElement(P,{href:"",onClick:function(e){e.preventDefault(),r(Mm({tabId:"settings",anchorId:"other_settings"}))}},(0,i.__)("Go to settings","advanced-database-cleaner")))),n.createElement(sr,{tabsItems:dn}),t&&n.createElement(n.Fragment,null,n.createElement("div",{className:"my-4 flex flex-col items-end justify-end gap-x-1 text-end text-gray-600 ".concat("FREE"===z?"blur-[1px]":"")},n.createElement("div",{className:"flex flex-col gap-x-1 sm:flex-row"},n.createElement("span",{className:"".concat("success"===t.status?"text-green-600":"text-red-600")},t.label),n.createElement("span",null,ft(t.timeStamp),(0,i.__)(" (local time)","advanced-database-cleaner"))),n.createElement("div",{className:"flex items-center justify-end text-[.75rem] text-gray-400"},(0,i.__)("Note: Analytics data is refreshed every 24 hours.","advanced-database-cleaner")))))},can_be_hidden:!0,show_in_menu:!0,is_premium:!0},{id:"addons_activity",name:(0,i.__)("Addons activity","advanced-database-cleaner"),href:km.href+"&tab=addons_activity",icon:A.WBu,icon_size:"h-[21px] w-[21px]",component:function(){var e,t=Gt((0,n.useState)(null),2),r=t[0],a=t[1],o=Gt((0,n.useState)(!0),2),c=o[0],u=o[1],m=Gt((0,n.useState)(""),2),f=m[0],p=m[1],v=Gt((0,n.useState)(""),2),y=v[0],g=v[1],b=Gt((0,n.useState)(""),2),x=b[0],_=b[1],E=Gt((0,n.useState)(""),2),N=E[0],k=E[1],S=(0,d.d4)((function(e){return e.filter.currentPage})),L=(0,d.d4)((function(e){return e.filter.itemsPerPage})),j=(0,d.d4)((function(e){return e.setting.addonsActivityEnabled})),O=(0,d.d4)((function(e){return e.shared.showAddonsActivityNotice})),T=(0,d.wA)(),I=null!==(e=Rt.find((function(e){return e.key===y})))&&void 0!==e?e:Rt[0],F=""!==x||""!==N;(0,n.useEffect)((function(){M(x,N)}),[S,L]);var M=function(){var e,t=(e=Ft().mark((function e(t,r){var n,o,i=arguments;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>2&&void 0!==i[2]?i[2]:null,u(!0),e.prev=2,"PREMIUM"!==z){e.next=9;break}return e.next=6,rt({search:t,activity_type:r,offset:n?(n-1)*L:(S-1)*L,limit:L});case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,xt();case 11:e.t0=e.sent;case 12:o=e.t0,a(o.data),n&&T(Ge(n)),e.next=21;break;case 17:e.prev=17,e.t1=e.catch(2),Pt(T,e.t1.message),a(null);case 21:return e.prev=21,u(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[2,17,21,24]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Mt(o,n,a,i,c,"next",e)}function c(e){Mt(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(e,r){return t.apply(this,arguments)}}(),G=function(e){switch(e){case"activation":return"text-green-600 bg-green-100";case"deactivation":return"text-gray-600 bg-gray-200";default:return"text-red-600 bg-red-100"}};return n.createElement("div",{className:"relative min-h-[500px]"},n.createElement("div",{className:"".concat("FREE"===z?"pointer-events-none blur-[1px]":"")},j&&O&&n.createElement(rf,{type:"info",notificationKey:"addons_activity_info"},(0,i.__)("This module tracks plugin and theme activity, including activation, deactivation, and uninstallation, and provides a complete history for debugging and site analysis.","advanced-database-cleaner")," ","1"===U&&(0,i.__)("(Only the current site will be monitored. Activities on child sites will not be tracked).","advanced-database-cleaner")),!j&&n.createElement(rf,{type:"warning"},n.createElement("p",{className:"flex items-center gap-2"},(0,i.__)("You disabled this module. Please enable it in the settings to start recording addon activities.","advanced-database-cleaner"),n.createElement(P,{href:"",onClick:function(e){e.preventDefault(),T(Mm({tabId:"settings",anchorId:"other_settings"}))}},(0,i.__)("Go to settings","advanced-database-cleaner")))),n.createElement("div",{className:"flex w-full flex-col justify-between gap-y-4 rounded-xl border bg-gray-200/80 p-3 text-[.7rem] text-gray-900 shadow-sm xl:flex-row"},n.createElement("form",{className:"grid grid-cols-2 items-end gap-x-4 sm:grid-cols-3 xl:flex"},n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Search for","advanced-database-cleaner")),n.createElement(h,{placeholder:(0,i.__)("Addon name or slug","advanced-database-cleaner"),className:"mt-1 !h-[2rem] w-full !border-gray-300 xl:w-[15rem]",onChange:function(e){return p(e.target.value)},maxLength:200,value:f})),n.createElement("div",null,n.createElement("div",{className:"leading-6"},(0,i.__)("Activity type","advanced-database-cleaner")),n.createElement(uf,{selectItems:zt,selectedItem:I,onSelectionChange:function(e){return g(e)},minWidthButton:"w-full xl:min-w-[9rem]",minWidthContent:"min-w-[150px]"})),n.createElement("div",null,n.createElement(w,{Icon:Ve.F3z,text:(0,i.__)("Filter","advanced-database-cleaner"),className:"mt-2 !h-[2rem] xl:mt-0",onClick:function(e){e.preventDefault(),_(f),k(y),M(f,y,1)}}))),n.createElement("div",{className:"flex items-end gap-x-4"},n.createElement("div",null,n.createElement("span",{className:"text-[.8rem] text-gray-800"},(0,i.__)("Total activities","advanced-database-cleaner"),":"," ",n.createElement("span",{className:"font-semibold"},null!=r&&r.total?null==r?void 0:r.total:0))),n.createElement("div",{className:"flex items-center gap-x-[4px] border-l border-gray-400 pl-4"},n.createElement(P,{href:"#",className:"text-[.8rem] font-semibold text-black no-underline",onClick:function(e){e.preventDefault(),c||M(x,N)}},n.createElement(s.JbZ,{className:"".concat(c?"animate-spin":"")}),(0,i.__)("Refresh","advanced-database-cleaner"))),F&&n.createElement("div",{className:"flex items-center gap-x-[4px] border-l border-gray-400 pl-4"},n.createElement(P,{href:"#",className:"text-[.8rem] font-semibold text-red-600 no-underline",onClick:function(e){e.preventDefault(),p(""),g(""),_(""),k(""),M("","",1)}},n.createElement(s.k7K,null),(0,i.__)("Reset filters","advanced-database-cleaner"))))),n.createElement("div",{className:"mt-8 flex justify-end text-[.82rem] text-gray-800"},(null==r?void 0:r.total)>L&&n.createElement("div",null,n.createElement(He,{totalItems:null==r?void 0:r.total,top:!1,loading:c,filterApplied:F}))),c?n.createElement("div",{className:"flex min-h-[300px] items-center justify-center"},n.createElement(C,{spinnerColor:"text-blue-600"})):n.createElement("div",{className:"mt-6 rounded-xl border border-gray-200 bg-gray-50 px-4 py-2"},r&&r.activity_timeline&&0!==r.activity_timeline.length?n.createElement("div",{className:"relative py-2"},n.createElement("div",{className:"absolute bottom-0 left-6 top-0 w-px bg-gray-200"}),n.createElement("ul",{className:"space-y-1"},r.activity_timeline.map((function(e,t){return n.createElement("li",{key:"".concat(e.timestamp,"-").concat(t),className:"group"},n.createElement("div",{className:"relative -m-[11px] flex items-start space-x-6 rounded-lg px-4 py-4 transition-all duration-200 hover:bg-gray-300/40"},n.createElement("div",{className:"relative z-10 flex-shrink-0"},n.createElement("div",{className:"flex h-10 w-10 items-center justify-center rounded-full border border-gray-200 bg-white transition-all duration-300 group-hover:border-gray-400"},function(e){switch(e){case"activation":return n.createElement("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-green-200"},n.createElement(me.CMH,{className:"h-3 w-3 text-green-700"}));case"deactivation":return n.createElement("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-gray-300"},n.createElement(he.hjN,{className:"h-4 w-4"}));default:return n.createElement("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-red-200"},n.createElement(pe.FyX,{className:"h-5 w-5 text-red-700"}))}}(e.activity_type)),t!==r.activity_timeline.length-1&&n.createElement("div",{className:"absolute left-1/2 top-12 h-8 w-px -translate-x-px transform bg-gray-200"})),n.createElement("div",{className:"min-w-0 flex-1 pt-1"},n.createElement("div",{className:"mb-1 flex items-center justify-between"},n.createElement("div",{className:"flex flex-col gap-y-2 md:flex-row md:items-center md:space-x-2"},n.createElement("span",{className:"rounded-md px-1 text-[.7rem] font-semibold uppercase tracking-wide ".concat(G(e.activity_type)," ")},e.activity_type),n.createElement("span",{className:"text-xs text-gray-800"},ft(e.timestamp)))),n.createElement("div",{className:"mb-1 flex flex-col xl:flex-row xl:items-center xl:justify-between"},n.createElement("h4",{className:"text-[.83rem] font-semibold text-gray-900"},e.addon_name),n.createElement("p",{className:"font-mono text-[.85rem] text-gray-500"},e.slug)))))})))):n.createElement("div",{className:"flex min-h-[300px] flex-col items-center justify-center rounded-xl px-6"},n.createElement("div",{className:"flex h-16 w-16 items-center justify-center rounded-full border border-gray-200 bg-gray-100"},n.createElement(s.t2D,{className:"h-7 w-7 text-gray-400"})),n.createElement("div",{className:"mt-6 text-center"},n.createElement("h3",{className:"mb-3 text-[1.3em] font-bold text-gray-800"},(0,i.__)("No activity found!","advanced-database-cleaner")),n.createElement("p",{className:"text-sm leading-relaxed text-gray-500"},F?(0,i.__)("No activity found for the applied filters. Try different filters.","advanced-database-cleaner"):(0,i.__)("Once you activate, deactivate or uninstall addons, they will appear here.","advanced-database-cleaner"))))),n.createElement("div",{className:"mt-2 flex justify-end gap-3 text-[.75rem] text-gray-400"},(0,i.__)("(All dates/times are in your local time zone)","advanced-database-cleaner")),n.createElement("div",{className:"mt-4 flex flex-col items-center justify-between gap-y-6 text-[.82rem] text-gray-800 sm:flex-row"},(null==r?void 0:r.total)>25&&n.createElement($e,null),(null==r?void 0:r.total)>L&&n.createElement("div",null,n.createElement(He,{totalItems:null==r?void 0:r.total,top:!1,loading:c,filterApplied:F})))),"FREE"===z&&n.createElement("div",{className:"absolute inset-0 top-[85px] z-20 flex justify-center rounded-lg bg-white/40 backdrop-blur-[1px]"},n.createElement("div",{className:"mx-4 max-h-[450px] min-h-[200px] min-w-[500px] border border-gray-200 bg-white p-8 shadow-2xl"},n.createElement("div",{className:"text-center"},n.createElement("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-r from-yellow-400 to-orange-500"},n.createElement(s.xGQ,{className:"h-8 w-8 text-white"})),n.createElement("h3",{className:"mb-3 text-xl font-bold text-gray-900"},(0,i.__)("Unlock Addons Activity Timeline","advanced-database-cleaner")),n.createElement("p",{className:"mb-6 text-gray-600"},(0,i.__)("Upgrade to the Premium to access the addons activity timeline.","advanced-database-cleaner")),n.createElement("div",{className:"mb-6 space-y-2 text-left text-sm text-gray-700"},n.createElement("div",{className:"flex items-center gap-2"},n.createElement(l.LGE,{className:"h-4 w-4 rounded-full bg-green-100 text-green-600"}),n.createElement("span",null,(0,i.__)("Complete activity timeline","advanced-database-cleaner"))),n.createElement("div",{className:"flex items-center gap-2"},n.createElement(l.LGE,{className:"h-4 w-4 rounded-full bg-green-100 text-green-600"}),n.createElement("span",null,(0,i.__)("See when an addon was activated or removed","advanced-database-cleaner"))),n.createElement("div",{className:"flex items-center gap-2"},n.createElement(l.LGE,{className:"h-4 w-4 rounded-full bg-green-100 text-green-600"}),n.createElement("span",null,(0,i.__)("Search and filter activities","advanced-database-cleaner")))),n.createElement(P,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=addons-activity&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"group block !w-full transform rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-2 text-center !text-[1rem] font-medium text-white !no-underline shadow-lg transition-all hover:from-blue-700 hover:to-purple-700 hover:!text-white focus:!text-white"},n.createElement("span",{className:"flex items-center justify-center gap-2"},(0,i.__)("Upgrade to Premium","advanced-database-cleaner"),n.createElement(A.L2n,{className:"mt-[4px] h-4 w-4 transition-transform duration-200 group-hover:translate-x-0.5"}))),n.createElement("div",{className:"mt-4"},n.createElement(P,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=addons-activity&utm_medium=adbc-free&utm_campaign=plugins&utm_content=learn-more-about-premium-features",target:"_blank",className:"!text-sm !font-normal !text-blue-600 !no-underline hover:!text-blue-800 hover:!underline"},(0,i.__)("Learn more about Premium features","advanced-database-cleaner")))))))},can_be_hidden:!0,show_in_menu:!0,is_premium:!0}]},{group_id:"group_4",is_last_group:!0,items:[{id:"info_and_logs",name:(0,i.__)("Info & logs","advanced-database-cleaner"),href:km.href+"&tab=info_and_logs",icon:fe.xe2,icon_size:"h-[18px] w-[19px]",component:function(){return n.createElement(sr,{tabsItems:Bu})},can_be_hidden:!0,show_in_menu:!0},{id:"settings",name:(0,i.__)("Settings","advanced-database-cleaner"),href:km.href+"&tab=settings",icon:l.hyW,icon_size:"h-[21px] w-[21px]",component:function(){var e=(0,d.d4)((function(e){return e.shared.anchorId}));return(0,n.useEffect)((function(){if(e){var t=document.getElementById(e);t&&setTimeout((function(){t.scrollIntoView({behavior:"smooth",block:"start"})}),300)}}),[e]),n.createElement("div",{className:"max-w-2xl"},"PREMIUM"===z&&n.createElement(ql,{title:(0,i.__)("License","advanced-database-cleaner"),description:(0,i.__)("Manage your license from this section.","advanced-database-cleaner"),content:n.createElement(Ld,null)}),n.createElement(ql,{title:(0,i.__)("Menu placement","advanced-database-cleaner"),description:(0,i.__)("Select where to display the plugin menu.","advanced-database-cleaner"),content:n.createElement(Md,null)}),n.createElement(ql,{title:(0,i.__)("Hide/show tabs","advanced-database-cleaner"),description:(0,i.__)("Select which tabs to hide or show in the plugin menu.","advanced-database-cleaner"),content:n.createElement(gm,null)}),n.createElement(ql,{title:(0,i.__)("Performance settings","advanced-database-cleaner"),description:(0,i.__)("Configure performance-related settings for database cleanup operations and optimization.","advanced-database-cleaner"),content:n.createElement(Xd,null)}),"PREMIUM"===z&&n.createElement(ql,{title:(0,i.__)("Scan settings","advanced-database-cleaner"),description:(0,i.__)("The scan process identifies to which plugin/theme a table, option, or other element belongs. You can customize this process using the scan settings below.","advanced-database-cleaner"),content:n.createElement(mm,null)}),n.createElement(ql,{title:(0,i.__)("Other settings","advanced-database-cleaner"),description:(0,i.__)("Other settings to configure the plugin behavior.","advanced-database-cleaner"),content:n.createElement(Bd,null),anchorId:"other_settings"}),"PREMIUM"===z&&n.createElement(ql,{title:(0,i.__)("Remote scan credits","advanced-database-cleaner"),description:(0,i.__)("Daily credit balance for enhancing local scan accuracy via remote server analysis. Each credit enables one request to improve detection of tables, options, and other elements linked to specific plugins and themes.","advanced-database-cleaner"),readMoreLink:"https://docs.sigmaplugin.com/article/58-understanding-documentation-remote-scan-credits-in-advanced-database-cleaner-premium?utm_source=settings&utm_medium=adbc-premium&utm_campaign=plugins&utm_content=documentation-remote-scan-credits",content:n.createElement(ls,null)}))},can_be_hidden:!1,show_in_menu:!0},{id:"premium",name:(0,i.__)("Premium","advanced-database-cleaner"),href:km.href+"&tab=premium",icon:ve.l7J,icon_size:"h-[19px] w-[19px]",component:function(){var e=[{name:(0,i.__)("19 standard cleanup tools","advanced-database-cleaner"),icon:n.createElement(he.DHF,{className:"h-6 w-6 text-indigo-400"}),description:(0,i.__)("Revisions, Auto drafts, unused postmeta, unused usermeta, expired transients, and more.","advanced-database-cleaner"),free:!0,pro:!0},{name:(0,i.__)("Preview before you clean","advanced-database-cleaner"),icon:n.createElement($u.xyf,{className:"h-6 w-6 text-emerald-400"}),description:(0,i.__)("Inspect revisions, unused post meta, and other items with full context prior to deletion.","advanced-database-cleaner"),free:!0,pro:!0},{name:(0,i.__)("Retention by date","advanced-database-cleaner"),icon:n.createElement(ra.Amo,{className:"h-6 w-6 text-purple-400"}),description:(0,i.__)("Keep the latest items per day and delete older ones.","advanced-database-cleaner"),free:!0,pro:!0},{name:(0,i.__)("6 data managers","advanced-database-cleaner"),icon:n.createElement(ye.wIx,{className:"h-6 w-6 text-cyan-400"}),description:(0,i.__)("Manage and deeply clean Tables, Options, Post Meta, User Meta, Transients, and Cron Jobs.","advanced-database-cleaner"),free:!0,pro:!0},{name:(0,i.__)("Autoload health check","advanced-database-cleaner"),icon:n.createElement(ye.uBf,{className:"h-6 w-6 text-orange-400"}),description:(0,i.__)("Check autoloaded options and spot heavy offenders. Then flip autoload on/off as needed.","advanced-database-cleaner"),free:!0,pro:!0},{name:(0,i.__)("Basic filters","advanced-database-cleaner"),icon:n.createElement(ye.XPy,{className:"h-6 w-6 text-pink-400"}),description:(0,i.__)("Quickly locate items to clean, optimize, or manage with preset filters.","advanced-database-cleaner"),free:!0,pro:!0},{name:(0,i.__)("Retention by count","advanced-database-cleaner"),icon:n.createElement(ye.Yd$,{className:"h-6 w-6 text-teal-400"}),description:(0,i.__)("Keep the last N items per post or entity and delete the rest.","advanced-database-cleaner"),free:!1,pro:!0},{name:(0,i.__)("Advanced filters","advanced-database-cleaner"),icon:n.createElement(ye.o5_,{className:"h-6 w-6 text-rose-400"}),description:(0,i.__)("Filter items by name patterns, metadata, and precise criteria.","advanced-database-cleaner"),free:!1,pro:!0},{name:(0,i.__)("Local scan","advanced-database-cleaner"),icon:n.createElement(ye.Mqc,{className:"h-6 w-6 text-amber-400"}),description:(0,i.__)("Scan options, tables, post meta, and more to identify their plugin/theme owners and detect orphans.","advanced-database-cleaner"),free:!1,pro:!0},{name:(0,i.__)("Remote SmartScan","advanced-database-cleaner"),icon:n.createElement(ye.c$4,{className:"h-6 w-6 text-sky-400"}),description:(0,i.__)("Cross-check your items with a curated cloud database for improved ownership accuracy.","advanced-database-cleaner"),free:!1,pro:!0},{name:(0,i.__)("Who uses this item?","advanced-database-cleaner"),icon:n.createElement(Dl.qZP,{className:"h-6 w-6 text-lime-500"}),description:(0,i.__)("After a remote scan, see which plugins/themes rely on a given option, table, etc.","advanced-database-cleaner"),free:!1,pro:!0},{name:(0,i.__)("Manual corrections","advanced-database-cleaner"),icon:n.createElement(ye.mDV,{className:"h-6 w-6 text-fuchsia-400"}),description:(0,i.__)("Assign specific items to the correct plugin/theme when needed.","advanced-database-cleaner"),free:!1,pro:!0},{name:(0,i.__)("Contribute corrections","advanced-database-cleaner"),icon:n.createElement(ye.Ddm,{className:"h-6 w-6 text-blue-400"}),description:(0,i.__)("Submit your verified corrections to improve global scan accuracy.","advanced-database-cleaner"),free:!1,pro:!0},{name:(0,i.__)("Action Scheduler cleaners","advanced-database-cleaner"),icon:n.createElement(ra.lNg,{className:"h-6 w-6 text-green-400"}),description:(0,i.__)("7 dedicated tools for canceled, failed, and completed actions and logs.","advanced-database-cleaner"),free:!1,pro:!0},{name:(0,i.__)("Create scheduled tasks","advanced-database-cleaner"),icon:n.createElement(ye.W4C,{className:"h-6 w-6 text-red-400"}),description:(0,i.__)("Automate routine cleanups exactly when you want them.","advanced-database-cleaner"),free:(0,i.__)("Up to 5 tasks","advanced-database-cleaner"),pro:(0,i.__)("Unlimited","advanced-database-cleaner")},{name:(0,i.__)("Execution logs for scheduled tasks","advanced-database-cleaner"),icon:n.createElement(ye.NJW,{className:"h-6 w-6 text-indigo-400"}),description:(0,i.__)("View detailed logs for every scheduled task you create.","advanced-database-cleaner"),free:!1,pro:!0},{name:(0,i.__)("Database analytics overview","advanced-database-cleaner"),icon:n.createElement(ye.JKR,{className:"h-6 w-6 text-emerald-400"}),description:(0,i.__)("Track total DB size and table count over time; drill into daily or monthly changes.","advanced-database-cleaner"),free:!1,pro:!0},{name:(0,i.__)("Tables growth analytics","advanced-database-cleaner"),icon:n.createElement(pe.VCI,{className:"h-6 w-6 text-purple-400"}),description:(0,i.__)("Monitor per-table size and row count trends to spot issues early.","advanced-database-cleaner"),free:!1,pro:!0},{name:(0,i.__)("Add-ons activity monitor","advanced-database-cleaner"),icon:n.createElement(ge.QWR,{className:"h-6 w-6 text-cyan-400"}),description:(0,i.__)("See when plugins are activated, deactivated, or uninstalled, then filter the timeline.","advanced-database-cleaner"),free:!1,pro:!0},{name:(0,i.__)("Multisite support","advanced-database-cleaner"),icon:n.createElement(ye.MFJ,{className:"h-6 w-6 text-pink-400"}),description:(0,i.__)("Designed for networks, manage cleanup across sites.","advanced-database-cleaner"),free:(0,i.__)("Limited","advanced-database-cleaner"),pro:(0,i.__)("Full","advanced-database-cleaner")},{name:(0,i.__)("Multisite: filter by site","advanced-database-cleaner"),icon:n.createElement(ye.XPy,{className:"h-6 w-6 text-teal-400"}),description:(0,i.__)("Target specific sub-sites when reviewing or cleaning data.","advanced-database-cleaner"),free:!1,pro:!0},{name:(0,i.__)("Advanced scan settings & CPU control","advanced-database-cleaner"),icon:n.createElement(pe.GD,{className:"h-6 w-6 text-violet-400"}),description:(0,i.__)("Tune scan depth and resource usage to fit your hosting limits.","advanced-database-cleaner"),free:!1,pro:!0},{name:(0,i.__)("Priority email support","advanced-database-cleaner"),icon:n.createElement(A.FlW,{className:"h-6 w-6 text-rose-400"}),description:(0,i.__)("Skip the queue and get help from the developers faster.","advanced-database-cleaner"),free:!1,pro:!0}],t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"md",r="sm"===t?"h-2 w-2":"h-4 w-4",a="sm"===t?"h-2 w-2":"h-4 w-4";return!0===e?n.createElement("span",{className:"inline-flex items-center justify-center"},n.createElement("div",{className:"rounded-full bg-gradient-to-r from-emerald-400 to-green-500 p-1"},n.createElement(fe.CMH,{className:"".concat(r," text-white")}))):!1===e?n.createElement("span",{className:"inline-flex items-center justify-center"},n.createElement("div",{className:"rounded-full bg-gradient-to-r from-red-400 to-rose-500 p-1"},n.createElement(pe.$8F,{className:"".concat(a," text-white")}))):n.createElement("span",{className:"text-sm font-medium"},e)};return n.createElement("div",{className:"min-h-screen"},n.createElement("div",{className:"mx-auto max-w-6xl px-0 pt-4 sm:pt-4"},n.createElement("div",{className:"mb-8 text-center sm:mb-12"},n.createElement("div",{className:"mb-6 inline-flex items-center gap-3 rounded-full border border-indigo-500/20 bg-gradient-to-r from-indigo-500/10 to-purple-500/10 px-6 py-3 text-sm font-medium text-indigo-600"},"FREE"===z?n.createElement(ge.JX6,{className:"h-5 w-5 text-yellow-500"}):n.createElement(s.xGQ,{className:"h-5 w-5 text-blue-600"}),"FREE"===z?(0,i.__)("You're using the Free version","advanced-database-cleaner"):(0,i.__)("You're using the Premium version","advanced-database-cleaner")),"FREE"===z&&n.createElement(n.Fragment,null,n.createElement("h1",{className:"mx-auto mb-6 max-w-4xl bg-gradient-to-r from-gray-800 via-indigo-600 to-purple-600 bg-clip-text text-xl font-bold leading-tight text-transparent sm:text-2xl lg:text-2xl"},(0,i.__)("Upgrade to Premium for the most accurate, safe database cleanup","advanced-database-cleaner")),n.createElement("div",{className:"text-[.8rem]"},n.createElement(P,{href:"https://docs.sigmaplugin.com/category/70-faq?utm_source=premium-page&utm_medium=adbc-free&utm_campaign=plugins&utm_content=documentation-faq",target:"_blank",className:"!text-blue-700 !no-underline hover:!text-blue-800"},(0,i.__)("FAQ","advanced-database-cleaner")),n.createElement("span",{className:"mx-2"},"-"),n.createElement(P,{href:"https://sigmaplugin.com/contact?utm_source=premium-page&utm_medium=adbc-free&utm_campaign=plugins&utm_content=support",target:"_blank",className:"!text-blue-700 !no-underline hover:!text-blue-800"},(0,i.__)("Pre-sale Question","advanced-database-cleaner"))))),n.createElement("div",{className:"overflow-hidden rounded-2xl border border-gray-200 bg-white shadow-xl"},n.createElement("div",{className:"hidden grid-cols-6 border-b-0 border-gray-200 bg-gray-100 md:grid"},n.createElement("div",{className:"col-span-4 border-b-0 bg-white px-4 sm:px-6"},n.createElement("div",{className:"pt-6 text-base font-semibold text-black sm:pt-8 sm:text-lg"},(0,i.__)("Features","advanced-database-cleaner"))),n.createElement("div",{className:"flex flex-col items-center border-x border-b border-gray-200 px-4 py-3 text-center sm:px-6"},n.createElement("div",{className:"mb-1 mt-2 flex items-center justify-center gap-2 sm:mb-2 sm:mt-4"},n.createElement(ge.JX6,{className:"h-5 w-5 text-yellow-500"}),n.createElement("h3",{className:"text-base font-semibold text-gray-900 sm:text-lg"},(0,i.__)("Free","advanced-database-cleaner")))),n.createElement("div",{className:"flex flex-col items-center border-b border-gray-200 px-4 py-3 text-center sm:px-6"},n.createElement("div",{className:"mb-1 mt-2 flex items-center justify-center gap-2 sm:mb-2 sm:mt-4"},n.createElement(s.xGQ,{className:"h-5 w-5 text-blue-600"}),n.createElement("h3",{className:"text-base font-semibold text-gray-900 sm:text-lg"},(0,i.__)("Premium","advanced-database-cleaner"))))),"FREE"===z&&n.createElement("div",{className:"hidden grid-cols-6 border-b border-gray-200 bg-white md:grid"},n.createElement("div",{className:"col-span-4"}),n.createElement("div",{className:"flex flex-col items-center border-x border-gray-200 px-4 py-3 text-center sm:px-6"},n.createElement("div",{className:"text-[.9rem] text-gray-900"},(0,i.__)("Installed","advanced-database-cleaner"))),n.createElement("div",{className:"relative px-4 py-3 text-center sm:px-6"},n.createElement("div",{className:"text-[.9rem]"},n.createElement(P,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=premium-page&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"!text-blue-600 hover:!text-blue-800"},n.createElement("span",{className:"hidden xl:flex"},(0,i.__)("Upgrade now","advanced-database-cleaner")),n.createElement("span",{className:"flex xl:hidden"},(0,i.__)("Upgrade","advanced-database-cleaner")))))),e.map((function(e,r){return n.createElement("div",{key:r,className:"grid grid-cols-1 items-stretch border-t border-gray-100 transition-colors first:border-t-0 hover:bg-gray-50 md:grid-cols-6 md:items-center md:hover:bg-gray-100"},n.createElement("div",{className:"col-span-1 p-4 sm:p-5 md:col-span-4"},n.createElement("div",{className:"flex items-start gap-3"},n.createElement("div",{className:"mt-1 shrink-0 rounded-xl bg-gradient-to-r from-gray-100 to-gray-200 p-2 transition-all group-hover:from-gray-200 group-hover:to-gray-300"},e.icon),n.createElement("div",{className:"min-w-0"},n.createElement("div",{className:"text-[.95rem] font-medium leading-snug text-gray-900 sm:text-[1rem]"},e.name),e.description&&n.createElement("div",{className:"mt-1 text-[.85rem] leading-relaxed text-gray-600 sm:text-sm"},e.description),n.createElement("div",{className:"mt-3 flex items-center gap-3 text-[.9rem] md:hidden"},n.createElement("span",{className:"inline-flex items-center gap-2 rounded-full bg-gray-100 px-2.5 py-1 text-yellow-600"},n.createElement(ge.JX6,{className:"h-4 w-4"}),(0,i.__)("Free","advanced-database-cleaner"),t(e.free,"sm")),n.createElement("span",{className:"inline-flex items-center gap-2 rounded-full bg-blue-50 px-2.5 py-1 text-blue-700"},n.createElement(s.xGQ,{className:"h-4 w-4"}),(0,i.__)("Premium","advanced-database-cleaner"),t(e.pro,"sm")))))),n.createElement("div",{className:"hidden h-full bg-gray-100 md:block"},n.createElement("div",{className:"flex h-full items-center justify-center border-x border-gray-100 p-4 text-center"},t(e.free))),n.createElement("div",{className:"hidden h-full bg-gray-100 md:flex"},n.createElement("div",{className:"flex h-full w-full items-center justify-center p-4 text-center"},t(e.pro))))})),"FREE"===z&&n.createElement("div",{className:"grid grid-cols-1 border-t border-gray-200 bg-gray-50 md:grid-cols-6"},n.createElement("div",{className:"hidden p-4 sm:p-6 md:col-span-4 md:block"}),n.createElement("div",{className:"col-span-1 p-4 text-center sm:p-6 md:col-span-2"},n.createElement(P,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=premium-page&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"group block !w-full transform rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-3 text-center !text-[1rem] font-medium text-white !no-underline shadow-lg transition-all hover:from-blue-700 hover:to-purple-700 hover:!text-white focus:!text-white"},(0,i.__)("Upgrade now","advanced-database-cleaner"),n.createElement(A.L2n,{className:"mt-[4px] h-4 w-4 transition-transform duration-200 group-hover:translate-x-0.5"}))))),n.createElement("div",{className:"mt-8 px-4 text-center sm:mt-10"},n.createElement("p",{className:"mb-4 !text-[.9rem] text-gray-800 sm:text-base"},(0,i.__)("All premium plans include a 30-day money-back guarantee","advanced-database-cleaner")))))},can_be_hidden:!1,show_in_menu:"FREE"===z}]}],Lm=Sm.flatMap((function(e){return e.items}));function jm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Om,Tm,Pm,Im=function(e,t){var r=new URL(window.location.href);r.searchParams.set(e,t),window.history.pushState({},"",r)},Cm=function(e){var t=new URL(window.location.href);return t.searchParams.set("sub_tab",e),t.pathname+t.search},Am=(0,m.Z0)({name:"shared",initialState:{currentTabId:function(){var e,t=new URLSearchParams(window.location.search),r=null==t||null===(e=t.get("tab"))||void 0===e||null===(e=e.replace(/[^a-z_-]/g,""))||void 0===e?void 0:e.slice(0,64);if(!r)return Lm[0].id;var n=Lm.find((function(e){return e.id===r}));return n?n.id:Lm[0].id}(),currentSubTabId:(Tm=new URLSearchParams(window.location.search),Pm=null==Tm||null===(Om=Tm.get("sub_tab"))||void 0===Om||null===(Om=Om.replace(/[^a-z_-]/g,""))||void 0===Om?void 0:Om.slice(0,64),Pm||null),anchorId:null,hideFilters:!1,name:null,siteId:null,rowId:null,transientFoundIn:"",isContentValueModalShown:!1,taskId:function(){var e,t=new URLSearchParams(window.location.search);return(null==t||null===(e=t.get("task_id"))||void 0===e||null===(e=e.replace(/[^a-zA-Z0-9-]/g,""))||void 0===e?void 0:e.slice(0,64))||null}(),showAddonsActivityNotice:!!B.addons_activity_info,showMigrationNotice:!!B.migration_available,showImportedTasksDeactivatedNotice:!!B.imported_tasks_deactivated_notice,isSupportModalShown:!1,isMigrationModalShown:!1,refreshCountsInOrangeHealthCheck:1},reducers:{navigateTo:function(e,t){var r,n=t.payload,a=n.tabId,o=n.subTabId,i=n.anchorId;a&&(e.currentTabId=a,Im("tab",a)),o?(e.currentSubTabId=o,Im("sub_tab",o)):(e.currentSubTabId=null,(r=new URL(window.location.href)).searchParams.delete("sub_tab"),window.history.pushState({},"",r)),e.anchorId=i||null,function(e){var t=new URL(window.location.href);(function(e){return function(e){if(Array.isArray(e))return jm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return jm(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jm(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()})(t.searchParams.keys()).forEach((function(r){e.includes(r)||t.searchParams.delete(r)})),window.history.pushState({},"",t)}(["page","tab","sub_tab"])},setHideFilters:function(e,t){e.hideFilters=t.payload},showContentValueModal:function(e,t){e.name=t.payload.name,e.siteId=t.payload.siteId,e.rowId=t.payload.rowId,e.transientFoundIn=t.payload.transientFoundIn,e.isContentValueModalShown=!0},hideContentValueModal:function(e){e.name=null,e.siteId=null,e.rowId=null,e.transientFoundIn="",e.isContentValueModalShown=!1},showSupportModal:function(e){e.isSupportModalShown=!0},showMigrationModal:function(e){e.isMigrationModalShown=!0},showImportedTasksDeactivatedNotice:function(e){e.showImportedTasksDeactivatedNotice=!0},hideSupportModal:function(e){e.isSupportModalShown=!1},hideMigrationModal:function(e){e.isMigrationModalShown=!1},setTaskId:function(e,t){e.taskId=t.payload},resetTaskId:function(e){e.taskId=null},hideAddonsActivityNotice:function(e){e.showAddonsActivityNotice=!1},hideMigrationNotice:function(e){e.showMigrationNotice=!1},hideImportedTasksDeactivatedNotice:function(e){e.showImportedTasksDeactivatedNotice=!1},forceRefreshCountsInOrangeHealthCheck:function(e){e.refreshCountsInOrangeHealthCheck+=1}}}),Fm=Am.actions,Mm=Fm.navigateTo,Gm=Fm.setHideFilters,Dm=Fm.showContentValueModal,zm=Fm.hideContentValueModal,Rm=Fm.showSupportModal,Bm=Fm.showMigrationModal,Um=Fm.showImportedTasksDeactivatedNotice,Wm=Fm.hideSupportModal,Ym=Fm.hideMigrationModal,Km=Fm.setTaskId,$m=Fm.resetTaskId,qm=Fm.hideAddonsActivityNotice,Hm=Fm.hideMigrationNotice,Vm=Fm.hideImportedTasksDeactivatedNotice,Qm=Fm.forceRefreshCountsInOrangeHealthCheck;const Jm=Am.reducer;function Xm(e){return Xm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xm(e)}function Zm(){Zm=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Xm(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(Xm(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function ef(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}var tf={success:{backgroundColor:"bg-emerald-50",textColor:"text-emerald-700",icon:n.createElement(A.OLr,{className:"h-6 w-6 text-emerald-500"})},info:{backgroundColor:"bg-blue-50",textColor:"text-gray-700",icon:n.createElement(A._AI,{className:"h-6 w-6 text-blue-500"})},warning:{backgroundColor:"bg-orange-100",textColor:"text-orange-800",icon:n.createElement(A.t5W,{className:"h-6 w-6 text-orange-500"})},error:{backgroundColor:"bg-red-50",textColor:"text-red-700",icon:n.createElement(A.ORb,{className:"h-6 w-6 text-red-500"})}};const rf=function(e){var t=e.type,r=void 0===t?"warning":t,a=e.showIcon,o=void 0===a||a,c=e.notificationKey,s=void 0===c?"":c,u=e.children,m=tf[r]||tf.warning,f=m.backgroundColor,p=m.textColor,h=m.icon,v=(0,d.wA)(),y=function(){var e,t=(e=Zm().mark((function e(){return Zm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne({notificationKey:s});case 3:e.t0=s,e.next="addons_activity_info"===e.t0?6:"imported_tasks_deactivated_notice"===e.t0?8:10;break;case 6:return v(qm()),e.abrupt("break",11);case 8:return v(Vm()),e.abrupt("break",11);case 10:return e.abrupt("break",11);case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(0),Pt(v,e.t1.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){ef(o,n,a,i,c,"next",e)}function c(e){ef(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return n.createElement("div",{className:"rounded-md ".concat(f," relative mb-5 p-4 shadow-md shadow-gray-200")},n.createElement("div",{className:"flex items-start gap-2"},o&&n.createElement("div",{className:"h-full flex-shrink-0"},n.createElement("div",null,h)),n.createElement("div",{className:"".concat(p," flex-1 pl-1 text-[.82rem]")},u),s&&n.createElement(j,{content:(0,i.__)("Dismiss","advanced-database-cleaner")},n.createElement("button",{onClick:y,className:"flex-shrink-0 rounded-full","aria-label":"Dismiss"},n.createElement(l.cW1,{className:"text-[19px] text-gray-500 hover:text-gray-800"})))))};function nf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var af={success:{borderColor:"border-green-600",bgColor:"bg-green-100",textColor:"text-green-700",progressBgColor:"bg-green-600",Icon:ta.iBF},error:{borderColor:"border-red-600",bgColor:"bg-red-100",textColor:"text-red-700",progressBgColor:"bg-red-600",Icon:de.$IH},warning:{borderColor:"border-amber-600",bgColor:"bg-amber-100",textColor:"text-amber-700",progressBgColor:"bg-amber-600",Icon:oi.lJS},info:{borderColor:"border-sky-600",bgColor:"bg-sky-100",textColor:"text-sky-700",progressBgColor:"bg-sky-600",Icon:de.nSS}};const of=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nf(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,n.useState)(0),2),t=e[0],r=e[1],o=(0,d.d4)((function(e){return e.notification})),i=(0,d.wA)();if((0,n.useEffect)((function(){if(o.show&&(r((function(e){return e+1})),o.autoHide)){var e=setTimeout((function(){i(Lt())}),1e3*o.hideAfter);return function(){return clearTimeout(e)}}}),[o]),!o.show)return null;var c=o.type,l=o.title,s=o.message,u=o.autoHide,m=o.hideAfter,f=af[c]||{borderColor:"border-gray-100",bgColor:"bg-white",textColor:"text-black",progressBgColor:"bg-black",Icon:ta.iBF},p=f.borderColor,h=f.bgColor,v=f.textColor,y=f.progressBgColor,g=f.Icon;return n.createElement(n.Fragment,null,n.createElement("div",{key:t,"aria-live":"assertive",className:"pointer-events-none fixed inset-0 z-50 mt-[1.8rem] flex items-end px-4 py-6 sm:items-start sm:p-6"},n.createElement("div",{className:"flex w-full flex-col items-center space-y-4 sm:items-end"},n.createElement(a.e,{appear:!0,show:!0,as:n.Fragment,enter:"transform ease-out duration-500 transition",enterFrom:"translate-y-2 opacity-0 sm:translate-y-20 sm:translate-x-0",enterTo:"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-100 ",leaveFrom:"opacity-100",leaveTo:"opacity-0"},n.createElement("div",{className:"pointer-events-auto w-full max-w-[320px] overflow-hidden border ".concat(p," rounded-xl ").concat(h," shadow-lg ring-1 ring-black ring-opacity-5")},n.createElement("div",{className:"p-3"},n.createElement("div",{className:"flex items-start"},n.createElement("div",{className:"flex-shrink-0"},n.createElement(g,{className:"h-5 w-5 ".concat(v),"aria-hidden":"true"})),n.createElement("div",{className:"ml-3 w-0 flex-1"},n.createElement("p",{className:"text-[.84rem] font-medium ".concat(v)},l),n.createElement("p",{className:"mt-1 text-[.82rem] text-gray-900"},s)),n.createElement("div",{className:"ml-4 flex flex-shrink-0"},n.createElement("button",{type:"button",className:"inline-flex rounded-md bg-transparent text-gray-500 hover:text-gray-700 focus:outline-none",onClick:function(){i(Lt())}},n.createElement("span",{className:"sr-only"},"Close"),n.createElement(ta.zhF,{className:"h-4 w-4","aria-hidden":"true"}))))),u&&n.createElement("div",{className:"h-[.1rem] w-full ".concat(y),style:{animation:"adbc-progress-line ".concat(m,"s linear forwards")}}))))))};var cf=r(9354);function lf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return sf(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?sf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const uf=function(e){var t=e.selectItems,r=e.selectedItem,o=void 0===r?"":r,i=e.onSelectionChange,c=e.minWidthButton,l=void 0===c?"":c,s=e.minWidthContent,d=void 0===s?"min-w-[200px]":s,m=e.maxHeight,f=void 0!==m&&m,p=e.buttonOnly,h=void 0!==p&&p,v=e.ButtonBgColor,y=void 0===v?"bg-white":v,g=e.borderColor,b=void 0===g?"border-gray-300":g,x=e.extraBtnClasses,w=void 0===x?"":x,_=e.labelClasses,E=void 0===_?"":_,k=e.truncateMaxWidth,S=void 0===k?"max-w-[130px]":k,j=lf((0,n.useState)(o||t[0][0]),2),O=j[0],T=j[1],P=lf((0,n.useState)(!1),2),I=P[0],C=P[1];return(0,n.useEffect)((function(){T(o||t[0][0])}),[o,t]),n.createElement(cf.WF,{value:O,onChange:function(e){e.disabled||(T(e),i&&i(e.key))},onToggle:function(){return C(!I)}},(function(e){var r=e.open;return n.createElement("div",{className:"relative"},h?n.createElement(cf.go,{className:N("flex !h-[1.9rem] cursor-pointer items-center rounded-lg border px-1 text-[.83rem] text-gray-900",b,y,w,I||r?"!border-black":"")},n.createElement(he.gpS,{className:"h-5 w-5","aria-hidden":"true"})):n.createElement(cf.go,{className:N("flex !h-[2rem] cursor-pointer items-center justify-between rounded-lg border text-left text-[.83rem] text-gray-900 hover:text-cyan-700",l,b,y,w,I||r?"!border-black":"")},n.createElement("span",{className:"block ".concat(S," truncate pl-2")},O.label),n.createElement(he.gpS,{className:"h-5 w-5 pr-1","aria-hidden":"true"})),n.createElement(a.e,{show:r,as:n.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100"},n.createElement(cf.wh,{className:"absolute right-0 z-50 mt-1 w-full ".concat(f?"max-h-[280px] overflow-auto":""," ").concat(d," rounded-lg border border-gray-400/80 bg-white p-2 text-gray-900 shadow-lg")},t.map((function(e,r){return n.createElement("div",{key:"action-group-"+r},e.map((function(e){return!1!==e.isVisible&&n.createElement(cf.h7,{key:e.key,className:function(t){return N(t.focus&&!e.disabled?"bg-gray-200":"","relative flex select-none items-center justify-between gap-x-1 rounded-md px-[10px] py-[2px] text-[.83rem]",e.disabled?"cursor-not-allowed":"cursor-pointer")},value:e,disabled:e.disabled||!1},n.createElement("span",{className:"block text-left ".concat(e.danger?"text-red-600":""," ").concat(E," ").concat(e.disabled?"text-gray-900":"")},e.label),e.tooltipText&&n.createElement(L,{content:e.tooltipText},n.createElement(u.jDB,{className:"text-gray-400"})))})),r<t.length-1&&n.createElement("div",{className:"my-1 border-b border-gray-200"}))})))))}))};function df(e){return df="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(e)}function mf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ff=function(e){switch(e){case"tables":return{allItemsMsg:(0,i.__)("All tables","advanced-database-cleaner"),pluginsItemsMsg:(0,i.__)("Plugins tables","advanced-database-cleaner"),themesItemsMsg:(0,i.__)("Themes tables","advanced-database-cleaner"),wpItemsMsg:(0,i.__)("WP tables","advanced-database-cleaner")};case"options":return{allItemsMsg:(0,i.__)("All options","advanced-database-cleaner"),pluginsItemsMsg:(0,i.__)("Plugins options","advanced-database-cleaner"),themesItemsMsg:(0,i.__)("Themes options","advanced-database-cleaner"),wpItemsMsg:(0,i.__)("WP options","advanced-database-cleaner")};case"posts_meta":return{allItemsMsg:(0,i.__)("All post meta","advanced-database-cleaner"),pluginsItemsMsg:(0,i.__)("Plugins meta","advanced-database-cleaner"),themesItemsMsg:(0,i.__)("Themes meta","advanced-database-cleaner"),wpItemsMsg:(0,i.__)("WP meta","advanced-database-cleaner")};case"users_meta":return{allItemsMsg:(0,i.__)("All user meta","advanced-database-cleaner"),pluginsItemsMsg:(0,i.__)("Plugins meta","advanced-database-cleaner"),themesItemsMsg:(0,i.__)("Themes meta","advanced-database-cleaner"),wpItemsMsg:(0,i.__)("WP meta","advanced-database-cleaner")};case"transients":return{allItemsMsg:(0,i.__)("All transients","advanced-database-cleaner"),pluginsItemsMsg:(0,i.__)("Plugins transients","advanced-database-cleaner"),themesItemsMsg:(0,i.__)("Themes transients","advanced-database-cleaner"),wpItemsMsg:(0,i.__)("WP transients","advanced-database-cleaner")};case"cron_jobs":return{allItemsMsg:(0,i.__)("All cron jobs","advanced-database-cleaner"),pluginsItemsMsg:(0,i.__)("Plugins cron jobs","advanced-database-cleaner"),themesItemsMsg:(0,i.__)("Themes cron jobs","advanced-database-cleaner"),wpItemsMsg:(0,i.__)("WP cron jobs","advanced-database-cleaner")};default:return{allItemsMsg:(0,i.__)("All items","advanced-database-cleaner"),pluginsItemsMsg:(0,i.__)("Plugins items","advanced-database-cleaner"),themesItemsMsg:(0,i.__)("Themes items","advanced-database-cleaner"),wpItemsMsg:(0,i.__)("WP items","advanced-database-cleaner")}}},pf=function(e,t,r){return"loading"===e?n.createElement("div",{className:"animate-pulse"},n.createElement("div",{className:"my-[.22rem] flex h-3 items-center rounded-full bg-gray-200"},n.createElement(ve.WEG,{className:"animate-spin text-[1.2rem] text-gray-400"}))):n.createElement("div",{className:"flex items-start gap-x-2 text-[.7rem]"},n.createElement("div",{className:"w-5"},"ok"===e?n.createElement(ve.rK8,{className:"text-[1.2rem] text-green-600"}):n.createElement(he.q53,{className:"text-[1.2rem] text-orange-400"})),n.createElement("div",{className:"items-start gap-x-1"},hf(t)," ","ok"!==e&&n.createElement(P,{href:"#",onClick:r},(0,i.__)("[Filter]","advanced-database-cleaner"))))},hf=function(e){if("string"!=typeof e)return e;var t=e.match(/^\s*(\d+)\s*(.*)$/);if(!t)return e;var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return mf(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,3),a=r[1],o=r[2];return n.createElement(n.Fragment,null,n.createElement("strong",null,a),o?" ".concat(o):"")},vf=function(e){return n.createElement("div",{className:"flex flex-col items-center justify-center gap-y-2 bg-gray-100 py-8"},n.createElement(he.F8y,{className:"text-[7rem] text-gray-300"}),n.createElement("span",{className:"text-[1rem] font-bold text-black"},(0,i.__)("No data found","advanced-database-cleaner")),e&&n.createElement("span",null,(0,i.__)("Try changing the filters or search term","advanced-database-cleaner")))},yf=function(){return n.createElement("div",{className:"mt-4 flex h-[210px] items-center justify-center rounded-lg border border-gray-200 bg-gray-100 opacity-90"},n.createElement(C,{size:"text-[4rem]",spinnerColor:"text-gray-900",text:(0,i.__)("Loading data...","advanced-database-cleaner")}))},gf=function(e,t){var r=function(e){return null!==e&&"object"===df(e)&&!Array.isArray(e)},n=function(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(!n(e[a],t[a]))return!1;return!0}if(r(e)&&r(t)){var o=Object.keys(e),i=Object.keys(t);if(o.length!==i.length)return!1;for(var c=0,l=o;c<l.length;c++){var s=l[c];if(!Object.prototype.hasOwnProperty.call(t,s))return!1;if(!n(e[s],t[s]))return!1}return!0}return!1},a=Object.keys(e),o=Object.keys(t);return a.length===o.length&&a.every((function(r){return!!Object.prototype.hasOwnProperty.call(t,r)&&("args"===r?n(e[r],t[r]):e[r]===t[r])}))},bf={key:"site_id",label:(0,i.__)("Site","advanced-database-cleaner"),sortable:!0,contentType:"int",tooltipText:"",width:"min-w-[60px] max-w-[150px]",visibility:"1"===U?"":"hidden"},xf=function(e,t,r,n,a,o){return{key:e,label:t,sortable:r,contentType:n,tooltipText:a,width:o,visibility:arguments.length>6&&void 0!==arguments[6]?arguments[6]:""}},wf={posts:[xf("ID",(0,i.__)("ID","advanced-database-cleaner"),!0,"int","","min-w-[70px] max-w-[150px]"),xf("post_title",(0,i.__)("Title","advanced-database-cleaner"),!0,"string","","min-w-[100px] max-w-[200px]"),xf("post_content",(0,i.__)("Content","advanced-database-cleaner"),!1,"string","","min-w-[150px] max-w-[250px]"),xf("size",(0,i.__)("Size","advanced-database-cleaner"),!0,"int","","min-w-[60px] max-w-[150px]"),xf("post_date_gmt",(0,i.__)("Date (UTC)","advanced-database-cleaner"),!0,"int","","min-w-[60px] max-w-[150px]"),bf],comments:[xf("comment_ID",(0,i.__)("ID","advanced-database-cleaner"),!0,"int","","min-w-[70px] max-w-[150px]"),xf("comment_author",(0,i.__)("Author","advanced-database-cleaner"),!0,"string","","min-w-[120px] max-w-[150px]"),xf("comment_content",(0,i.__)("Content","advanced-database-cleaner"),!1,"string","","min-w-[150px] max-w-[300px]"),xf("size",(0,i.__)("Size","advanced-database-cleaner"),!0,"int","","min-w-[90px] max-w-[150px]"),xf("comment_post_ID",(0,i.__)("Post ID","advanced-database-cleaner"),!0,"int","","min-w-[80px] max-w-[120px]"),xf("comment_date_gmt",(0,i.__)("Date (UTC)","advanced-database-cleaner"),!0,"int","","min-w-[60px] max-w-[150px]"),bf],postMeta:[xf("meta_id",(0,i.__)("ID","advanced-database-cleaner"),!0,"int","","min-w-[70px] max-w-[150px]"),xf("meta_key",(0,i.__)("Meta key","advanced-database-cleaner"),!0,"string","","min-w-[120px] max-w-[150px]"),xf("meta_value",(0,i.__)("Meta value","advanced-database-cleaner"),!1,"string","","min-w-[150px] max-w-[300px]"),xf("size",(0,i.__)("Size","advanced-database-cleaner"),!0,"int","","min-w-[90px] max-w-[150px]"),bf],userMeta:[xf("umeta_id",(0,i.__)("ID","advanced-database-cleaner"),!0,"int","","min-w-[70px] max-w-[150px]"),xf("meta_key",(0,i.__)("Meta key","advanced-database-cleaner"),!0,"string","","min-w-[120px] max-w-[150px]"),xf("meta_value",(0,i.__)("Meta value","advanced-database-cleaner"),!1,"string","","min-w-[150px] max-w-[300px]"),xf("size",(0,i.__)("Size","advanced-database-cleaner"),!0,"int","","min-w-[90px] max-w-[150px]"),bf],relationships:[xf("object_id",(0,i.__)("Object ID","advanced-database-cleaner"),!0,"int","","min-w-[80px] max-w-[150px]"),xf("term_taxonomy_id",(0,i.__)("Term taxonomy ID","advanced-database-cleaner"),!0,"int","","min-w-[80px] max-w-[150px]"),xf("term_order",(0,i.__)("Term order","advanced-database-cleaner"),!0,"int","","min-w-[80px] max-w-[150px]"),xf("size",(0,i.__)("Size","advanced-database-cleaner"),!0,"int","","min-w-[80px] max-w-[150px]"),bf],transients:[xf("id",(0,i.__)("ID","advanced-database-cleaner"),!0,"int","","min-w-[70px] max-w-[150px]"),xf("name",(0,i.__)("Name","advanced-database-cleaner"),!0,"string","","min-w-[100px] max-w-[220px]"),xf("value",(0,i.__)("Value","advanced-database-cleaner"),!1,"string","","min-w-[100px] max-w-[220px]"),xf("autoload",(0,i.__)("Autoload","advanced-database-cleaner"),!0,"string",(0,i.__)("Indicates whether a transient is autoloaded or not. Values to autoload are: yes, on, auto, auto-on. Values to not autoload are: no, off, auto-off","advanced-database-cleaner"),"min-w-[80px] max-w-[120px]"),xf("size",(0,i.__)("Size","advanced-database-cleaner"),!0,"int","","min-w-[90px] max-w-[150px]"),xf("timeout",(0,i.__)("Expired at","advanced-database-cleaner"),!0,"int",(0,i.__)("All dates/times are in your local time zone","advanced-database-cleaner"),"min-w-[120px] max-w-[160px]"),xf("found_in",(0,i.__)("Found in","advanced-database-cleaner"),!0,"string","","min-w-[60px] max-w-[150px]","1"===U?"":"hidden"),bf],actions:[xf("action_id",(0,i.__)("ID","advanced-database-cleaner"),!0,"int","","min-w-[70px] max-w-[150px]"),xf("hook",(0,i.__)("Hook","advanced-database-cleaner"),!0,"string","","min-w-[120px] max-w-[200px]"),xf("args",(0,i.__)("Args","advanced-database-cleaner"),!0,"string","","min-w-[100px] max-w-[180px]"),xf("scheduled_date_gmt",(0,i.__)("Scheduled at (UTC)","advanced-database-cleaner"),!0,"int","","min-w-[90px] max-w-[150px]"),xf("size",(0,i.__)("Size","advanced-database-cleaner"),!0,"int","","min-w-[90px] max-w-[150px]"),xf("status",(0,i.__)("Status","advanced-database-cleaner"),!1,"string","","min-w-[90px] max-w-[150px]"),bf],logs:[xf("log_id",(0,i.__)("Log ID","advanced-database-cleaner"),!0,"int","","min-w-[70px] max-w-[150px]"),xf("action_id",(0,i.__)("Action ID","advanced-database-cleaner"),!0,"int","","min-w-[120px] max-w-[150px]"),xf("message",(0,i.__)("Message","advanced-database-cleaner"),!1,"string","","min-w-[150px] max-w-[300px]"),xf("log_date_gmt",(0,i.__)("Log date (UTC)","advanced-database-cleaner"),!0,"int","","min-w-[90px] max-w-[150px]"),xf("size",(0,i.__)("Size","advanced-database-cleaner"),!0,"int","","min-w-[90px] max-w-[150px]"),xf("status",(0,i.__)("Status","advanced-database-cleaner"),!1,"string","","min-w-[90px] max-w-[150px]"),bf]},_f={revisions:"posts",auto_drafts:"posts",trashed_posts:"posts",unapproved_comments:"comments",spam_comments:"comments",trashed_comments:"comments",pingbacks:"comments",trackbacks:"comments",unused_postmeta:"postMeta",duplicated_postmeta:"postMeta",unused_commentmeta:"postMeta",duplicated_commentmeta:"postMeta",unused_termmeta:"postMeta",duplicated_termmeta:"postMeta",oembed_caches:"postMeta",unused_usermeta:"userMeta",duplicated_usermeta:"userMeta",unused_relationships:"relationships",expired_transients:"transients",actionscheduler_completed_actions:"actions",actionscheduler_failed_actions:"actions",actionscheduler_canceled_actions:"actions",actionscheduler_completed_logs:"logs",actionscheduler_failed_logs:"logs",actionscheduler_canceled_logs:"logs",actionscheduler_orphan_logs:"logs"},Ef=function(e){var t;return null!==(t=wf[_f[e]])&&void 0!==t?t:[]},Nf={revisions:(0,i.__)("Revisions","advanced-database-cleaner"),auto_drafts:(0,i.__)("Auto drafts","advanced-database-cleaner"),trashed_posts:(0,i.__)("Trashed posts","advanced-database-cleaner"),unapproved_comments:(0,i.__)("Unapproved comments","advanced-database-cleaner"),spam_comments:(0,i.__)("Spam comments","advanced-database-cleaner"),trashed_comments:(0,i.__)("Trashed comments","advanced-database-cleaner"),pingbacks:(0,i.__)("Pingbacks","advanced-database-cleaner"),trackbacks:(0,i.__)("Trackbacks","advanced-database-cleaner"),unused_postmeta:(0,i.__)("Unused postmeta","advanced-database-cleaner"),duplicated_postmeta:(0,i.__)("Duplicated postmeta","advanced-database-cleaner"),unused_commentmeta:(0,i.__)("Unused commentmeta","advanced-database-cleaner"),duplicated_commentmeta:(0,i.__)("Duplicated commentmeta","advanced-database-cleaner"),unused_usermeta:(0,i.__)("Unused usermeta","advanced-database-cleaner"),duplicated_usermeta:(0,i.__)("Duplicated usermeta","advanced-database-cleaner"),unused_termmeta:(0,i.__)("Unused termmeta","advanced-database-cleaner"),duplicated_termmeta:(0,i.__)("Duplicated termmeta","advanced-database-cleaner"),unused_relationships:(0,i.__)("Unused relationships","advanced-database-cleaner"),expired_transients:(0,i.__)("Expired transients","advanced-database-cleaner"),oembed_caches:(0,i.__)("oEmbed caches","advanced-database-cleaner"),actionscheduler_completed_actions:(0,i.__)("Actionscheduler completed actions","advanced-database-cleaner"),actionscheduler_failed_actions:(0,i.__)("Actionscheduler failed actions","advanced-database-cleaner"),actionscheduler_canceled_actions:(0,i.__)("Actionscheduler canceled actions","advanced-database-cleaner"),actionscheduler_completed_logs:(0,i.__)("Actionscheduler completed logs","advanced-database-cleaner"),actionscheduler_failed_logs:(0,i.__)("Actionscheduler failed logs","advanced-database-cleaner"),actionscheduler_canceled_logs:(0,i.__)("Actionscheduler canceled logs","advanced-database-cleaner"),actionscheduler_orphan_logs:(0,i.__)("Actionscheduler orphan logs","advanced-database-cleaner")},kf=function(e){return Object.keys(Nf).includes(e)},Sf=function(e){switch(e){case"tables_to_repair":return(0,i.__)("Repair tables","advanced-database-cleaner");case"tables_to_optimize":return(0,i.__)("Optimize tables","advanced-database-cleaner");default:return Nf[e]||""}},Lf=(0,m.Z0)({name:"action",initialState:{actionType:null,itemsType:null,processAction:!1,selectedItems:[],manualCategorization:[]},reducers:{prepareAction:function(e,t){e.actionType=t.payload.actionType,e.itemsType=t.payload.itemsType},startProcessingAction:function(e,t){if(t.payload){var r=t.payload;for(var n in r)e[n]=r[n]}e.processAction=!0},selectItem:function(e,t){var r=t.payload,n=e.selectedItems.findIndex((function(e){return gf(e,r)}));n>=0?e.selectedItems.splice(n,1):e.selectedItems.push(r)},selectItems:function(e,t){e.selectedItems=t.payload},setManualCategorization:function(e,t){e.manualCategorization=t.payload},resetProcessAction:function(e){e.processAction=!1},resetSelectedItems:function(e){e.selectedItems=[]},resetManualCategorization:function(e){e.manualCategorization=[]},resetAllActionData:function(e){e.actionType=null,e.itemsType=null,e.processAction=!1,e.selectedItems=[],e.manualCategorization=[]}}}),jf=Lf.actions,Of=jf.prepareAction,Tf=jf.startProcessingAction,Pf=jf.selectItem,If=jf.selectItems,Cf=jf.resetProcessAction,Af=jf.resetAllActionData,Ff=jf.resetSelectedItems;const Mf=Lf.reducer;function Gf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Df=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Gf(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,n.useState)(!1),2),t=e[0],r=e[1],m=(0,d.d4)((function(e){return e.modal})),f=(0,d.d4)((function(e){return e.action.processAction})),p=(0,d.d4)((function(e){return null!==e.action.actionType})),h=(0,d.wA)();if(!m.show)return null;var v=m.type,y=m.title,g=m.message,b=m.dbBackupWarning,x=m.confirmLabel,w=function(){h(ca())};return n.createElement(a.e,{appear:!0,show:!0,as:n.Fragment},n.createElement(o.lG,{as:"div",className:"relative z-50",onClose:w},n.createElement(o.Xi,{transition:!0,className:"fixed inset-0 bg-gray-900 bg-opacity-70 transition-opacity duration-100 ease-linear data-[closed]:opacity-0"}),n.createElement("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto"},n.createElement("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},n.createElement(o.Lj,{transition:!0,className:"relative transform overflow-visible rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all duration-200 ease-out data-[closed]:scale-95 data-[closed]:opacity-0 sm:my-8 sm:w-full sm:max-w-md sm:p-6"},n.createElement("div",{className:"absolute right-0 top-0 pr-4 pt-4"},n.createElement("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",onClick:w},n.createElement("span",{className:"sr-only"},"Close"),n.createElement(l.WQq,{className:"h-6 w-6","aria-hidden":"true"}))),n.createElement("div",{className:"mx-auto mb-1 mt-2"},n.createElement("div",{className:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg"},"warning"===v?n.createElement(u.e5t,{className:"h-10 w-10 text-red-600","aria-hidden":"true"}):"delete"===v?n.createElement(s.Mst,{className:"h-10 w-10 text-red-600","aria-hidden":"true"}):n.createElement(c.MGr,{className:"h-10 w-10 text-primary","aria-hidden":"true"})),n.createElement("div",{className:"mt-3 text-center"},n.createElement(o.L3,{as:"h3",className:"text-base font-bold leading-6 text-gray-900"},y),n.createElement("div",{className:"mt-2"},n.createElement("p",{className:"text-[.95rem] text-black"},g))),n.createElement("div",{className:"mb-2 mt-5 flex justify-center gap-x-3 sm:mt-6"},n.createElement("button",{type:"button",className:"inline-flex w-full min-w-[100px] justify-center rounded-full border border-gray-400/70 bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm hover:border-gray-500 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:w},(0,i.__)("Cancel","advanced-database-cleaner")),n.createElement("button",{type:"button",className:"inline-flex w-full min-w-[100px] justify-center rounded-full ".concat("warning"===v||"delete"===v?"bg-red-600 hover:opacity-90":"bg-primary hover:opacity-90"," px-3 py-2 text-sm font-semibold text-white shadow-sm sm:w-auto"),onClick:function(){t||(r(!0),h(Tf()),h(ca()),r(!1))},disabled:f||!p},x)),b&&n.createElement("div",{className:"mt-4 border-t border-gray-300 pt-4 text-center text-[.9rem] font-semibold text-red-600"},(0,i.__)("Don't forget to make a backup of your database first!","advanced-database-cleaner"))))))))},zf=function(){var e=(0,d.d4)((function(e){return e.action.actionType}));return(0,d.d4)((function(e){return e.action.processAction}))&&"run_general_cleanup"!==e?n.createElement(a.e,{appear:!0,show:!0,as:n.Fragment},n.createElement(o.lG,{as:"div",className:"relative z-50",onClose:function(){}},n.createElement(o.Xi,{transition:!0,className:"fixed inset-0 bg-gray-900 bg-opacity-70 transition-opacity duration-100 ease-linear data-[closed]:opacity-0"}),n.createElement("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto"},n.createElement("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},n.createElement(o.Lj,{transition:!0,className:"relative transform overflow-visible rounded-lg bg-gray-100 px-4 pb-4 pt-5 text-center shadow-xl transition-all duration-200 ease-out data-[closed]:scale-95 data-[closed]:opacity-0 sm:my-8 sm:w-full sm:max-w-md sm:p-10"},n.createElement("div",{className:"mx-auto"},n.createElement("div",{className:"flex items-center justify-center rounded-lg"},n.createElement(Ve.k$1,{className:"h-16 w-16 animate-spin text-primary"})),n.createElement("div",null,n.createElement(o.L3,{as:"h3",className:"text-[.9rem] font-semibold leading-6 text-gray-900"},(0,i.__)("Processing, please wait...","advanced-database-cleaner"))))))))):null},Rf=function(){var e=(0,d.d4)((function(e){return e.shared.isSupportModalShown})),t=(0,d.wA)();if(!e)return null;var r=function(){t(Wm())};return n.createElement(a.e,{appear:!0,show:!0,as:n.Fragment},n.createElement(o.lG,{as:"div",className:"relative z-50",onClose:r},n.createElement(o.Xi,{transition:!0,className:"fixed inset-0 bg-gray-900 bg-opacity-70 transition-opacity duration-100 ease-linear data-[closed]:opacity-0"}),n.createElement("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto"},n.createElement("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},n.createElement(o.Lj,{transition:!0,className:"relative max-w-xl transform overflow-visible rounded-xl bg-white px-6 pb-6 pt-6 text-left shadow-2xl transition-all duration-200 ease-out data-[closed]:scale-95 data-[closed]:opacity-0 sm:my-8 sm:w-full sm:p-8 xl:max-w-3xl"},n.createElement("div",{className:"absolute right-0 top-0 pr-4 pt-4"},n.createElement("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",onClick:r},n.createElement("span",{className:"sr-only"},"Close"),n.createElement(l.WQq,{className:"h-6 w-6","aria-hidden":"true"}))),n.createElement("div",{className:"mx-auto"},n.createElement("div",{className:"mb-6 mt-10 flex flex-col gap-6 xl:flex-row"},n.createElement("div",{className:"group flex-1"},n.createElement("div",{className:"relative transform rounded-2xl border-2 border-blue-100 bg-gradient-to-br from-blue-50 to-indigo-50 p-8 transition-all duration-300 hover:border-blue-200"},n.createElement("div",{className:"absolute right-4 top-4"},n.createElement(oi.Lhl,{className:"text-[2rem] text-blue-800"})),n.createElement("h4",{className:"mb-4 text-[1.2rem] font-bold text-gray-900"},(0,i.__)("View documentation","advanced-database-cleaner")),n.createElement("div",{className:"mb-6 space-y-2"},n.createElement("p",{className:"flex items-center gap-1 text-gray-700"},n.createElement(fe.CMH,{className:"text-blue-500"}),(0,i.__)("Access comprehensive guides and tutorials","advanced-database-cleaner")),n.createElement("p",{className:"flex items-center gap-1 text-gray-700"},n.createElement(fe.CMH,{className:"text-blue-500"}),(0,i.__)("Find answers to common questions","advanced-database-cleaner"))),n.createElement(P,{href:"https://docs.sigmaplugin.com/collection/54-advanced-db-cleaner-4x?utm_source=support-modal&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=documentation"),target:"_blank",className:"flex !w-full items-center justify-center gap-2 rounded-xl bg-blue-500 px-6 py-3 text-sm font-semibold text-white !no-underline shadow-lg transition-all duration-300 hover:bg-blue-700/90 hover:!text-white focus:text-white"},(0,i.__)("View documentation","advanced-database-cleaner"),n.createElement(s.TdP,null)))),n.createElement("div",{className:"group flex-1"},n.createElement("div",{className:"relative transform rounded-2xl border-2 border-emerald-100 bg-gradient-to-br from-emerald-50 to-green-50 p-8 transition-all duration-300 hover:border-emerald-200"},n.createElement("div",{className:"absolute right-4 top-4"},n.createElement(ht.E4k,{className:"text-[1.8rem] text-green-800"})),n.createElement("h4",{className:"mb-4 text-[1.2rem] font-bold text-gray-900"},(0,i.__)("Contact us","advanced-database-cleaner")),n.createElement("div",{className:"mb-6 space-y-2"},n.createElement("p",{className:"flex items-center gap-1 text-gray-700"},n.createElement(fe.CMH,{className:"text-green-500"}),(0,i.__)("Contact us for personalized assistance","advanced-database-cleaner")),n.createElement("p",{className:"flex items-center gap-1 text-gray-700"},n.createElement(fe.CMH,{className:"text-green-500"}),(0,i.__)("Get help with technical issues, billing ...","advanced-database-cleaner"))),n.createElement(P,{href:"FREE"===z?"https://wordpress.org/support/plugin/advanced-database-cleaner/":"https://sigmaplugin.com/contact?utm_source=support-modal&utm_medium=adbc-premium&utm_campaign=plugins&utm_content=support",target:"_blank",className:"flex !w-full items-center justify-center gap-2 rounded-xl bg-green-600 px-6 py-3 text-sm font-semibold text-white !no-underline shadow-lg transition-all duration-300 hover:bg-green-700 hover:!text-white focus:text-white"},(0,i.__)("Contact us","advanced-database-cleaner"),n.createElement(s.TdP,null))))),n.createElement("div",{className:"mt-4 flex gap-1 text-gray-600"},n.createElement("span",null,(0,i.__)("By","advanced-database-cleaner")),n.createElement(P,{href:"https://sigmaplugin.com?utm_source=support-modal&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=sigmaplugin-home-page"),target:"_blank"},"SigmaPlugin"))))))))};function Bf(e){return Bf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(e)}function Uf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Uf(Object(r),!0).forEach((function(t){Yf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yf(e,t,r){return(t=function(e){var t=function(e){if("object"!=Bf(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Bf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Bf(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kf(){Kf=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Bf(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(Bf(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function $f(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function qf(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){$f(o,n,a,i,c,"next",e)}function c(e){$f(o,n,a,i,c,"throw",e)}i(void 0)}))}}function Hf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Vf(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Qf=function(){var e=Hf((0,n.useState)(null),2),t=e[0],r=e[1],c=Hf((0,n.useState)(!1),2),s=c[0],u=c[1],m=Hf((0,n.useState)(!1),2),f=m[0],p=m[1],h=Hf((0,n.useState)(null),2),v=h[0],y=h[1],g=Hf((0,n.useState)({manual_corrections:!1,keep_last:!1,automation_tasks:!1,uninstall_old_versions:!1}),2),b=g[0],x=g[1],w=(0,d.d4)((function(e){return e.shared.isMigrationModalShown})),_=(0,d.wA)();if((0,n.useEffect)((function(){w&&E()}),[w]),!w)return null;var E=function(){var e=qf(Kf().mark((function e(){var t,n,a;return Kf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,ce();case 4:t=e.sent,n=(null==t?void 0:t.data)||[],r(n),a={manual_corrections:n.includes("manual_corrections"),keep_last:n.includes("keep_last"),automation_tasks:n.includes("automation_tasks"),uninstall_old_versions:n.includes("old_free_exists")||n.includes("pro_exists")},x(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),Pt(_,e.t0.message);case 14:return e.prev=14,u(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(){return e.apply(this,arguments)}}(),N=function(e){x((function(t){return Wf(Wf({},t),{},Yf({},e,!t[e]))}))},k=function(){var e=qf(Kf().mark((function e(){var t,r,n;return Kf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),t=[],b.manual_corrections&&t.push("manual_corrections"),b.keep_last&&t.push("keep_last"),b.automation_tasks&&t.push("automation_tasks"),r={items_to_migrate:t,uninstall_old_versions:b.uninstall_old_versions},e.next=9,se(r);case 9:n=e.sent,y((null==n?void 0:n.data)||{}),_(Hm()),null==n||!n.data||1!==n.data.automation_tasks_success&&2!==n.data.automation_tasks_success||_(Um()),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),Pt(_,e.t0.message);case 18:return e.prev=18,p(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,15,18,21]])})));return function(){return e.apply(this,arguments)}}(),S=function(){_(Ym()),r(null),y(null),x({manual_corrections:!1,keep_last:!1,automation_tasks:!1,uninstall_old_versions:!1})};return n.createElement(a.e,{appear:!0,show:!0,as:n.Fragment},n.createElement(o.lG,{as:"div",className:"relative z-50",onClose:S},n.createElement(o.Xi,{transition:!0,className:"fixed inset-0 bg-gray-900 bg-opacity-70 transition-opacity duration-100 ease-linear data-[closed]:opacity-0"}),n.createElement("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto"},n.createElement("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},n.createElement(o.Lj,{transition:!0,className:"relative max-w-xl transform overflow-visible rounded-xl bg-white px-6 pb-6 pt-6 text-left shadow-2xl transition-all duration-200 ease-out data-[closed]:scale-95 data-[closed]:opacity-0 sm:my-8 sm:w-full sm:p-8 xl:max-w-xl"},n.createElement("div",{className:"absolute right-0 top-0 pr-4 pt-4"},n.createElement("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",onClick:S},n.createElement("span",{className:"sr-only"},"Close"),n.createElement(l.WQq,{className:"h-6 w-6","aria-hidden":"true"}))),n.createElement("div",{className:"mx-auto"},function(){if(s)return n.createElement("div",{className:"flex items-center justify-center py-12 text-center"},n.createElement(C,null));if(v){var e=[{key:"manual_corrections_success",label:(0,i.__)("Manual corrections","advanced-database-cleaner")},{key:"keep_last_success",label:(0,i.__)("Keep Last","advanced-database-cleaner")},{key:"automation_tasks_success",label:(0,i.__)("Automation tasks","advanced-database-cleaner")},{key:"uninstall_old_versions_success",label:(0,i.__)("Uninstall old versions","advanced-database-cleaner")}];return n.createElement("div",null,n.createElement("div",{className:"mb-8 text-center"},n.createElement("div",{className:"mb-4 inline-flex h-12 w-12 items-center justify-center rounded-full bg-blue-500"},n.createElement(Yo.YrT,{className:"h-6 w-6 text-white"})),n.createElement("h3",{className:"mb-1 text-xl font-bold text-gray-900"},(0,i.__)("Import completed","advanced-database-cleaner")),n.createElement("p",{className:"text-gray-600"},(0,i.__)("Here are the results of your data import","advanced-database-cleaner"))),n.createElement("div",{className:"mb-8 border"},e.map((function(e){var t=e.key,r=e.label;if(void 0===v[t])return null;var a=function(e){return 1===e?{text:(0,i.__)("Successful","advanced-database-cleaner"),color:"text-green-700"}:0===e?{text:(0,i.__)("Failed","advanced-database-cleaner"),color:"text-red-700"}:2===e?{text:(0,i.__)("Partially successful","advanced-database-cleaner"),color:"text-yellow-700"}:{text:"",color:""}}(v[t]);return n.createElement("div",{key:t,className:"flex items-center justify-between border-b border-gray-200 bg-white p-4"},n.createElement("span",{className:"text-[.9rem] font-medium text-gray-900"},r),n.createElement("div",{className:"flex items-center gap-3"},function(e){return 1===e?n.createElement("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-green-100"},n.createElement(Yo.YrT,{className:"h-4 w-4 text-green-600"})):0===e?n.createElement("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-red-100"},n.createElement(Yo.yGN,{className:"h-4 w-4 text-red-600"})):2===e?n.createElement("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-yellow-100"},n.createElement(Yo.eHT,{className:"h-4 w-4 text-yellow-600"})):null}(v[t]),n.createElement("span",{className:"text-sm font-semibold ".concat(a.color)},a.text)))}))),n.createElement("div",{className:"flex items-center justify-center"},n.createElement("button",{type:"button",className:"inline-flex w-full min-w-[100px] justify-center rounded-full border border-gray-400/70 bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm hover:border-gray-500 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:S},(0,i.__)("Close","advanced-database-cleaner"))))}return n.createElement("div",null,n.createElement("div",{className:"mb-8 text-center"},n.createElement("div",{className:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center"},n.createElement(ve.Lcj,{className:"h-10 w-10 text-primary","aria-hidden":"true"})),(null==t?void 0:t.length)>0&&t.every((function(e){return"old_free_exists"===e||"pro_exists"===e}))?n.createElement(n.Fragment,null,n.createElement("h3",{className:"text-center text-[1.1rem] font-semibold text-gray-900"},(0,i.__)("No data to import. You can uninstall the previous version(s)","advanced-database-cleaner"))):n.createElement(n.Fragment,null,n.createElement("h3",{className:"text-center text-[1.1rem] font-semibold text-gray-900"},(0,i.__)("Import data from previous version","advanced-database-cleaner")),n.createElement("p",{className:"text-gray-600"},(0,i.__)("Select the items you want to import or actions to perform","advanced-database-cleaner")))),n.createElement("div",{className:"mb-8 rounded-xl border"},(null==t?void 0:t.includes("manual_corrections"))&&n.createElement("label",{className:"group flex cursor-pointer items-start gap-4 rounded-t-xl border-b border-gray-200 bg-white p-4 transition-all hover:bg-blue-50"},n.createElement("div",{className:"mt-0.5 flex h-6 items-center"},n.createElement("input",{type:"checkbox",checked:b.manual_corrections,onChange:function(){return N("manual_corrections")}})),n.createElement("div",{className:"flex-1"},n.createElement("span",{className:"text-[.9rem] font-semibold text-gray-800 transition-colors group-hover:text-blue-700"},(0,i.__)("Import manual corrections","advanced-database-cleaner")),n.createElement("p",{className:"mt-1 text-xs text-gray-600"},(0,i.__)("Import your custom manual corrections you made in the previous version","advanced-database-cleaner")))),(null==t?void 0:t.includes("keep_last"))&&n.createElement("label",{className:"group flex cursor-pointer items-start gap-4 border-b border-gray-200 bg-white p-4 transition-all hover:bg-blue-50"},n.createElement("div",{className:"mt-0.5 flex h-6 items-center"},n.createElement("input",{type:"checkbox",checked:b.keep_last,onChange:function(){return N("keep_last")}})),n.createElement("div",{className:"flex-1"},n.createElement("span",{className:"text-[.9rem] font-semibold text-gray-800 transition-colors group-hover:text-blue-700"},(0,i.__)("Import Keep Last","advanced-database-cleaner")),n.createElement("p",{className:"mt-1 text-xs text-gray-600"},(0,i.__)("Preserve your -Keep Last- settings and configurations","advanced-database-cleaner")))),(null==t?void 0:t.includes("automation_tasks"))&&n.createElement("label",{className:"group flex cursor-pointer items-start gap-4 border-b border-gray-200 bg-white p-4 transition-all hover:bg-blue-50"},n.createElement("div",{className:"mt-0.5 flex h-6 items-center"},n.createElement("input",{type:"checkbox",checked:b.automation_tasks,onChange:function(){return N("automation_tasks")}})),n.createElement("div",{className:"flex-1"},n.createElement("span",{className:"text-[.9rem] font-semibold text-gray-800 transition-colors group-hover:text-blue-700"},(0,i.__)("Import tasks","advanced-database-cleaner")),n.createElement("p",{className:"mt-1 text-xs text-gray-600"},(0,i.__)("Import all your automation tasks and schedules.","advanced-database-cleaner"),n.createElement("span",{className:"ml-1 text-orange-600"},(0,i.__)("(For technical reasons, tasks will be deactivated after import and you will need to activate them again)","advanced-database-cleaner"))))),((null==t?void 0:t.includes("old_free_exists"))||(null==t?void 0:t.includes("pro_exists")))&&n.createElement("label",{className:"group flex cursor-pointer items-start gap-4 rounded-b-xl bg-white p-4 transition-all hover:bg-blue-50"},n.createElement("div",{className:"mt-0.5 flex h-6 items-center"},n.createElement("input",{type:"checkbox",checked:b.uninstall_old_versions,onChange:function(){return N("uninstall_old_versions")}})),n.createElement("div",{className:"flex-1"},n.createElement("span",{className:"text-[.9rem] font-semibold text-gray-800 transition-colors group-hover:text-red-700"},(0,i.__)("Uninstall previous versions?","advanced-database-cleaner")),n.createElement("p",{className:"mt-1 text-xs text-gray-600"},function(){if(!t)return"";var e=t.includes("old_free_exists"),r=t.includes("pro_exists");return e&&r?(0,i.__)("The Free and old Pro versions can be uninstalled since you are using the newest Premium version","advanced-database-cleaner"):e?(0,i.__)("The Free version can be uninstalled since you are using the Premium version","advanced-database-cleaner"):r?(0,i.__)("The old Pro version can be uninstalled since you are using the newest Premium version","advanced-database-cleaner"):""}())))),n.createElement("div",{className:"flex justify-center gap-3"},n.createElement("button",{type:"button",className:"inline-flex w-full min-w-[100px] justify-center rounded-full border border-gray-400/70 bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm hover:border-gray-500 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:S},(0,i.__)("Cancel","advanced-database-cleaner")),n.createElement("button",{className:"inline-flex w-full min-w-[100px] justify-center rounded-full bg-primary px-5 py-2 text-sm font-semibold text-white shadow-sm hover:opacity-90 disabled:cursor-not-allowed disabled:opacity-50 sm:w-auto",disabled:f||!(b.manual_corrections||b.keep_last||b.automation_tasks||b.uninstall_old_versions),onClick:k},f?n.createElement(C,{text:(0,i.__)("Processing ...","advanced-database-cleaner"),spinnerColor:"text-white",size:"text-[1.2rem]"}):n.createElement("span",null,(0,i.__)("Proceed","advanced-database-cleaner")))))}()))))))};var Jf=r(5338),Xf=(0,m.U1)({reducer:{setting:xd,shared:Jm,modal:la,notification:jt,action:Mf,filter:Be,scan:Mo}});const Zf=r.p+"images/logo.png";function ep(e){return ep="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ep(e)}function tp(){tp=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(x=_);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==ep(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,r,n){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(ep(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,l,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function rp(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function np(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){rp(o,n,a,i,c,"next",e)}function c(e){rp(o,n,a,i,c,"throw",e)}i(void 0)}))}}function ap(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var op=Object.values(R),ip=op.some((function(e){return e.is_critical}));const cp=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ap(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ap(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,n.useState)(!1),2),t=e[0],r=e[1],c=(0,d.d4)((function(e){return e.setting.hiddenTabs})),l=(0,d.d4)((function(e){return e.shared.currentTabId})),u=(0,d.d4)((function(e){return e.shared.currentSubTabId})),m=(0,d.d4)((function(e){return e.setting.sideBarIsExpanded})),f=(0,d.d4)((function(e){return e.shared.showImportedTasksDeactivatedNotice})),p=(0,d.d4)((function(e){return e.shared.showMigrationNotice})),h=(0,d.d4)((function(e){return e.setting.licenseKey})),v=(0,d.d4)((function(e){return e.setting.licenseStatus})),y=Lm.find((function(e){return e.id===l}))||Lm[0],g=(0,d.wA)(),b=function(e,t){e.preventDefault(),y.id!==t&&(r(!1),g(Mm({tabId:t})),g(Af()),g(ze()))},x=function(){var e=np(tp().mark((function e(t){var r;return tp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(gd(t)),e.prev=1,r=t?"1":"0",e.next=5,Xl({sidebar_is_expanded:r});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),Pt(g,e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=np(tp().mark((function e(){return tp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne({notificationKey:"migration_available"});case 3:g(Hm()),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Pt(g,e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return(0,n.useEffect)((function(){window.scrollTo(0,0)}),[l,u]),n.createElement("div",{className:"clear-both mr-[10px] mt-[20px] max-w-[100rem] xl:flex"},n.createElement(a.e,{show:t,as:n.Fragment},n.createElement(o.lG,{as:"div",className:"relative z-50 xl:hidden",onClose:r},n.createElement(o.Xi,{transition:!0,className:"fixed inset-0 bg-gray-900 bg-opacity-70 transition-opacity duration-100 ease-linear data-[closed]:opacity-0"}),n.createElement("div",{className:"fixed inset-0 flex"},n.createElement(o.Lj,{transition:!0,className:"absolute right-10 -mr-10 mt-4 flex w-full max-w-[250px] flex-1 transform transition duration-200 ease-in-out data-[closed]:translate-x-full"},n.createElement("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto bg-white px-6 pb-2 pt-4"},n.createElement("nav",{className:"flex flex-1 flex-col pt-8"},n.createElement("ul",{role:"list",className:"flex flex-1 flex-col gap-y-2"},n.createElement("li",{className:"flex justify-end pb-4"},n.createElement("button",{type:"button",onClick:function(){return r(!1)}},n.createElement("span",{className:"sr-only"},"Close sidebar"),n.createElement(ta.zhF,{className:"h-6 w-6 text-black"}))),n.createElement("li",null,n.createElement("ul",{role:"list",className:"-mx-2 space-y-1"},Sm.map((function(e){var t=e.items.filter((function(e){return!c.includes(e.id)&&e.show_in_menu}));return 0===t.length?null:n.createElement(n.Fragment,{key:"mobile-group-"+e.group_id},t.map((function(e){return n.createElement(n.Fragment,{key:"mobile-tab-"+e.id},n.createElement("li",null,n.createElement("a",{href:e.href,onClick:function(t){return b(t,e.id)},className:N(y.id===e.id?"bg-gray-200 text-blue-600":"text-gray-700 hover:bg-gray-50 hover:text-blue-600","group flex items-center gap-x-3 rounded-md p-2 text-sm font-semibold leading-6")},n.createElement(e.icon,{className:N(y.id===e.id?"text-blue-600":"text-gray-600 group-hover:text-blue-600","".concat(e.icon_size," shrink-0"))}),e.name)))})),!e.is_last_group&&n.createElement("li",{className:"my-[10px]"},n.createElement("div",{className:"border-b-[1px] border-b-gray-300"})))}))))))))))),n.createElement("div",{className:N("relative hidden xl:flex xl:flex-col",m?"min-w-[200px]":"w-[52px]")},n.createElement("button",{onClick:function(){return x(!m)},className:"group absolute -right-[15px] top-[30px] z-20 flex h-6 w-4 -translate-y-1/2\r items-center justify-center"},m?n.createElement(n.Fragment,null,n.createElement(j,{content:(0,i.__)("Collapse sidebar","advanced-database-cleaner"),align:"left"},n.createElement(ve.eCD,{className:"text-[1.2rem] text-gray-400 group-hover:text-black"}))):n.createElement(n.Fragment,null,n.createElement(j,{content:(0,i.__)("Expand sidebar","advanced-database-cleaner"),align:"left"},n.createElement(ve.xHA,{className:"text-[1.2rem] text-gray-400 group-hover:text-black"})))),n.createElement("div",{className:"mb-10 flex grow flex-col bg-transparent"},n.createElement("div",{className:"relative flex h-[70px] items-center gap-x-4 bg-[#0B96CB] text-white ".concat(m?"pl-[20px]":"justify-center","\n            ")},n.createElement(P,{href:"FREE"===z?"https://wordpress.org/plugins/advanced-database-cleaner/":"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=logo&utm_medium=adbc-premium&utm_campaign=plugins&utm_content=adbc-landing-page",target:"_blank",className:"!text-white !no-underline hover:!text-gray-200"},n.createElement("div",{className:"flex flex-col gap-y-0"},n.createElement("img",{src:Zf,alt:"Logo",className:N("w-[34px]")})),m&&n.createElement(n.Fragment,null,n.createElement("div",{className:" flex flex-col gap-y-0"},n.createElement("span",{className:"py-0 text-[1.1rem] font-bold"},"Advanced DB"),n.createElement("span",{className:"-mt-1 flex items-center gap-x-2 py-0"},n.createElement("span",{className:"text-[1rem] font-bold"},"Cleaner"),n.createElement("span",{className:"mt-[3px] flex items-center border-l border-indigo-200 bg-transparent pl-[5px] text-[.6rem] font-semibold leading-none text-gray-200"},"FREE"===z?(0,i.__)("Free","advanced-database-cleaner"):(0,i.__)("Premium","advanced-database-cleaner"))))),n.createElement("div",{className:"absolute -top-2 left-0 rounded-r-md rounded-tl-md bg-[#0B96CB] px-2 py-0 text-center text-[10px] text-white ".concat(m?"":"w-full","\n                ")},D))),n.createElement("nav",{className:"mt-4 flex flex-1 flex-col"},n.createElement("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7"},n.createElement("li",null,n.createElement("ul",{role:"list",className:"px-2"},Sm.map((function(e){var t=e.items.filter((function(e){return!c.includes(e.id)&&e.show_in_menu}));return 0===t.length?null:n.createElement(n.Fragment,{key:"desktop-group-"+e.group_id},t.map((function(e){return n.createElement(n.Fragment,{key:"desktop-tab-"+e.id},n.createElement("li",{className:"my-0"},n.createElement("a",{href:e.href,onClick:function(t){return b(t,e.id)},className:N(y.id===e.id?"rounded-lg bg-white !text-blue-600":"text-gray-700 hover:rounded-lg hover:bg-gray-200 hover:text-blue-600","group my-[3px] flex flex-col px-2 py-[4px] font-bold leading-6 focus:ring-0")},n.createElement("div",{className:"flex h-full min-h-[24px] items-center gap-x-3"},m?n.createElement(e.icon,{className:N(y.id===e.id?"text-blue-600":"text-gray-600 group-hover:text-blue-600","".concat(e.icon_size," shrink-0"))}):n.createElement(j,{content:e.name,align:"left"},n.createElement(e.icon,{className:N(y.id===e.id?"text-blue-600":"text-gray-600 group-hover:text-blue-600","".concat(e.icon_size," shrink-0"))})),n.createElement("div",{className:"flex w-full flex-col"},m&&n.createElement("span",{className:"text-[.83rem] font-normal text-black"},e.name)),"FREE"===z&&e.is_premium&&m&&n.createElement("div",{className:""},n.createElement(s.xGQ,{className:"h-[12px] w-[12px] text-yellow-600"}))))))})),!e.is_last_group&&n.createElement("li",{className:"my-[10px]"},n.createElement("div",{className:"border-b-[1px] border-b-gray-300"})))})))))),n.createElement("div",{className:"border-t border-gray-200 px-2 py-3"},m&&n.createElement("div",{className:"flex flex-col items-center"},n.createElement("div",{className:"flex items-center gap-1 text-xs text-gray-500"},(0,i.__)("By","advanced-database-cleaner"),n.createElement(P,{href:"https://sigmaplugin.com?utm_source=sidebar-bottom&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=sigmaplugin-home-page"),target:"_blank",className:"font-semibold !text-gray-500 no-underline hover:!text-gray-600"},"SigmaPlugin"),"",n.createElement("span",{className:"text-gray-500"},D)),n.createElement("div",{className:"mt-1 flex gap-1 text-center text-[11px]"},n.createElement(P,{href:"FREE"===z?"https://wordpress.org/support/plugin/advanced-database-cleaner/":"https://sigmaplugin.com/contact?utm_source=sidebar-bottom&utm_medium=adbc-premium&utm_campaign=plugins&utm_content=support",target:"_blank",className:"font-semibold !text-blue-500 no-underline hover:!text-blue-600"},(0,i.__)("Support","advanced-database-cleaner")),"/",n.createElement(P,{href:"https://docs.sigmaplugin.com/collection/54-advanced-db-cleaner-4x?utm_source=sidebar-bottom&utm_medium=".concat(H,"&utm_campaign=plugins&utm_content=documentation"),target:"_blank",className:"font-semibold !text-blue-500 no-underline hover:!text-blue-600"},(0,i.__)("Docs","advanced-database-cleaner"))))))),n.createElement("div",{className:"top-10 z-40 flex items-center justify-between gap-x-6 border-b border-b-gray-300 bg-[#0B96CB] px-4 py-2 shadow-sm sm:px-6 xl:!hidden"},n.createElement(P,{href:"FREE"===z?"https://wordpress.org/plugins/advanced-database-cleaner/":"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=logo&utm_medium=adbc-premium&utm_campaign=plugins&utm_content=adbc-landing-page",target:"_blank",className:"!text-white !no-underline hover:!text-gray-200"},n.createElement("div",{className:"flex h-[80px] items-center gap-x-4"},n.createElement("img",{src:Zf,alt:"Logo",className:"w-[35px] sm:w-[35px]"}),n.createElement("div",{className:"flex flex-col gap-[2px]"},n.createElement("span",{className:"text-[1.1rem] font-bold"},"Advanced DB Cleaner"),n.createElement("span",{className:"flex items-center"},n.createElement("span",{className:"text-[.8rem] font-thin"},D),n.createElement("span",{className:"ml-2 mt-[2px] flex h-[15px] items-center rounded-md bg-sky-700 px-2 py-0.5 text-[9px] font-semibold uppercase leading-none text-white opacity-70"},"FREE"===z?(0,i.__)("Free","advanced-database-cleaner"):(0,i.__)("Premium","advanced-database-cleaner")))))),n.createElement("button",{type:"button",className:"-m-2.5 rounded-md p-2 text-gray-700",onClick:function(){return r(!0)}},n.createElement("span",{className:"sr-only"},"Open sidebar"),n.createElement(Yo.ND1,{className:"h-8 w-8 text-white"}))),n.createElement("main",{className:"min-w-0 flex-1 bg-white pb-20 xl:min-h-[800px]"},n.createElement("div",{className:"h-[60px] px-4 sm:px-6"},n.createElement("div",{className:"flex h-full w-full justify-between border border-l-0 border-r-0 border-t-0 border-b-gray-300/80"},n.createElement("div",{className:"flex items-center gap-x-4"},n.createElement(y.icon,{className:"h-[38px] w-[38px] rounded-md border border-b-[.2rem] border-blue-300 bg-blue-50 p-2 text-blue-500"}),u&&kf(u)?n.createElement("span",{className:"text-xl font-bold text-gray-900 lg:text-[1.3rem]"},Nf[u]||""):n.createElement("span",{className:"text-xl font-bold text-gray-900 lg:text-[1.3rem]"},y.name)),n.createElement(lr,null))),n.createElement("div",{className:"min-h-[20rem] px-4 pt-8 sm:px-6"},op.map((function(e,t){return n.createElement(rf,{key:"warning-"+t,type:"warning"},e.message)})),"PREMIUM"===z&&!h&&n.createElement(rf,{type:"warning"},(0,i.__)("Please activate your license key to receive plugin updates.","advanced-database-cleaner"),n.createElement(P,{href:"#",className:"ml-1",onClick:function(e){e.preventDefault(),g(Mm({tabId:"settings"}))}},(0,i.__)("Activate now","advanced-database-cleaner"))),"PREMIUM"===z&&h&&"valid"!==v&&n.createElement(rf,{type:"warning"},(0,i.__)("There is an issue with your license. Please check your license status in the settings.","advanced-database-cleaner"),n.createElement(P,{href:"#",className:"ml-1",onClick:function(e){e.preventDefault(),g(Mm({tabId:"settings"}))}},(0,i.__)("Check license status","advanced-database-cleaner"))),p&&n.createElement("div",{className:"mb-10"},n.createElement(rf,{type:"info"},n.createElement("div",{className:"flex flex-col gap-3"},(0,i.__)("You are now using the newest premium version of the plugin, would you like to import your data from the previous version?","advanced-database-cleaner"),n.createElement("div",{className:"flex gap-x-4"},n.createElement(w,{text:"Yes, import data",className:"!h-[2rem] !w-fit !px-4",onClick:function(){g(Bm())}}),n.createElement(w,{text:"No, don't import",className:"!h-[2rem] !w-fit !px-4",onClick:_}))))),f&&n.createElement("div",{className:"mb-10"},n.createElement(rf,{type:"warning",notificationKey:"imported_tasks_deactivated_notice"},(0,i.__)("For technical reasons, all automation tasks imported from the previous version have been paused. Please review your tasks and reactivate those you wish to continue using.","advanced-database-cleaner"),n.createElement(P,{href:"",className:"ml-1",onClick:function(e){e.preventDefault(),g(Mm({tabId:"automation"}))}},(0,i.__)("Go to automation","advanced-database-cleaner")))),!ip&&n.createElement(y.component,null))),n.createElement("div",{className:"fixed bottom-6 right-1 z-50"},n.createElement(j,{content:(0,i.__)("Help","advanced-database-cleaner"),align:"right"},n.createElement(P,{href:"#",onClick:function(e){e.preventDefault(),g(Rm())},className:"group flex h-6 w-6 items-center justify-center bg-transparent !text-blue-500 transition-all duration-200 hover:!text-blue-600 md:h-10 md:w-8"},n.createElement(he.f1Z,{className:"h-full w-full"})))))};var lp=document.getElementById("adbc-plugin-root");Jf.createRoot(lp).render(n.createElement(d.Kq,{store:Xf},n.createElement(cp,null),n.createElement(of,null),n.createElement(Df,null),n.createElement(zf,null),n.createElement(Rf,null),n.createElement(Qf,null)))}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}};return n[e].call(r.exports,r,r.exports,o),r.exports}o.m=n,e=[],o.O=(t,r,n,a)=>{if(!r){var i=1/0;for(u=0;u<e.length;u++){for(var[r,n,a]=e[u],c=!0,l=0;l<r.length;l++)(!1&a||i>=a)&&Object.keys(o.O).every((e=>o.O[e](r[l])))?r.splice(l--,1):(c=!1,a<i&&(i=a));if(c){e.splice(u--,1);var s=n();void 0!==s&&(t=s)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,n,a]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var a=Object.create(null);o.r(a);var i={};t=t||[null,r({}),r([]),r(r)];for(var c=2&n&&e;"object"==typeof c&&!~t.indexOf(c);c=r(c))Object.getOwnPropertyNames(c).forEach((t=>i[t]=()=>e[t]));return i.default=()=>e,o.d(a,i),a},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var n=r.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=r[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e+"../"})(),(()=>{var e={524:0};o.O.j=t=>0===e[t];var t=(t,r)=>{var n,a,[i,c,l]=r,s=0;if(i.some((t=>0!==e[t]))){for(n in c)o.o(c,n)&&(o.m[n]=c[n]);if(l)var u=l(o)}for(t&&t(r);s<i.length;s++)a=i[s],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(u)},r=self.webpackChunkadbc_plugin=self.webpackChunkadbc_plugin||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var i=o.O(void 0,[96],(()=>o(2384)));i=o.O(i)})();